/*
 *  Sugar Library v1.4.1
 *
 *  Freely distributable and licensed under the MIT-style license.
 *  Copyright (c) 2013 Andrew Plummer
 *  http://sugarjs.com/
 *
 * ---------------------------- */
function sendPublishRequest(e,t){$.fancybox.showLoading(),$.ajax({url:$("#bikeroar-content-table").data("target-url"),type:"PUT",data:{ids:e,authenticity_token:$("input[name=authenticity_token]").attr("value"),published:t}}).always(function(){return $.fancybox.hideLoading()})}function isAll(e){var t=0,i=$(".published-check-box").length;return $(".published-check-box").each(function(){$(this).attr(e)&&(t+=1)}),t==i}!function(){function e(e){return function(){return e}}function t(e){var t="Array"===e&&si.isArray||function(t,i){return(i||di.call(t))==="[object "+e+"]"};return gi[e]=t}function i(e,t){function i(i){return m(i)?di.call(i)==="[object "+t+"]":typeof i===e}return gi[t]=i}function n(e){e.SugarMethods||(l(e,"SugarMethods",{}),s(e,!1,!0,{extend:function(t,i,n){s(e,!1!==n,i,t)},sugarRestore:function(){return o(this,e,arguments,function(e,t,i){l(e,t,i.method)})},sugarRevert:function(){return o(this,e,arguments,function(e,t,i){i.existed?l(e,t,i.original):delete e[t]})}}))}function s(e,t,i,s){var r=t?e.prototype:e;n(e),y(s,function(n,s){var o=r[n],c=p(r,n);Si(i)&&o&&(s=a(o,s,i)),!1===i&&o||l(r,n,s),e.SugarMethods[n]={method:s,existed:c,original:o,instance:t}})}function r(e,t,i,n,r){var o={};n=wi(n)?n.split(","):n,n.forEach(function(e,t){r(o,e,t)}),s(e,t,i,o)}function o(e,t,i,n){var s=0===i.length,r=c(i),o=!1;return y(t.SugarMethods,function(t,i){(s||-1!==r.indexOf(t))&&(o=!0,n(i.instance?e.prototype:e,t,i))}),o}function a(e,t,i){return function(){return i.apply(this,arguments)?t.apply(this,arguments):e.apply(this,arguments)}}function l(e,t,i){fi?ni.defineProperty(e,t,{value:i,configurable:!0,enumerable:!1,writable:!0}):e[t]=i}function c(e,t,i){var n=[];i=i||0;var s;for(s=e.length;s>i;i++)n.push(e[i]),t&&t.call(e,e[i],i);return n}function u(e,t,i){var n=e[i||0];xi(n)&&(e=n,i=0),c(e,t,i)}function d(e){if(!e||!e.call)throw new TypeError("Callback is not callable")}function h(e){return void 0!==e}function f(e){return void 0===e}function p(e,t){return!!e&&hi.call(e,t)}function m(e){return!!e&&("object"==typeof e||pi&&ki(e))}function g(e){var t=typeof e;return null==e||"string"===t||"number"===t||"boolean"===t}function v(e,t){t=t||di.call(e);try{if(e&&e.constructor&&!p(e,"constructor")&&!p(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}return!!e&&"[object Object]"===t&&"hasOwnProperty"in e}function y(e,t){for(var i in e)if(p(e,i)&&!1===t.call(e,i,e[i],e))break}function b(e,t){for(var i=0;e>i;i++)t(i)}function _(e,t){return y(t,function(i){e[i]=t[i]}),e}function w(e){if(g(e)&&(e=ni(e)),mi&&wi(e))for(var t,i=e,n=0;t=i.charAt(n);)i[n++]=t;return e}function x(e){_(this,w(e))}function C(e,t,i){var n=$i(10,Di(t||0));return i=i||Ni,0>t&&(n=1/n),i(e*n)/n}function k(){return"	\n\f\r   ᠎             \u2028\u2029　﻿"}function S(e,t){var i="";for(e=e.toString();t>0;)1&t&&(i+=e),(t>>=1)&&(e+=e);return i}function T(e,t){var i,n;return i=e.replace(Ti,function(e){return e=Hi[e],e===Fi&&(n=!0),e}),n?parseFloat(i):parseInt(i,t||10)}function D(e,t,i,n){return n=Di(e).toString(n||10),n=S("0",t-n.replace(/\.\d+/,"").length)+n,(i||0>e)&&(n=(0>e?"-":"+")+n),n}function $(e){if(e>=11&&13>=e)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function E(e,t){function i(e,i){(e||-1<t.indexOf(i))&&(n+=i)}var n="";return t=t||"",i(e.multiline,"m"),i(e.ignoreCase,"i"),i(e.global,"g"),i(e.u,"y"),n}function I(e){return wi(e)||(e=ai(e)),e.replace(/([\\/\'*+?|()\[\]{}.^$])/g,"\\$1")}function N(e,t){return e["get"+(e._utc?"UTC":"")+t]()}function A(e,t,i){return e["set"+(e._utc&&"ISOWeek"!=t?"UTC":"")+t](i)}function M(e,t){var i,n,s,r,o,a,l,c=typeof e;if("string"===c)return e;if(s=di.call(e),i=v(e,s),n=xi(e,s),null!=e&&i||n){if(t||(t=[]),1<t.length)for(a=t.length;a--;)if(t[a]===e)return"CYC";for(t.push(e),i=e.valueOf()+ai(e.constructor),r=n?e:ni.keys(e).sort(),a=0,l=r.length;l>a;a++)o=n?a:r[a],i+=o+M(e[o],t);t.pop()}else i=-1/0===1/e?"-0":ai(e&&e.valueOf?e.valueOf():e);return c+s+i}function P(e,t){return e===t?0!==e||1/e===1/t:O(e)&&O(t)?M(e)===M(t):!1}function O(e){var t=di.call(e);return vi.test(t)||v(e,t)}function R(e,t,i){var n,s=e.length,r=t.length,o=!1!==t[r-1];return r>(o?1:2)?(n=[],c(t,function(t){return bi(t)?!1:(n.push(L(e,s,t,o,i)),void 0)}),n):L(e,s,t[0],o,i)}function L(e,t,i,n,s){return n&&(i%=t,0>i&&(i=t+i)),s?e.charAt(i):e[i]}function F(e,t){r(t,!0,!1,e,function(e,t){e[t+("equal"===t?"s":"")]=function(){return ni[t].apply(null,[this].concat(c(arguments)))}})}function z(e,t,i,n){var s=e.length,r=-1==n,o=r?s-1:0;for(i=isNaN(i)?o:parseInt(i>>0),0>i&&(i=s+i),(!r&&0>i||r&&i>=s)&&(i=o);r&&i>=0||!r&&s>i;){if(e[i]===t)return i;i+=n}return-1}function H(e,t,i,n){var s=e.length,r=0,o=h(i);if(d(t),0==s&&!o)throw new TypeError("Reduce called on empty array with no initial value");for(o||(i=e[n?s-1:r],r++);s>r;)o=n?s-r-1:r,o in e&&(i=t(i,e[o],o,e)),r++;return i}function j(e){if(0===e.length)throw new TypeError("First argument must be defined")}function W(e){return e=ri(e),function(t){return e.test(t)}}function B(e){var t=e.getTime();return function(e){return!(!e||!e.getTime)&&e.getTime()===t}}function q(e){return function(t,i,n){return t===e||e.call(this,t,i,n)}}function U(e){return function(t,i,n){return t===e||e.call(n,i,t,n)}}function V(e,t){var i={};return function(n,s,r){var o;if(!m(n))return!1;for(o in e)if(i[o]=i[o]||G(e[o],t),!1===i[o].call(r,n[o],s,r))return!1;return!0}}function Y(e){return function(t){return t===e||P(t,e)}}function G(e,t){if(!g(e)){if(ki(e))return W(e);if(Ci(e))return B(e);if(Si(e))return t?U(e):q(e);if(v(e))return V(e,t)}return Y(e)}function X(e,t,i,n){return t?t.apply?t.apply(i,n||[]):Si(e[t])?e[t].call(e):e[t]:e}function K(e,t,i,n){var s=+e.length;for(0>i&&(i=e.length+i),i=isNaN(i)?0:i,!0===n&&(s+=i);s>i;){if(n=i%e.length,!(n in e)){Q(e,t,i);break}if(!1===t.call(e,e[n],n,e))break;i++}}function Q(e,t,i){var n,s=[];for(n in e)n in e&&n>>>0==n&&4294967295!=n&&n>=i&&s.push(parseInt(n));s.sort().each(function(i){return t.call(e,e[i],i,e)})}function J(e,t,i,n,s,r){var o,a,l;return 0<e.length&&(l=G(t),K(e,function(t,i){return l.call(r,t,i,e)?(o=t,a=i,!1):void 0},i,n)),s?a:o}function Z(e,t){var i,n=[],s={};return K(e,function(r,o){i=t?X(r,t,e,[r,o,e]):r,st(s,i)||n.push(r)}),n}function et(e,t,i){var n=[],s={};return t.each(function(e){st(s,e)}),e.each(function(e){var t=M(e),r=!O(e);if(nt(s,t,e,r)!==i){var o=0;if(r)for(t=s[t];o<t.length;)t[o]===e?t.splice(o,1):o+=1;else delete s[t];n.push(e)}}),n}function tt(e,t,i){t=t||1/0,i=i||0;var n=[];return K(e,function(e){xi(e)&&t>i?n=n.concat(tt(e,t,i+1)):n.push(e)}),n}function it(e){var t=[];return c(e,function(e){t=t.concat(e)}),t}function nt(e,t,i,n){var s=t in e;return n&&(e[t]||(e[t]=[]),s=-1!==e[t].indexOf(i)),s}function st(e,t){var i=M(t),n=!O(t),s=nt(e,i,t,n);return n?e[i].push(t):e[i]=t,s}function rt(e,t,i,n){var s,r,o,a=[],l="max"===i,c="min"===i,u=si.isArray(e);for(s in e)if(e.hasOwnProperty(s)){if(i=e[s],o=X(i,t,e,u?[i,parseInt(s),e]:[]),f(o))throw new TypeError("Cannot compare with undefined");o===r?a.push(i):(f(r)||l&&o>r||c&&r>o)&&(a=[i],r=o)}return u||(a=tt(a,1)),n?a:a[0]}function ot(e,t){var i,n,s,r,o=0,a=0;i=si[qi],n=si[Ui];var l=si[Vi],c=si[Bi],u=si[Yi];e=at(e,i,n),t=at(t,i,n);do i=e.charAt(o),s=l[i]||i,i=t.charAt(o),r=l[i]||i,i=s?c.indexOf(s):null,n=r?c.indexOf(r):null,-1===i||-1===n?(i=e.charCodeAt(o)||null,n=t.charCodeAt(o)||null,u&&(i>=Pi&&Oi>=i||i>=Ri&&Li>=i)&&(n>=Pi&&Oi>=n||n>=Ri&&Li>=n)&&(i=T(e.slice(o)),n=T(t.slice(o)))):(s=s!==e.charAt(o),r=r!==t.charAt(o),s!==r&&0===a&&(a=s-r)),o+=1;while(null!=i&&null!=n&&i===n);return i===n?a:i-n}function at(e,t,i){return wi(e)||(e=ai(e)),i&&(e=e.toLowerCase()),t&&(e=e.replace(t,"")),e}function lt(e,t){r(ni,!1,!0,e,function(e,i){e[i]=function(e,n,s){var r,o=ni.keys(w(e));return t||(r=G(n,!0)),s=si.prototype[i].call(o,function(i){var s=e[i];return t?X(s,n,e,[i,s,e]):r(s,i,e)},s),xi(s)&&(s=s.reduce(function(t,i){return t[i]=e[i],t},{})),s}}),F(e,x)}function ct(e){_(this,e),this.g=an.concat()}function ut(e,t,i){var n,s,r=t[0],o=t[1],a=t[2];return t=e[i]||e.relative,Si(t)?t.call(e,r,o,a,i):(s=e.units[8*(e.plural&&r>1?1:0)+o]||e.units[o],e.capitalizeUnit&&(s=vt(s)),n=e.modifiers.filter(function(e){return"sign"==e.name&&e.value==(a>0?1:-1)})[0],t.replace(/\{(.*?)\}/g,function(e,t){switch(t){case"num":return r;case"unit":return s;case"sign":return n.src}}))}function dt(e,t){return t=t||e.code,"en"===t||"en-US"===t?!0:e.variant}function ht(e,t){return t.replace(ri(e.num,"g"),function(t){return ft(e,t)||""})}function ft(e,t){var i;return _i(t)?t:t&&-1!==(i=e.numbers.indexOf(t))?(i+1)%10:1}function pt(e,t){var i;if(wi(e)||(e=""),i=dn[e]||dn[e.slice(0,2)],!1===t&&!i)throw new TypeError("Invalid locale.");return i||Zi}function mt(e,t){function i(e){var t=a[e];wi(t)?a[e]=t.split(","):t||(a[e]=[])}function n(e,t){e=e.split("+").map(function(e){return e.replace(/(.+):(.+)$/,function(e,t,i){return i.split("|").map(function(e){return t+e}).join("|")})}).join("|"),e.split("|").forEach(t)}function s(e,t,i){var s=[];a[e].forEach(function(e,r){t&&(e+="+"+e.slice(0,3)),n(e,function(e,t){s[t*i+r]=e.toLowerCase()})}),a[e]=s}function r(e,t,i){return e="\\d{"+e+","+t+"}",i&&(e+="|(?:"+yt(a.numbers)+")+"),e}function o(e,t){a[e]=a[e]||t}var a,l;return a=new ct(t),i("modifiers"),"months weekdays units numbers articles tokens timeMarker ampm timeSuffixes dateParse timeParse".split(" ").forEach(i),l=!a.monthSuffix,s("months",l,12),s("weekdays",l,7),s("units",!1,8),s("numbers",!1,10),o("code",e),o("date",r(1,2,a.digitDate)),o("year","'\\d{2}|"+r(4,4)),o("num",function(){var e=["-?\\d+"].concat(a.articles);return a.numbers&&(e=e.concat(a.numbers)),yt(e)}()),function(){var e=[];a.i={},a.modifiers.push({name:"day",src:"yesterday",value:-1}),a.modifiers.push({name:"day",src:"today",value:0}),a.modifiers.push({name:"day",src:"tomorrow",value:1}),a.modifiers.forEach(function(t){var i=t.name;n(t.src,function(n){var s=a[i];a.i[n]=t,e.push({name:i,src:n,value:t.value}),a[i]=s?s+"|"+n:n})}),a.day+="|"+yt(a.weekdays),a.modifiers=e}(),a.monthSuffix&&(a.month=r(1,2),a.months="1 2 3 4 5 6 7 8 9 10 11 12".split(" ").map(function(e){return e+a.monthSuffix})),a.full_month=r(1,2)+"|"+yt(a.months),0<a.timeSuffixes.length&&a.addFormat(Lt(a),!1,sn),a.addFormat("{day}",!0),a.addFormat("{month}"+(a.monthSuffix||"")),a.addFormat("{year}"+(a.yearSuffix||"")),a.timeParse.forEach(function(e){a.addFormat(e,!0)}),a.dateParse.forEach(function(e){a.addFormat(e)}),dn[e]=a}function gt(e,t,i,n){e.g.unshift({r:n,locale:e,q:ri("^"+t+"$","i"),to:i})}function vt(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function yt(e){return e.filter(function(e){return!!e}).join("|")}function bt(){var e=oi.SugarNewDate;return e?e():new oi}function _t(e,t){var i;return m(e[0])?e:_i(e[0])&&!_i(e[1])?[e[0]]:wi(e[0])&&t?[wt(e[0]),e[1]]:(i={},tn.forEach(function(t,n){i[t.name]=e[n]}),[i])}function wt(e){var t,i={};return(e=e.match(/^(\d+)?\s?(\w+?)s?$/i))&&(f(t)&&(t=parseInt(e[1])||1),i[e[2].toLowerCase()]=t),i}function xt(e,t,i){var n;for(f(i)&&(i=nn.length),t=t||0;i>t&&(n=nn[t],!1!==e(n.name,n,t));t++);}function Ct(e,t){var i,n,s={};return t.forEach(function(t,r){i=e[r+1],f(i)||""===i||("year"===t&&(s.t=i.replace(/'/,"")),n=parseFloat(i.replace(/'/,"").replace(/,/,".")),s[t]=isNaN(n)?i.toLowerCase():n)}),s}function kt(e){return e=e.trim().replace(/^just (?=now)|\.+$/i,""),St(e)}function St(e){return e.replace(en,function(e,t,i){var n,s,r=0,o=1;return t?e:(i.split("").reverse().forEach(function(e){e=on[e];var t=e>9;t?(n&&(r+=o),o*=e/(s||1),s=e):(!1===n&&(o*=10),r+=o*e),n=t}),n&&(r+=o),r)})}function Tt(e,t,i,n){function s(e){f.push(e)}function r(){f.forEach(function(e){e.call()})}function o(){var e=c.getWeekday();c.setWeekday(7*(g.num-1)+(e>_?_+7:_))}function a(){var e=p.i[g.edge];xt(function(e){return h(g[e])?(v=e,!1):void 0},4),"year"===v?g.e="month":("month"===v||"week"===v)&&(g.e="day"),c[(0>e.value?"endOf":"beginningOf")+vt(v)](),-2===e.value&&c.reset()}function l(){var e;xt(function(t,i,n){if("day"===t&&(t="date"),h(g[t])){if(n>=b)return c.setTime(0/0),!1;e=e||{},e[t]=g[t],delete g[t]}}),e&&s(function(){c.set(e,!0)})}var c,u,d,f,p,g,v,b,_,w,x;return c=bt(),f=[],c.utc(n),Ci(e)?c.utc(e.isUTC()).setTime(e.getTime()):_i(e)?c.setTime(e):m(e)?(c.set(e,!0),g=e):wi(e)&&(d=pt(t),e=kt(e),d&&y(d.o?[d.o].concat(d.g):d.g,function(i,n){var r=e.match(n.q);return r?(p=n.locale,g=Ct(r,n.to),p.o=n,g.utc&&c.utc(),g.timestamp?(g=g.timestamp,!1):(n.r&&!wi(g.month)&&(wi(g.date)||dt(d,t))&&(x=g.month,g.month=g.date,g.date=x),g.year&&2===g.t.length&&(g.year=100*Ni(N(bt(),"FullYear")/100)-100*Ni(g.year/100)+g.year),g.month&&(g.month=p.getMonth(g.month),g.shift&&!g.unit&&(g.unit=p.units[7])),g.weekday&&g.date?delete g.weekday:g.weekday&&(g.weekday=p.getWeekday(g.weekday),g.shift&&!g.unit&&(g.unit=p.units[5])),g.day&&(x=p.i[g.day])?(g.day=x.value,c.reset(),u=!0):g.day&&-1<(_=p.getWeekday(g.day))&&(delete g.day,g.num&&g.month?(s(o),g.day=1):g.weekday=_),g.date&&!_i(g.date)&&(g.date=ht(p,g.date)),g.ampm&&g.ampm===p.ampm[1]&&12>g.hour?g.hour+=12:g.ampm===p.ampm[0]&&12===g.hour&&(g.hour=0),("offset_hours"in g||"offset_minutes"in g)&&(c.utc(),g.offset_minutes=g.offset_minutes||0,g.offset_minutes+=60*g.offset_hours,"-"===g.offset_sign&&(g.offset_minutes*=-1),g.minute-=g.offset_minutes),g.unit&&(u=!0,w=ft(p,g.num),b=p.units.indexOf(g.unit)%8,v=Ji.units[b],l(),g.shift&&(w*=(x=p.i[g.shift])?x.value:0),g.sign&&(x=p.i[g.sign])&&(w*=x.value),h(g.weekday)&&(c.set({weekday:g.weekday},!0),delete g.weekday),g[v]=(g[v]||0)+w),g.edge&&s(a),"-"===g.year_sign&&(g.year*=-1),xt(function(e,t,i){t=g[e];var n=t%1;n&&(g[nn[i-1].name]=Ni(n*("second"===e?1e3:60)),g[e]=Ii(t))},1,4),!1)):void 0}),g?u?c.advance(g):(c._utc&&c.reset(),Rt(c,g,!0,!1,i)):("now"!==e&&(c=new oi(e)),n&&c.addMinutes(-c.getTimezoneOffset())),r(),c.utc(!1)),{c:c,set:g}}function Dt(e){var t,i=Di(e),n=i,s=0;return xt(function(e,r,o){t=Ii(C(i/r.b(),1)),t>=1&&(n=t,s=o)},1),[n,s,e]}function $t(e){var t=Dt(e.millisecondsFromNow());return(6===t[1]||5===t[1]&&4===t[0]&&e.daysFromNow()>=bt().daysInMonth())&&(t[0]=Di(e.monthsFromNow()),t[1]=6),t}function Et(e,t,i){function n(e,i){var n=N(e,"Month");return pt(i).months[n+12*t]}It(e,n,i),It(vt(e),n,i,1)}function It(e,t,i,n){cn[e]=function(e,s){var r=t(e,s);return i&&(r=r.slice(0,i)),n&&(r=r.slice(0,n).toUpperCase()+r.slice(n)),r}}function Nt(e,t,i){cn[e]=t,cn[e+e]=function(e,i){return D(t(e,i),2)},i&&(cn[e+e+e]=function(e,i){return D(t(e,i),3)},cn[e+e+e+e]=function(e,i){return D(t(e,i),4)})}function At(e){var t=e.match(/(\{\w+\})|[^{}]+/g);ln[e]=t.map(function(e){return e.replace(/\{(\w+)\}/,function(t,i){return e=cn[i]||i,i}),e})}function Mt(e,t,i,n){var s;if(!e.isValid())return"Invalid Date";if(Date[t]?t=Date[t]:Si(t)&&(s=$t(e),t=t.apply(e,s.concat(pt(n)))),!t&&i)return s=s||$t(e),0===s[1]&&(s[1]=1,s[0]=1),e=pt(n),ut(e,s,0<s[2]?"future":"past");t=t||"long",("short"===t||"long"===t||"full"===t)&&(t=pt(n)[t]),ln[t]||At(t);var r,o;for(s="",t=ln[t],r=0,i=t.length;i>r;r++)o=t[r],s+=Si(o)?o(e,n):o;return s}function Pt(e,t,i,n,s){var r,o,a,l=0,c=0,u=0;return r=Tt(t,i,null,s),n>0&&(c=u=n,o=!0),r.c.isValid()?(r.set&&r.set.e&&(un.forEach(function(t){t.name===r.set.e&&(l=t.b(r.c,e-r.c)-1)}),t=vt(r.set.e),(r.set.edge||r.set.shift)&&r.c["beginningOf"+t](),"month"===r.set.e&&(a=r.c.clone()["endOf"+t]().getTime()),!o&&r.set.sign&&"millisecond"!=r.set.e&&(c=50,u=-50)),o=e.getTime(),t=r.c.getTime(),a=Ot(e,t,a||t+l),o>=t-c&&a+u>=o):!1}function Ot(e,t,i){return t=new oi(t),e=new oi(i).utc(e.isUTC()),23!==N(e,"Hours")&&(t=t.getTimezoneOffset(),e=e.getTimezoneOffset(),t!==e&&(i+=(e-t).minutes())),i}function Rt(e,t,i,n,s){function r(e){return h(t[e])?t[e]:t[e+"s"]}function o(e){return h(r(e))}var a;if(_i(t)&&n)t={milliseconds:t};else if(_i(t))return e.setTime(t),e;h(t.date)&&(t.day=t.date),xt(function(n,s,r){var l="day"===n;return o(n)||l&&o("weekday")?(t.e=n,a=+r,!1):(!i||"week"===n||l&&o("week")||A(e,s.method,l?1:0),void 0)}),un.forEach(function(i){var s=i.name;i=i.method;var a;a=r(s),f(a)||(n?("week"===s&&(a=(t.day||0)+7*a,i="Date"),a=a*n+N(e,i)):"month"===s&&o("day")&&A(e,"Date",15),A(e,i,a),n&&"month"===s&&(s=a,0>s&&(s=s%12+12),s%12!=N(e,"Month")&&A(e,"Date",0)))}),n||o("day")||!o("weekday")||e.setWeekday(r("weekday"));var l;e:{switch(s){case-1:l=e>bt();break e;case 1:l=e<bt();break e}l=void 0}return l&&xt(function(t,i){return!(i.k||"week"===t&&o("weekday"))||o(t)||"day"===t&&o("weekday")?void 0:(e[i.j](s),!1)},a+1),e}function Lt(e,t){var i,n=rn,s={h:0,m:1,s:2};return e=e||Ji,n.replace(/{([a-z])}/g,function(n,r){var o=[],a="h"===r,l=a&&!t;return"t"===r?e.ampm.join("|"):(a&&o.push(":"),(i=e.timeSuffixes[s[r]])&&o.push(i+"\\s*"),0===o.length?"":"(?:"+o.join("|")+")"+(l?"":"?"))})}function Ft(e,t,i){var n,s;return _i(e[1])?n=_t(e)[0]:(n=e[0],s=e[1]),Tt(n,s,t,i).c}function zt(e,t){function i(){return Ni(this*t)}function n(){return Ft(arguments)[e.j](this)}function s(){return Ft(arguments)[e.j](-this)}var r=e.name,o={};o[r]=i,o[r+"s"]=i,o[r+"Before"]=s,o[r+"sBefore"]=s,o[r+"Ago"]=s,o[r+"sAgo"]=s,o[r+"After"]=n,o[r+"sAfter"]=n,o[r+"FromNow"]=n,o[r+"sFromNow"]=n,li.extend(o)}function Ht(e,t){this.start=jt(e),this.end=jt(t)}function jt(e){return Ci(e)?new oi(e.getTime()):null==e?e:Ci(e)?e.getTime():e.valueOf()}function Wt(e){return e=null==e?e:Ci(e)?e.getTime():e.valueOf(),!!e||0===e}function Bt(e,t){var i,n,s,r;return _i(t)?new oi(e.getTime()+t):(i=t[0],n=t[1],s=N(e,n),r=new oi(e.getTime()),A(r,n,s+i),r)}function qt(e,t){return ai.fromCharCode(e.charCodeAt(0)+t)}function Ut(e,t){return e+t}function Vt(e,t,i,n,s){1/0!==t&&(e.timers||(e.timers=[]),_i(t)||(t=1),e.n=!1,e.timers.push(setTimeout(function(){e.n||i.apply(n,s||[])},t)))}function Yt(e,t,i,n,s,r){var o=e.toFixed(20),a=o.search(/\./),o=o.search(/[1-9]/),a=a-o;return a>0&&(a-=1),s=Mi(Ai(Ii(a/3),!1===s?i.length:s),-n),n=i.charAt(s+n-1),-9>a&&(s=-3,t=Di(a)-9,n=i.slice(0,1)),i=r?$i(2,10*s):$i(10,3*s),C(e/i,t||0).format()+n.trim()}function Gt(e,t,i,n){var s,r,o;(r=t.match(/^(.+?)(\[.*\])$/))?(o=r[1],t=r[2].replace(/^\[|\]$/g,"").split("]["),t.forEach(function(t){s=!t||t.match(/^\d+$/),!o&&xi(e)&&(o=e.length),p(e,o)||(e[o]=s?[]:{}),e=e[o],o=t}),!o&&s&&(o=e.length.toString()),Gt(e,o,i,n)):e[t]=n&&"true"===i?!0:n&&"false"===i?!1:i}function Xt(e,t){var i;return xi(t)||m(t)&&t.toString===di?(i=[],y(t,function(t,n){e&&(t=e+"["+t+"]"),i.push(Xt(t,n))}),i.join("&")):e?Kt(e)+"="+(Ci(t)?t.getTime():Kt(t)):""}function Kt(e){return e||!1===e||0===e?encodeURIComponent(e).replace(/%20/g,"+"):""}function Qt(e,t,i){var n,s=e instanceof x?new x:{};return y(e,function(e,r){n=!1,u(t,function(t){(ki(t)?t.test(e):m(t)?t[e]===r:e===ai(t))&&(n=!0)},1),n===i&&(s[e]=r)}),s}function Jt(e){if(e=+e,0>e||1/0===e)throw new RangeError("Invalid number");return e}function Zt(e,t){return S(h(t)?t:" ",e)}function ei(e,t,i,n,s){var r;if(e.length<=t)return e.toString();switch(n=f(n)?"...":n,i){case"left":return e=s?ti(e,t,!0):e.slice(e.length-t),n+e;case"middle":return i=Ei(t/2),r=Ii(t/2),t=s?ti(e,i):e.slice(0,i),e=s?ti(e,r,!0):e.slice(e.length-r),t+n+e;default:return t=s?ti(e,t):e.slice(0,t),t+n}}function ti(e,t,i){if(i)return ti(e.reverse(),t).reverse();i=ri("(?=["+k()+"])");var n=0;return e.split(i).filter(function(e){return n+=e.length,t>=n}).join("")}function ii(e,t,i){return wi(t)&&(t=e.indexOf(t),-1===t&&(t=i?e.length:0)),t}var ni=Object,si=Array,ri=RegExp,oi=Date,ai=String,li=Number,ci=Math,ui="undefined"!=typeof global?global:this,di=ni.prototype.toString,hi=ni.prototype.hasOwnProperty,fi=ni.defineProperty&&ni.defineProperties,pi="function"==typeof ri(),mi=!("0"in new ai("a")),gi={},vi=/^\[object Date|Array|String|Number|RegExp|Boolean|Arguments\]$/,yi="Boolean Number String Array Date RegExp Function".split(" "),bi=i("boolean",yi[0]),_i=i("number",yi[1]),wi=i("string",yi[2]),xi=t(yi[3]),Ci=t(yi[4]),ki=t(yi[5]),Si=t(yi[6]);x.prototype.constructor=ni;var Ti,Di=ci.abs,$i=ci.pow,Ei=ci.ceil,Ii=ci.floor,Ni=ci.round,Ai=ci.min,Mi=ci.max,Pi=48,Oi=57,Ri=65296,Li=65305,Fi=".",zi="",Hi={};n(ni),y(yi,function(e,t){n(ui[t])});var ji,Wi;for(Wi=0;9>=Wi;Wi++)ji=ai.fromCharCode(Wi+Ri),zi+=ji,Hi[ji]=ai.fromCharCode(Wi+Pi);Hi[","]="",Hi["．"]=Fi,Hi[Fi]=Fi,Ti=ri("["+zi+"．,"+Fi+"]","g"),s(ni,!1,!1,{keys:function(e){var t=[];if(!m(e)&&!ki(e)&&!Si(e))throw new TypeError("Object required");return y(e,function(e){t.push(e)}),t}}),s(si,!1,!1,{isArray:function(e){return xi(e)}}),s(si,!0,!1,{every:function(e,t){var i=this.length,n=0;for(j(arguments);i>n;){if(n in this&&!e.call(t,this[n],n,this))return!1;n++}return!0},some:function(e,t){var i=this.length,n=0;for(j(arguments);i>n;){if(n in this&&e.call(t,this[n],n,this))return!0;n++}return!1},map:function(e,t){t=arguments[1];var i=this.length,n=0,s=Array(i);for(j(arguments);i>n;)n in this&&(s[n]=e.call(t,this[n],n,this)),n++;return s},filter:function(e){var t=arguments[1],i=this.length,n=0,s=[];for(j(arguments);i>n;)n in this&&e.call(t,this[n],n,this)&&s.push(this[n]),n++;return s},indexOf:function(e,t){return wi(this)?this.indexOf(e,t):z(this,e,t,1)},lastIndexOf:function(e,t){return wi(this)?this.lastIndexOf(e,t):z(this,e,t,-1)},forEach:function(e,t){var i=this.length,n=0;for(d(e);i>n;)n in this&&e.call(t,this[n],n,this),n++},reduce:function(e,t){return H(this,e,t)},reduceRight:function(e,t){return H(this,e,t,!0)}}),s(Function,!0,!1,{bind:function(e){var t,i=this,n=c(arguments,null,1);if(!Si(this))throw new TypeError("Function.prototype.bind called on a non-function");return t=function(){return i.apply(i.prototype&&this instanceof i?this:e,n.concat(c(arguments)))},t.prototype=this.prototype,t}}),s(oi,!1,!1,{now:function(){return(new oi).getTime()}}),function(){var e=k().match(/^\s+$/);try{ai.prototype.trim.call([1])}catch(t){e=!1}s(ai,!0,!e,{trim:function(){return this.toString().trimLeft().trimRight()},trimLeft:function(){return this.replace(ri("^["+k()+"]+"),"")},trimRight:function(){return this.replace(ri("["+k()+"]+$"),"")}})}(),function(){var e=new oi(oi.UTC(1999,11,31)),e=e.toISOString&&"1999-12-31T00:00:00.000Z"===e.toISOString();r(oi,!0,!e,"toISOString,toJSON",function(e,t){e[t]=function(){return D(this.getUTCFullYear(),4)+"-"+D(this.getUTCMonth()+1,2)+"-"+D(this.getUTCDate(),2)+"T"+D(this.getUTCHours(),2)+":"+D(this.getUTCMinutes(),2)+":"+D(this.getUTCSeconds(),2)+"."+D(this.getUTCMilliseconds(),3)+"Z"}})}();var Bi="AlphanumericSortOrder",qi="AlphanumericSortIgnore",Ui="AlphanumericSortIgnoreCase",Vi="AlphanumericSortEquivalents",Yi="AlphanumericSortNatural";s(si,!1,!0,{create:function(){var e=[];return c(arguments,function(t){(!g(t)&&"length"in t&&("[object Arguments]"===di.call(t)||t.callee)||!g(t)&&"length"in t&&!wi(t)&&!v(t))&&(t=si.prototype.slice.call(t,0)),e=e.concat(t)}),e}}),s(si,!0,!1,{find:function(e,t){return d(e),J(this,e,0,!1,!1,t)},findIndex:function(e,t){var i;return d(e),i=J(this,e,0,!1,!0,t),f(i)?-1:i}}),s(si,!0,!0,{findFrom:function(e,t,i){return J(this,e,t,i)},findIndexFrom:function(e,t,i){return t=J(this,e,t,i,!0),f(t)?-1:t},findAll:function(e,t,i){var n,s=[];return 0<this.length&&(n=G(e),K(this,function(e,t,i){n(e,t,i)&&s.push(e)},t,i)),s},count:function(e){return f(e)?this.length:this.findAll(e).length},removeAt:function(e,t){return f(e)?this:(f(t)&&(t=e),this.splice(e,t-e+1),this)},include:function(e,t){return this.clone().add(e,t)},exclude:function(){return si.prototype.remove.apply(this.clone(),arguments)},clone:function(){return _([],this)},unique:function(e){return Z(this,e)},flatten:function(e){return tt(this,e)},union:function(){return Z(this.concat(it(arguments)))},intersect:function(){return et(this,it(arguments),!1)},subtract:function(){return et(this,it(arguments),!0)},at:function(){return R(this,arguments)},first:function(e){return f(e)?this[0]:(0>e&&(e=0),this.slice(0,e))},last:function(e){return f(e)?this[this.length-1]:this.slice(0>this.length-e?0:this.length-e)},from:function(e){return this.slice(e)},to:function(e){return f(e)&&(e=this.length),this.slice(0,e)},min:function(e,t){return rt(this,e,"min",t)},max:function(e,t){return rt(this,e,"max",t)},least:function(e,t){return rt(this.groupBy.apply(this,[e]),"length","min",t)},most:function(e,t){return rt(this.groupBy.apply(this,[e]),"length","max",t)},sum:function(e){return e=e?this.map(e):this,0<e.length?e.reduce(function(e,t){return e+t}):0},average:function(e){return e=e?this.map(e):this,0<e.length?e.sum()/e.length:0},inGroups:function(e,t){var i=1<arguments.length,n=this,s=[],r=Ei(this.length/e);return b(e,function(e){e*=r;var o=n.slice(e,e+r);i&&o.length<r&&b(r-o.length,function(){o=o.add(t)}),s.push(o)}),s},inGroupsOf:function(e,t){var i,n=[],s=this.length,r=this;return 0===s||0===e?r:(f(e)&&(e=1),f(t)&&(t=null),b(Ei(s/e),function(s){for(i=r.slice(e*s,e*s+e);i.length<e;)i.push(t);n.push(i)}),n)},isEmpty:function(){return 0==this.compact().length},sortBy:function(e,t){var i=this.clone();return i.sort(function(n,s){var r,o;return r=X(n,e,i,[n]),o=X(s,e,i,[s]),(wi(r)&&wi(o)?ot(r,o):o>r?-1:r>o?1:0)*(t?-1:1)}),i},randomize:function(){for(var e,t,i=this.concat(),n=i.length;n;)e=0|ci.random()*n,t=i[--n],i[n]=i[e],i[e]=t;return i},zip:function(){var e=c(arguments);return this.map(function(t,i){return[t].concat(e.map(function(e){return i in e?e[i]:null}))})},sample:function(e){var t=this.randomize();return 0<arguments.length?t.slice(0,e):t[0]},each:function(e,t,i){return K(this,e,t,i),this},add:function(e,t){return(!_i(li(t))||isNaN(t))&&(t=this.length),si.prototype.splice.apply(this,[t,0].concat(e)),this},remove:function(){var e=this;return c(arguments,function(t){var i=0;for(t=G(t);i<e.length;)t(e[i],i,e)?e.splice(i,1):i++}),e},compact:function(e){var t=[];return K(this,function(i){xi(i)?t.push(i.compact()):e&&i?t.push(i):e||null==i||i.valueOf()!==i.valueOf()||t.push(i)}),t},groupBy:function(e,t){var i,n=this,s={};return K(n,function(t,r){i=X(t,e,n,[t,r,n]),s[i]||(s[i]=[]),s[i].push(t)}),t&&y(s,t),s},none:function(){return!this.any.apply(this,arguments)}}),s(si,!0,!0,{all:si.prototype.every,any:si.prototype.some,insert:si.prototype.add}),s(ni,!1,!0,{map:function(e,t){var i,n,s={};for(i in e)p(e,i)&&(n=e[i],s[i]=X(n,t,e,[i,n,e]));return s},reduce:function(e){var t=ni.keys(w(e)).map(function(t){return e[t]});return t.reduce.apply(t,c(arguments,null,1))},each:function(e,t){return d(t),y(e,t),e},size:function(e){return ni.keys(w(e)).length}});var Gi="any all none count find findAll isEmpty".split(" "),Xi="sum average min max least most".split(" "),Ki=["map","reduce","size"],Qi=Gi.concat(Xi).concat(Ki);!function(){function e(){var e=arguments;return 0<e.length&&!Si(e[0])}var t=si.prototype.map;r(si,!0,e,"every,all,some,filter,any,none,find,findIndex",function(e,t){var i=si.prototype[t];e[t]=function(e){var t=G(e);return i.call(this,function(e,i){return t(e,i,this)})}}),s(si,!0,e,{map:function(e){return t.call(this,function(t,i){return X(t,e,this,[t,i,this])})}})}(),function(){si[Bi]="AÁÀÂÃĄBCĆČÇDĎÐEÉÈĚÊËĘFGĞHıIÍÌİÎÏJKLŁMNŃŇÑOÓÒÔPQRŘSŚŠŞTŤUÚÙŮÛÜVWXYÝZŹŻŽÞÆŒØÕÅÄÖ".split("").map(function(e){return e+e.toLowerCase()}).join("");var e={};K("AÁÀÂÃÄ CÇ EÉÈÊË IÍÌİÎÏ OÓÒÔÕÖ Sß UÚÙÛÜ".split(" "),function(t){var i=t.charAt(0);K(t.slice(1).split(""),function(t){e[t]=i,e[t.toLowerCase()]=i.toLowerCase()})}),si[Yi]=!0,si[Ui]=!0,si[Vi]=e}(),lt(Gi),lt(Xi,!0),F(Ki,x),si.AlphanumericSort=ot;var Ji,Zi,en,tn,nn,sn="ampm hour minute second ampm utc offset_sign offset_hours offset_minutes ampm".split(" "),rn="({t})?\\s*(\\d{1,2}(?:[,.]\\d+)?)(?:{h}([0-5]\\d(?:[,.]\\d+)?)?{m}(?::?([0-5]\\d(?:[,.]\\d+)?){s})?\\s*(?:({t})|(Z)|(?:([+-])(\\d{2,2})(?::?(\\d{2,2}))?)?)?|\\s*({t}))",on={},an=[],ln={},cn={yyyy:function(e){return N(e,"FullYear")},yy:function(e){return N(e,"FullYear")%100},ord:function(e){return e=N(e,"Date"),e+$(e)},tz:function(e){return e.getUTCOffset()},isotz:function(e){return e.getUTCOffset(!0)},Z:function(e){return e.getUTCOffset()},ZZ:function(e){return e.getUTCOffset().replace(/(\d{2})$/,":$1")}},un=[{name:"year",method:"FullYear",k:!0,b:function(e){return 864e5*(365+(e?e.isLeapYear()?1:0:.25))}},{name:"month",error:.919,method:"Month",k:!0,b:function(e,t){var i,n=30.4375;return e&&(i=e.daysInMonth(),t<=i.days()&&(n=i)),864e5*n}},{name:"week",method:"ISOWeek",b:e(6048e5)},{name:"day",error:.958,method:"Date",k:!0,b:e(864e5)},{name:"hour",method:"Hours",b:e(36e5)},{name:"minute",method:"Minutes",b:e(6e4)},{name:"second",method:"Seconds",b:e(1e3)},{name:"millisecond",method:"Milliseconds",b:e(1)}],dn={};ct.prototype={getMonth:function(e){return _i(e)?e-1:this.months.indexOf(e)%12},getWeekday:function(e){return this.weekdays.indexOf(e)%7},addFormat:function(e,t,i,n,s){var r,o=i||[],a=this;e=e.replace(/\s+/g,"[,. ]*"),e=e.replace(/\{([^,]+?)\}/g,function(e,t){var n,s,r,l=t.match(/\?$/);r=t.match(/^(\d+)\??$/);var c=t.match(/(\d)(?:-(\d))?/),u=t.replace(/[^a-z]+$/,"");return r?n=a.tokens[r[1]]:a[u]?n=a[u]:a[u+"s"]&&(n=a[u+"s"],c&&(s=[],n.forEach(function(e,t){var i=t%(a.units?8:n.length);i>=c[1]&&i<=(c[2]||c[1])&&s.push(e)}),n=s),n=yt(n)),r?r="(?:"+n+")":(i||o.push(u),r="("+n+")"),l&&(r+="?"),r}),t?(t=Lt(a,s),s=["t","[\\s\\u3000]"].concat(a.timeMarker),r=e.match(/\\d\{\d,\d\}\)+\??$/),gt(a,"(?:"+t+")[,\\s\\u3000]+?"+e,sn.concat(o),n),gt(a,e+"(?:[,\\s]*(?:"+s.join("|")+(r?"+":"*")+")"+t+")?",o.concat(sn),n)):gt(a,e,o,n)}},s(oi,!1,!0,{create:function(){return Ft(arguments)},past:function(){return Ft(arguments,-1)},future:function(){return Ft(arguments,1)},addLocale:function(e,t){return mt(e,t)},setLocale:function(e){var t=pt(e,!1);return Zi=t,e&&e!=t.code&&(t.code=e),t},getLocale:function(e){return e?pt(e,!1):Zi},addFormat:function(e,t,i){gt(pt(i),e,t)}}),s(oi,!0,!0,{set:function(){var e=_t(arguments);return Rt(this,e[0],e[1])},setWeekday:function(e){return f(e)?void 0:A(this,"Date",N(this,"Date")+e-N(this,"Day"))},setISOWeek:function(e){var t=N(this,"Day")||7;return f(e)?void 0:(this.set({month:0,date:4}),this.set({weekday:1}),e>1&&this.addWeeks(e-1),1!==t&&this.advance({days:t-1}),this.getTime())},getISOWeek:function(){var e;e=this.clone();var t=N(e,"Day")||7;return e.addDays(4-t).reset(),1+Ii(e.daysSince(e.clone().beginningOfYear())/7)},beginningOfISOWeek:function(){var e=this.getDay();return 0===e?e=-6:1!==e&&(e=1),this.setWeekday(e),this.reset()},endOfISOWeek:function(){return 0!==this.getDay()&&this.setWeekday(7),this.endOfDay()},getUTCOffset:function(e){var t=this._utc?0:this.getTimezoneOffset(),i=!0===e?":":"";return!t&&e?"Z":D(Ii(-t/60),2,!0)+i+D(Di(t%60),2)},utc:function(e){return l(this,"_utc",!0===e||0===arguments.length),this},isUTC:function(){return!!this._utc||0===this.getTimezoneOffset()},advance:function(){var e=_t(arguments,!0);return Rt(this,e[0],e[1],1)},rewind:function(){var e=_t(arguments,!0);return Rt(this,e[0],e[1],-1)},isValid:function(){return!isNaN(this.getTime())},isAfter:function(e,t){return this.getTime()>oi.create(e).getTime()-(t||0)},isBefore:function(e,t){return this.getTime()<oi.create(e).getTime()+(t||0)},isBetween:function(e,t,i){var n=this.getTime();e=oi.create(e).getTime();var s=oi.create(t).getTime();return t=Ai(e,s),e=Mi(e,s),i=i||0,n>t-i&&e+i>n},isLeapYear:function(){var e=N(this,"FullYear");return 0===e%4&&0!==e%100||0===e%400},daysInMonth:function(){return 32-N(new oi(N(this,"FullYear"),N(this,"Month"),32),"Date")},format:function(e,t){return Mt(this,e,!1,t)},relative:function(e,t){return wi(e)&&(t=e,e=null),Mt(this,e,!0,t)},is:function(e,t,i){var n,s;if(this.isValid()){if(wi(e))switch(e=e.trim().toLowerCase(),s=this.clone().utc(i),!0){case"future"===e:return this.getTime()>bt().getTime();case"past"===e:return this.getTime()<bt().getTime();case"weekday"===e:return 0<N(s,"Day")&&6>N(s,"Day");case"weekend"===e:return 0===N(s,"Day")||6===N(s,"Day");case-1<(n=Ji.weekdays.indexOf(e)%7):return N(s,"Day")===n;case-1<(n=Ji.months.indexOf(e)%12):return N(s,"Month")===n}return Pt(this,e,null,t,i)}},reset:function(e){var t,i={};return e=e||"hours","date"===e&&(e="days"),t=un.some(function(t){return e===t.name||e===t.name+"s"}),i[e]=e.match(/^days?/)?1:0,t?this.set(i,!0):this},clone:function(){var e=new oi(this.getTime());return e.utc(!!this._utc),e}}),s(oi,!0,!0,{iso:function(){return this.toISOString()},getWeekday:oi.prototype.getDay,getUTCWeekday:oi.prototype.getUTCDay}),s(li,!0,!0,{duration:function(e){return e=pt(e),ut(e,Dt(this),"duration")}}),Ji=Zi=oi.addLocale("en",{plural:!0,timeMarker:"at",ampm:"am,pm",months:"January,February,March,April,May,June,July,August,September,October,November,December",weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",units:"millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s",numbers:"one,two,three,four,five,six,seven,eight,nine,ten",articles:"a,an,the",tokens:"the,st|nd|rd|th,of","short":"{Month} {d}, {yyyy}","long":"{Month} {d}, {yyyy} {h}:{mm}{tt}",full:"{Weekday} {Month} {d}, {yyyy} {h}:{mm}:{ss}{tt}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",modifiers:[{name:"sign",src:"ago|before",value:-1},{name:"sign",src:"from now|after|from|in|later",value:1},{name:"edge",src:"last day",value:-2},{name:"edge",src:"end",value:-1},{name:"edge",src:"first day|beginning",value:1},{name:"shift",src:"last",value:-1},{name:"shift",src:"the|this",value:0},{name:"shift",src:"next",value:1}],dateParse:["{month} {year}","{shift} {unit=5-7}","{0?} {date}{1}","{0?} {edge} of {shift?} {unit=4-7?}{month?}{year?}"],timeParse:"{num} {unit} {sign};{sign} {num} {unit};{0} {num}{1} {day} of {month} {year?};{weekday?} {month} {date}{1?} {year?};{date} {month} {year};{date} {month};{shift} {weekday};{shift} week {weekday};{weekday} {2?} {shift} week;{num} {unit=4-5} {sign} {day};{0?} {date}{1} of {month};{0?}{month?} {date?}{1?} of {shift} {unit=6-7}".split(";")}),nn=un.concat().reverse(),tn=un.concat(),tn.splice(2,1),r(oi,!0,!0,un,function(e,t,i){function n(e){e/=l;
var i=e%1,n=t.error||.999;return i&&Di(i%1)>n&&(e=Ni(e)),0>e?Ei(e):Ii(e)}var s,r,o=t.name,a=vt(o),l=t.b();t.j="add"+a+"s",s=function(e,t){return n(this.getTime()-oi.create(e,t).getTime())},r=function(e,t){return n(oi.create(e,t).getTime()-this.getTime())},e[o+"sAgo"]=r,e[o+"sUntil"]=r,e[o+"sSince"]=s,e[o+"sFromNow"]=s,e[t.j]=function(e,t){var i={};return i[o]=e,this.advance(i,t)},zt(t,l),3>i&&["Last","This","Next"].forEach(function(t){e["is"+t+a]=function(){return Pt(this,t+" "+o,"en")}}),4>i&&(e["beginningOf"+a]=function(){var e={};switch(o){case"year":e.year=N(this,"FullYear");break;case"month":e.month=N(this,"Month");break;case"day":e.day=N(this,"Date");break;case"week":e.weekday=0}return this.set(e,!0)},e["endOf"+a]=function(){var e={hours:23,minutes:59,seconds:59,milliseconds:999};switch(o){case"year":e.month=11,e.day=31;break;case"month":e.day=this.daysInMonth();break;case"week":e.weekday=6}return this.set(e,!0)})}),Ji.addFormat("([+-])?(\\d{4,4})[-.]?{full_month}[-.]?(\\d{1,2})?",!0,["year_sign","year","month","date"],!1,!0),Ji.addFormat("(\\d{1,2})[-.\\/]{full_month}(?:[-.\\/](\\d{2,4}))?",!0,["date","month","year"],!0),Ji.addFormat("{full_month}[-.](\\d{4,4})",!1,["month","year"]),Ji.addFormat("\\/Date\\((\\d+(?:[+-]\\d{4,4})?)\\)\\/",!1,["timestamp"]),Ji.addFormat(Lt(Ji),!1,sn),an=Ji.g.slice(0,7).reverse(),Ji.g=Ji.g.slice(7).concat(an),Nt("f",function(e){return N(e,"Milliseconds")},!0),Nt("s",function(e){return N(e,"Seconds")}),Nt("m",function(e){return N(e,"Minutes")}),Nt("h",function(e){return N(e,"Hours")%12||12}),Nt("H",function(e){return N(e,"Hours")}),Nt("d",function(e){return N(e,"Date")}),Nt("M",function(e){return N(e,"Month")+1}),function(){function e(e,t){var i=N(e,"Hours");return pt(t).ampm[Ii(i/12)]||""}It("t",e,1),It("tt",e),It("T",e,1,1),It("TT",e,null,2)}(),function(){function e(e,t){var i=N(e,"Day");return pt(t).weekdays[i]}It("dow",e,3),It("Dow",e,3,1),It("weekday",e),It("Weekday",e,null,1)}(),Et("mon",0,3),Et("month",0),Et("month2",1),Et("month3",2),cn.ms=cn.f,cn.milliseconds=cn.f,cn.seconds=cn.s,cn.minutes=cn.m,cn.hours=cn.h,cn["24hr"]=cn.H,cn["12hr"]=cn.h,cn.date=cn.d,cn.day=cn.d,cn.year=cn.yyyy,r(oi,!0,!0,"short,long,full",function(e,t){e[t]=function(e){return Mt(this,t,!1,e)}}),"〇一二三四五六七八九十百千万".split("").forEach(function(e,t){t>9&&(t=$i(10,t-9)),on[e]=t}),_(on,Hi),en=ri("([期週周])?([〇一二三四五六七八九十百千万"+zi+"]+)(?!昨)","g"),function(){var e=Ji.weekdays.slice(0,7),t=Ji.months.slice(0,12);r(oi,!0,!0,"today yesterday tomorrow weekday weekend future past".split(" ").concat(e).concat(t),function(e,t){e["is"+vt(t)]=function(e){return this.is(t,0,e)}})}(),oi.utc||(oi.utc={create:function(){return Ft(arguments,0,!0)},past:function(){return Ft(arguments,-1,!0)},future:function(){return Ft(arguments,1,!0)}}),s(oi,!1,!0,{RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {tz}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {tz}",ISO8601_DATE:"{yyyy}-{MM}-{dd}",ISO8601_DATETIME:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{fff}{isotz}"}),Ht.prototype.toString=function(){return this.isValid()?this.start+".."+this.end:"Invalid Range"},s(Ht,!0,!0,{isValid:function(){return Wt(this.start)&&Wt(this.end)&&typeof this.start==typeof this.end},span:function(){return this.isValid()?Di((wi(this.end)?this.end.charCodeAt(0):this.end)-(wi(this.start)?this.start.charCodeAt(0):this.start))+1:0/0},contains:function(e){return null==e?!1:e.start&&e.end?e.start>=this.start&&e.start<=this.end&&e.end>=this.start&&e.end<=this.end:e>=this.start&&e<=this.end},every:function(e,t){var i,n=this.start,s=this.end,r=n>s,o=n,a=0,l=[];for(Si(e)&&(t=e,e=null),e=e||1,_i(n)?i=Ut:wi(n)?i=qt:Ci(n)&&(i=e,_i(i)?e=i:(n=i.toLowerCase().match(/^(\d+)?\s?(\w+?)s?$/i),i=parseInt(n[1])||1,n=n[2].slice(0,1).toUpperCase()+n[2].slice(1),n.match(/hour|minute|second/i)?n+="s":"Year"===n?n="FullYear":"Day"===n&&(n="Date"),e=[i,n]),i=Bt),r&&e>0&&(e*=-1);r?o>=s:s>=o;)l.push(o),t&&t(o,a),o=i(o,e),a++;return l},union:function(e){return new Ht(this.start<e.start?this.start:e.start,this.end>e.end?this.end:e.end)},intersect:function(e){return e.start>this.end||e.end<this.start?new Ht(0/0,0/0):new Ht(this.start>e.start?this.start:e.start,this.end<e.end?this.end:e.end)},clone:function(){return new Ht(this.start,this.end)},clamp:function(e){var t=this.start,i=this.end,n=t>i?i:t,t=t>i?t:i;return jt(n>e?n:e>t?t:e)}}),[li,ai,oi].forEach(function(e){s(e,!1,!0,{range:function(t,i){return e.create&&(t=e.create(t),i=e.create(i)),new Ht(t,i)}})}),s(li,!0,!0,{upto:function(e,t,i){return li.range(this,e).every(i,t)},clamp:function(e,t){return new Ht(e,t).clamp(this)},cap:function(e){return this.clamp(void 0,e)}}),s(li,!0,!0,{downto:li.prototype.upto}),s(si,!1,function(e){return e instanceof Ht},{create:function(e){return e.every()}}),s(Function,!0,!0,{lazy:function(e,t,i){function n(){return c.length<i-(u&&t?1:0)&&c.push([this,arguments]),u||(u=!0,t?s():Vt(n,r,s)),a}var s,r,o,a,l=this,c=[],u=!1;return e=e||1,i=i||1/0,r=Ei(e),o=Ni(r/e)||1,s=function(){var e,t=c.length;if(0!=t){for(e=Mi(t-o,0);t>e;)a=Function.prototype.apply.apply(l,c.shift()),t--;Vt(n,r,function(){u=!1,s()})}},n},throttle:function(e){return this.lazy(e,!0,1)},debounce:function(e){function t(){t.cancel(),Vt(t,e,i,this,arguments)}var i=this;return t},delay:function(e){var t=c(arguments,null,1);return Vt(this,e,this,this,t),this},every:function(e){function t(){i.apply(i,n),Vt(i,e,t)}var i=this,n=arguments,n=1<n.length?c(n,null,1):[];return Vt(i,e,t),i},cancel:function(){var e,t=this.timers;if(xi(t))for(;e=t.shift();)clearTimeout(e);return this.n=!0,this},after:function(e){var t=this,i=0,n=[];if(_i(e)){if(0===e)return t.call(),t}else e=1;return function(){var s;return n.push(c(arguments)),i++,i==e?(s=t.call(this,n),i=0,n=[],s):void 0}},once:function(){return this.throttle(1/0,!0)},fill:function(){var e=this,t=c(arguments);return function(){var i=c(arguments);return t.forEach(function(e,t){(null!=e||t>=i.length)&&i.splice(t,0,e)}),e.apply(this,i)}}}),s(li,!1,!0,{random:function(e,t){var i,n;return 1==arguments.length&&(t=e,e=0),i=Ai(e||0,f(t)?1:t),n=Mi(e||0,f(t)?1:t)+1,Ii(ci.random()*(n-i)+i)}}),s(li,!0,!0,{log:function(e){return ci.log(this)/(e?ci.log(e):1)},abbr:function(e){return Yt(this,e,"kmbt",0,4)},metric:function(e,t){return Yt(this,e,"nμm kMGTPE",4,f(t)?1:t)},bytes:function(e,t){return Yt(this,e,"kMGTPE",0,f(t)?4:t,!0)+"B"},isInteger:function(){return 0==this%1},isOdd:function(){return!isNaN(this)&&!this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(e){return 0===this%e},format:function(e,t,i){var n,s,r,o="";for(f(t)&&(t=","),f(i)&&(i="."),n=(_i(e)?C(this,e||0).toFixed(Mi(e,0)):this.toString()).replace(/^-/,"").split("."),s=n[0],r=n[1],n=s.length;n>0;n-=3)n<s.length&&(o=t+o),o=s.slice(Mi(0,n-3),n)+o;return r&&(o+=i+S("0",(e||0)-r.length)+r),(0>this?"-":"")+o},hex:function(e){return this.pad(e||1,!1,16)},times:function(e){if(e)for(var t=0;this>t;t++)e.call(this,t);return this.toNumber()},chr:function(){return ai.fromCharCode(this)},pad:function(e,t,i){return D(this,e,t,i)},ordinalize:function(){var e=Di(this),e=parseInt(e.toString().slice(-2));return this+$(e)},toNumber:function(){return parseFloat(this,10)}}),function(){function e(e){return function(t){return t?C(this,t,e):e(this)}}s(li,!0,!0,{ceil:e(Ei),round:e(Ni),floor:e(Ii)}),r(li,!0,!0,"abs,pow,sin,asin,cos,acos,tan,atan,exp,pow,sqrt",function(e,t){e[t]=function(e,i){return ci[t](this,e,i)}})}();var hn=["isObject","isNaN"],fn="keys values select reject each merge clone equal watch tap has toQueryString".split(" ");s(ni,!1,!0,{watch:function(e,t,i){if(fi){var n=e[t];ni.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n},set:function(s){n=i.call(e,t,n,s)}})}}}),s(ni,!1,function(){return 1<arguments.length},{keys:function(e,t){var i=ni.keys(e);return i.forEach(function(i){t.call(e,i,e[i])}),i}}),s(ni,!1,!0,{isObject:function(e){return v(e)},isNaN:function(e){return _i(e)&&e.valueOf()!==e.valueOf()},equal:function(e,t){return P(e,t)},extended:function(e){return new x(e)},merge:function(e,t,i,n){var s,r,o,a,l,c,u;if(e&&"string"!=typeof t)for(s in t)if(p(t,s)&&e){if(a=t[s],l=e[s],c=h(l),r=m(a),o=m(l),u=c&&!1===n?l:a,c&&Si(n)&&(u=n.call(t,s,l,a)),i&&(r||o))if(Ci(a))u=new oi(a.getTime());else{if(!ki(a)){o||(e[s]=si.isArray(a)?[]:{}),ni.merge(e[s],a,i,n);continue}u=new ri(a.source,E(a))}e[s]=u}return e},values:function(e,t){var i=[];return y(e,function(n,s){i.push(s),t&&t.call(e,s)}),i},clone:function(e,t){var i;if(!m(e))return e;if(i=di.call(e),Ci(e,i)&&e.clone)return e.clone();if(Ci(e,i)||ki(e,i))return new e.constructor(e);if(e instanceof x)i=new x;else if(xi(e,i))i=[];else{if(!v(e,i))throw new TypeError("Clone must be a basic data type.");i={}}return ni.merge(i,e,t)},fromQueryString:function(e,t){var i=ni.extended();return e=e&&e.toString?e.toString():"",e.replace(/^.*?\?/,"").split("&").forEach(function(e){e=e.split("="),2===e.length&&Gt(i,e[0],decodeURIComponent(e[1]),t)}),i},toQueryString:function(e,t){return Xt(t,e)},tap:function(e,t){var i=t;return Si(t)||(i=function(){t&&e[t]()}),i.call(e,e),e},has:function(e,t){return p(e,t)},select:function(e){return Qt(e,arguments,!0)},reject:function(e){return Qt(e,arguments,!1)}}),r(ni,!1,!0,yi,function(e,t){var i="is"+t;hn.push(i),e[i]=gi[t]}),s(ni,!1,function(){return 0===arguments.length},{extend:function(){var e=hn.concat(fn);"undefined"!=typeof Qi&&(e=e.concat(Qi)),F(e,ni)}}),F(fn,x),s(ri,!1,!0,{escape:function(e){return I(e)}}),s(ri,!0,!0,{getFlags:function(){return E(this)},setFlags:function(e){return ri(this.source,e)},addFlag:function(e){return this.setFlags(E(this,e))},removeFlag:function(e){return this.setFlags(E(this).replace(e,""))}});var pn,mn;s(ai,!0,!1,{repeat:function(e){return e=Jt(e),S(this,e)}}),s(ai,!0,function(e){return ki(e)||2<arguments.length},{startsWith:function(e){var t=arguments,i=t[1],t=t[2],n=this;return i&&(n=n.slice(i)),f(t)&&(t=!0),i=ki(e)?e.source.replace("^",""):I(e),ri("^"+i,t?"":"i").test(n)},endsWith:function(e){var t=arguments,i=t[1],t=t[2],n=this;return h(i)&&(n=n.slice(0,i)),f(t)&&(t=!0),i=ki(e)?e.source.replace("$",""):I(e),ri(i+"$",t?"":"i").test(n)}}),s(ai,!0,!0,{escapeRegExp:function(){return I(this)},escapeURL:function(e){return e?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(e){return e?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2f;")},unescapeHTML:function(){return this.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#x2f;/g,"/").replace(/&amp;/g,"&")},encodeBase64:function(){return pn(unescape(encodeURIComponent(this)))},decodeBase64:function(){return decodeURIComponent(escape(mn(this)))},each:function(e,t){var i,n,s;if(Si(e)?(t=e,e=/[\s\S]/g):e?wi(e)?e=ri(I(e),"gi"):ki(e)&&(e=ri(e.source,E(e,"g"))):e=/[\s\S]/g,i=this.match(e)||[],t)for(n=0,s=i.length;s>n;n++)i[n]=t.call(this,i[n],n,i)||i[n];return i},shift:function(e){var t="";return e=e||0,this.codes(function(i){t+=ai.fromCharCode(i+e)}),t},codes:function(e){var t,i,n=[];for(t=0,i=this.length;i>t;t++){var s=this.charCodeAt(t);n.push(s),e&&e.call(this,s,t)}return n},chars:function(e){return this.each(e)},words:function(e){return this.trim().each(/\S+/g,e)},lines:function(e){return this.trim().each(/^.*$/gm,e)},paragraphs:function(e){var t=this.trim().split(/[\r\n]{2,}/);return t=t.map(function(t){if(e)var i=e.call(t);return i?i:t})},isBlank:function(){return 0===this.trim().length},has:function(e){return-1!==this.search(ki(e)?e:I(e))},add:function(e,t){return t=f(t)?this.length:t,this.slice(0,t)+e+this.slice(t)},remove:function(e){return this.replace(e,"")},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s\u3000])+/g,function(e,t){return"　"===t?t:" "})},at:function(){return R(this,arguments,!0)},from:function(e){return this.slice(ii(this,e,!0))},to:function(e){return f(e)&&(e=this.length),this.slice(0,ii(this,e))},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(ai.Inflector&&ai.Inflector.acronymRegExp,function(e,t){return(t>0?"_":"")+e.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(e){return this.underscore().replace(/(^|_)([^_]+)/g,function(t,i,n,s){return t=(t=ai.Inflector)&&t.acronyms[n],t=wi(t)?t:void 0,s=!1!==e||s>0,t?s?t:t.toLowerCase():s?n.capitalize():n})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var e=this;return u(0<arguments.length?arguments:[""],function(t){e=e.replace(ri("</?"+I(t)+"[^<>]*>","gi"),"")}),e},removeTags:function(){var e=this;return u(0<arguments.length?arguments:["\\S+"],function(t){t=ri("<("+t+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi"),e=e.replace(t,"")}),e},truncate:function(e,t,i){return ei(this,e,t,i)},truncateOnWord:function(e,t,i){return ei(this,e,t,i,!0)},pad:function(e,t){var i,n;return e=Jt(e),i=Mi(0,e-this.length)/2,n=Ii(i),i=Ei(i),Zt(n,t)+this+Zt(i,t)},padLeft:function(e,t){return e=Jt(e),Zt(Mi(0,e-this.length),t)+this},padRight:function(e,t){return e=Jt(e),this+Zt(Mi(0,e-this.length),t)},first:function(e){return f(e)&&(e=1),this.substr(0,e)},last:function(e){return f(e)&&(e=1),this.substr(0>this.length-e?0:this.length-e)},toNumber:function(e){return T(this,e)},capitalize:function(e){var t;return this.toLowerCase().replace(e?/[^']/g:/^\S/,function(e){var i,n=e.toUpperCase();return i=t?e:n,t=n!==e,i})},assign:function(){var e={};return u(arguments,function(t,i){m(t)?_(e,t):e[i+1]=t}),this.replace(/\{([^{]+?)\}/g,function(t,i){return p(e,i)?e[i]:t})}}),s(ai,!0,!0,{insert:ai.prototype.add}),function(e){if(ui.btoa)pn=ui.btoa,mn=ui.atob;else{var t=/[^A-Za-z0-9\+\/\=]/g;pn=function(t){var i,n,s,r,o,a,l="",c=0;do i=t.charCodeAt(c++),n=t.charCodeAt(c++),s=t.charCodeAt(c++),r=i>>2,i=(3&i)<<4|n>>4,o=(15&n)<<2|s>>6,a=63&s,isNaN(n)?o=a=64:isNaN(s)&&(a=64),l=l+e.charAt(r)+e.charAt(i)+e.charAt(o)+e.charAt(a);while(c<t.length);return l},mn=function(i){var n,s,r,o,a,l="",c=0;if(i.match(t))throw Error("String contains invalid base64 characters");i=i.replace(/[^A-Za-z0-9\+\/\=]/g,"");do n=e.indexOf(i.charAt(c++)),s=e.indexOf(i.charAt(c++)),o=e.indexOf(i.charAt(c++)),a=e.indexOf(i.charAt(c++)),n=n<<2|s>>4,s=(15&s)<<4|o>>2,r=(3&o)<<6|a,l+=ai.fromCharCode(n),64!=o&&(l+=ai.fromCharCode(s)),64!=a&&(l+=ai.fromCharCode(r));while(c<i.length);return l}}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")}(),/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
function(e,t){function i(e){var t,i,n=R[e]={};for(e=e.split(/\s+/),t=0,i=e.length;i>t;t++)n[e[t]]=!0;return n}function n(e,i,n){if(n===t&&1===e.nodeType){var s="data-"+i.replace(z,"-$1").toLowerCase();if(n=e.getAttribute(s),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:O.isNumeric(n)?+n:F.test(n)?O.parseJSON(n):n}catch(r){}O.data(e,i,n)}else n=t}return n}function s(e){for(var t in e)if(("data"!==t||!O.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function r(e,t,i){var n=t+"defer",s=t+"queue",r=t+"mark",o=O._data(e,n);!o||"queue"!==i&&O._data(e,s)||"mark"!==i&&O._data(e,r)||setTimeout(function(){O._data(e,s)||O._data(e,r)||(O.removeData(e,n,!0),o.fire())},0)}function o(){return!1}function a(){return!0}function l(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function c(e,t,i){if(t=t||0,O.isFunction(t))return O.grep(e,function(e,n){var s=!!t.call(e,n,e);return s===i});if(t.nodeType)return O.grep(e,function(e){return e===t===i});if("string"==typeof t){var n=O.grep(e,function(e){return 1===e.nodeType});if(ut.test(t))return O.filter(t,n,!i);t=O.filter(t,n)}return O.grep(e,function(e){return O.inArray(e,t)>=0===i})}function u(e){var t=pt.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function d(e){return O.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e,t){if(1===t.nodeType&&O.hasData(e)){var i,n,s,r=O._data(e),o=O._data(t,r),a=r.events;if(a){delete o.handle,o.events={};for(i in a)for(n=0,s=a[i].length;s>n;n++)O.event.add(t,i,a[i][n])}o.data&&(o.data=O.extend({},o.data))}}function f(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),i=t.nodeName.toLowerCase(),"object"===i?t.outerHTML=e.outerHTML:"input"!==i||"checkbox"!==e.type&&"radio"!==e.type?"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(O.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function p(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){("checkbox"===e.type||"radio"===e.type)&&(e.defaultChecked=e.checked)}function g(e){var t=(e.nodeName||"").toLowerCase();"input"===t?m(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&O.grep(e.getElementsByTagName("input"),m)}function v(e){var t=A.createElement("div");return $t.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function y(e,t,i){var n="width"===t?e.offsetWidth:e.offsetHeight,s="width"===t?1:0,r=4;if(n>0){if("border"!==i)for(;r>s;s+=2)i||(n-=parseFloat(O.css(e,"padding"+Ht[s]))||0),"margin"===i?n+=parseFloat(O.css(e,i+Ht[s]))||0:n-=parseFloat(O.css(e,"border"+Ht[s]+"Width"))||0;return n+"px"}if(n=Et(e,t),(0>n||null==n)&&(n=e.style[t]),Rt.test(n))return n;if(n=parseFloat(n)||0,i)for(;r>s;s+=2)n+=parseFloat(O.css(e,"padding"+Ht[s]))||0,"padding"!==i&&(n+=parseFloat(O.css(e,"border"+Ht[s]+"Width"))||0),"margin"===i&&(n+=parseFloat(O.css(e,i+Ht[s]))||0);return n+"px"}function b(e){return function(t,i){if("string"!=typeof t&&(i=t,t="*"),O.isFunction(i))for(var n,s,r,o=t.toLowerCase().split(ti),a=0,l=o.length;l>a;a++)n=o[a],r=/^\+/.test(n),r&&(n=n.substr(1)||"*"),s=e[n]=e[n]||[],s[r?"unshift":"push"](i)}}function _(e,i,n,s,r,o){r=r||i.dataTypes[0],o=o||{},o[r]=!0;for(var a,l=e[r],c=0,u=l?l.length:0,d=e===ri;u>c&&(d||!a);c++)a=l[c](i,n,s),"string"==typeof a&&(!d||o[a]?a=t:(i.dataTypes.unshift(a),a=_(e,i,n,s,a,o)));return!d&&a||o["*"]||(a=_(e,i,n,s,"*",o)),a}function w(e,i){var n,s,r=O.ajaxSettings.flatOptions||{};for(n in i)i[n]!==t&&((r[n]?e:s||(s={}))[n]=i[n]);s&&O.extend(!0,e,s)}function x(e,t,i,n){if(O.isArray(t))O.each(t,function(t,s){i||qt.test(e)?n(e,s):x(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==O.type(t))n(e,t);else for(var s in t)x(e+"["+s+"]",t[s],i,n)}function C(e,i,n){var s,r,o,a,l=e.contents,c=e.dataTypes,u=e.responseFields;for(r in u)r in n&&(i[u[r]]=n[r]);for(;"*"===c[0];)c.shift(),s===t&&(s=e.mimeType||i.getResponseHeader("content-type"));if(s)for(r in l)if(l[r]&&l[r].test(s)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||e.converters[r+" "+c[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==c[0]&&c.unshift(o),n[o]):void 0}function k(e,i){e.dataFilter&&(i=e.dataFilter(i,e.dataType));var n,s,r,o,a,l,c,u,d=e.dataTypes,h={},f=d.length,p=d[0];for(n=1;f>n;n++){if(1===n)for(s in e.converters)"string"==typeof s&&(h[s.toLowerCase()]=e.converters[s]);if(o=p,p=d[n],"*"===p)p=o;else if("*"!==o&&o!==p){if(a=o+" "+p,l=h[a]||h["* "+p],!l){u=t;for(c in h)if(r=c.split(" "),(r[0]===o||"*"===r[0])&&(u=h[r[1]+" "+p])){c=h[c],c===!0?l=u:u===!0&&(l=c);break}}l||u||O.error("No conversion from "+a.replace(" "," to ")),l!==!0&&(i=l?l(i):u(c(i)))}}return i}function S(){try{return new e.XMLHttpRequest}catch(t){}}function T(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function D(){return setTimeout($,0),vi=O.now()}function $(){vi=t}function E(e,t){var i={};return O.each(wi.concat.apply([],wi.slice(0,t)),function(){i[this]=e}),i}function I(e){if(!yi[e]){var t=A.body,i=O("<"+e+">").appendTo(t),n=i.css("display");i.remove(),("none"===n||""===n)&&(pi||(pi=A.createElement("iframe"),pi.frameBorder=pi.width=pi.height=0),t.appendChild(pi),mi&&pi.createElement||(mi=(pi.contentWindow||pi.contentDocument).document,mi.write((O.support.boxModel?"<!doctype html>":"")+"<html><body>"),mi.close()),i=mi.createElement(e),mi.body.appendChild(i),n=O.css(i,"display"),t.removeChild(pi)),yi[e]=n}return yi[e]}function N(e){return O.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var A=e.document,M=e.navigator,P=e.location,O=function(){function i(){if(!a.isReady){try{A.documentElement.doScroll("left")}catch(e){return setTimeout(i,1),void 0}a.ready()}}var n,s,r,o,a=function(e,t){return new a.fn.init(e,t,n)},l=e.jQuery,c=e.$,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/\S/,h=/^\s+/,f=/\s+$/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,_=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,C=/-([a-z]|[0-9])/gi,k=/^-ms-/,S=function(e,t){return(t+"").toUpperCase()},T=M.userAgent,D=Object.prototype.toString,$=Object.prototype.hasOwnProperty,E=Array.prototype.push,I=Array.prototype.slice,N=String.prototype.trim,P=Array.prototype.indexOf,O={};return a.fn=a.prototype={constructor:a,init:function(e,i,n){var s,r,o,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!i&&A.body)return this.context=A,this[0]=A.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:u.exec(e),!s||!s[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(s[1])return i=i instanceof a?i[0]:i,l=i?i.ownerDocument||i:A,o=p.exec(e),o?a.isPlainObject(i)?(e=[A.createElement(o[1])],a.fn.attr.call(e,i,!0)):e=[l.createElement(o[1])]:(o=a.buildFragment([s[1]],[l]),e=(o.cacheable?a.clone(o.fragment):o.fragment).childNodes),a.merge(this,e);if(r=A.getElementById(s[2]),r&&r.parentNode){if(r.id!==s[2])return n.find(e);this.length=1,this[0]=r}return this.context=A,this.selector=e,this}return a.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),a.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return I.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,i){var n=this.constructor();return a.isArray(e)?E.apply(n,e):a.merge(n,e),n.prevObject=this,n.context=this.context,"find"===t?n.selector=this.selector+(this.selector?" ":"")+i:t&&(n.selector=this.selector+"."+t+"("+i+")"),n},each:function(e,t){return a.each(this,e,t)},ready:function(e){return a.bindReady(),r.add(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(I.apply(this,arguments),"slice",I.call(arguments).join(","))},map:function(e){return this.pushStack(a.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a.extend=a.fn.extend=function(){var e,i,n,s,r,o,l=arguments[0]||{},c=1,u=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},c=2),"object"==typeof l||a.isFunction(l)||(l={}),u===c&&(l=this,--c);u>c;c++)if(null!=(e=arguments[c]))for(i in e)n=l[i],s=e[i],l!==s&&(d&&s&&(a.isPlainObject(s)||(r=a.isArray(s)))?(r?(r=!1,o=n&&a.isArray(n)?n:[]):o=n&&a.isPlainObject(n)?n:{},l[i]=a.extend(d,o,s)):s!==t&&(l[i]=s));return l},a.extend({noConflict:function(t){return e.$===a&&(e.$=c),t&&e.jQuery===a&&(e.jQuery=l),a},isReady:!1,readyWait:1,holdReady:function(e){e?a.readyWait++:a.ready(!0)},ready:function(e){if(e===!0&&!--a.readyWait||e!==!0&&!a.isReady){if(!A.body)return setTimeout(a.ready,1);if(a.isReady=!0,e!==!0&&--a.readyWait>0)return;r.fireWith(A,[a]),a.fn.trigger&&a(A).trigger("ready").off("ready")}},bindReady:function(){if(!r){if(r=a.Callbacks("once memory"),"complete"===A.readyState)return setTimeout(a.ready,1);if(A.addEventListener)A.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",a.ready,!1);else if(A.attachEvent){A.attachEvent("onreadystatechange",o),e.attachEvent("onload",a.ready);var t=!1;try{t=null==e.frameElement}catch(n){}A.documentElement.doScroll&&t&&i()}}},isFunction:function(e){return"function"===a.type(e)},isArray:Array.isArray||function(e){return"array"===a.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):O[D.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==a.type(e)||e.nodeType||a.isWindow(e))return!1;try{if(e.constructor&&!$.call(e,"constructor")&&!$.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in e);return n===t||$.call(e,n)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=a.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(g,"@").replace(v,"]").replace(y,""))?new Function("return "+t)():(a.error("Invalid JSON: "+t),void 0)):null},parseXML:function(i){if("string"!=typeof i||!i)return null;var n,s;try{e.DOMParser?(s=new DOMParser,n=s.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(r){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||a.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&d.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(k,"ms-").replace(C,S)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,i,n){var s,r=0,o=e.length,l=o===t||a.isFunction(e);if(n)if(l){for(s in e)if(i.apply(e[s],n)===!1)break}else for(;o>r&&i.apply(e[r++],n)!==!1;);else if(l){for(s in e)if(i.call(e[s],s,e[s])===!1)break}else for(;o>r&&i.call(e[r],r,e[r++])!==!1;);return e},trim:N?function(e){return null==e?"":N.call(e)}:function(e){return null==e?"":e.toString().replace(h,"").replace(f,"")},makeArray:function(e,t){var i=t||[];if(null!=e){var n=a.type(e);null==e.length||"string"===n||"function"===n||"regexp"===n||a.isWindow(e)?E.call(i,e):a.merge(i,e)}return i},inArray:function(e,t,i){var n;if(t){if(P)return P.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=e.length,s=0;if("number"==typeof i.length)for(var r=i.length;r>s;s++)e[n++]=i[s];else for(;i[s]!==t;)e[n++]=i[s++];return e.length=n,e},grep:function(e,t,i){var n,s=[];i=!!i;for(var r=0,o=e.length;o>r;r++)n=!!t(e[r],r),i!==n&&s.push(e[r]);return s},map:function(e,i,n){var s,r,o=[],l=0,c=e.length,u=e instanceof a||c!==t&&"number"==typeof c&&(c>0&&e[0]&&e[c-1]||0===c||a.isArray(e));if(u)for(;c>l;l++)s=i(e[l],l,n),null!=s&&(o[o.length]=s);else for(r in e)s=i(e[r],r,n),null!=s&&(o[o.length]=s);return o.concat.apply([],o)},guid:1,proxy:function(e,i){if("string"==typeof i){var n=e[i];i=e,e=n}if(!a.isFunction(e))return t;var s=I.call(arguments,2),r=function(){return e.apply(i,s.concat(I.call(arguments)))};return r.guid=e.guid=e.guid||r.guid||a.guid++,r},access:function(e,i,n,s,r,o,l){var c,u=null==n,d=0,h=e.length;if(n&&"object"==typeof n){for(d in n)a.access(e,i,d,n[d],1,o,s);r=1}else if(s!==t){if(c=l===t&&a.isFunction(s),u&&(c?(c=i,i=function(e,t,i){return c.call(a(e),i)}):(i.call(e,s),i=null)),i)for(;h>d;d++)i(e[d],n,c?s.call(e[d],d,i(e[d],n)):s,l);r=1}return r?e:u?i.call(e):h?i(e[0],n):o},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||_.exec(e)||w.exec(e)||e.indexOf("compatible")<0&&x.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,i){return new e.fn.init(t,i)}a.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,n){return n&&n instanceof a&&!(n instanceof e)&&(n=e(n)),a.fn.init.call(this,i,n,t)},e.fn.init.prototype=e.fn;var t=e(A);return e},browser:{}}),a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),s=a.uaMatch(T),s.browser&&(a.browser[s.browser]=!0,a.browser.version=s.version),a.browser.webkit&&(a.browser.safari=!0),d.test(" ")&&(h=/^[\s\xA0]+/,f=/[\s\xA0]+$/),n=a(A),A.addEventListener?o=function(){A.removeEventListener("DOMContentLoaded",o,!1),a.ready()}:A.attachEvent&&(o=function(){"complete"===A.readyState&&(A.detachEvent("onreadystatechange",o),a.ready())}),a}(),R={};O.Callbacks=function(e){e=e?R[e]||i(e):{};var n,s,r,o,a,l,c=[],u=[],d=function(t){var i,n,s,r;for(i=0,n=t.length;n>i;i++)s=t[i],r=O.type(s),"array"===r?d(s):"function"===r&&(e.unique&&f.has(s)||c.push(s))},h=function(t,i){for(i=i||[],n=!e.memory||[t,i],s=!0,r=!0,l=o||0,o=0,a=c.length;c&&a>l;l++)if(c[l].apply(t,i)===!1&&e.stopOnFalse){n=!0;break}r=!1,c&&(e.once?n===!0?f.disable():c=[]:u&&u.length&&(n=u.shift(),f.fireWith(n[0],n[1])))},f={add:function(){if(c){var e=c.length;d(arguments),r?a=c.length:n&&n!==!0&&(o=e,h(n[0],n[1]))}return this},remove:function(){if(c)for(var t=arguments,i=0,n=t.length;n>i;i++)for(var s=0;s<c.length&&(t[i]!==c[s]||(r&&a>=s&&(a--,l>=s&&l--),c.splice(s--,1),!e.unique));s++);return this},has:function(e){if(c)for(var t=0,i=c.length;i>t;t++)if(e===c[t])return!0;return!1},empty:function(){return c=[],this},disable:function(){return c=u=n=t,this},disabled:function(){return!c},lock:function(){return u=t,n&&n!==!0||f.disable(),this},locked:function(){return!u},fireWith:function(t,i){return u&&(r?e.once||u.push([t,i]):e.once&&n||h(t,i)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!s}};return f};var L=[].slice;O.extend({Deferred:function(e){var t,i=O.Callbacks("once memory"),n=O.Callbacks("once memory"),s=O.Callbacks("memory"),r="pending",o={resolve:i,reject:n,notify:s},a={done:i.add,fail:n.add,progress:s.add,state:function(){return r},isResolved:i.fired,isRejected:n.fired,then:function(e,t,i){return l.done(e).fail(t).progress(i),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,i){return O.Deferred(function(n){O.each({done:[e,"resolve"],fail:[t,"reject"],progress:[i,"notify"]},function(e,t){var i,s=t[0],r=t[1];O.isFunction(s)?l[e](function(){i=s.apply(this,arguments),i&&O.isFunction(i.promise)?i.promise().then(n.resolve,n.reject,n.notify):n[r+"With"](this===l?n:this,[i])}):l[e](n[r])})}).promise()},promise:function(e){if(null==e)e=a;else for(var t in a)e[t]=a[t];return e}},l=a.promise({});for(t in o)l[t]=o[t].fire,l[t+"With"]=o[t].fireWith;return l.done(function(){r="resolved"},n.disable,s.lock).fail(function(){r="rejected"},i.disable,s.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){n[e]=arguments.length>1?L.call(arguments,0):t,--a||l.resolveWith(l,n)}}function i(e){return function(t){o[e]=arguments.length>1?L.call(arguments,0):t,l.notifyWith(c,o)}}var n=L.call(arguments,0),s=0,r=n.length,o=new Array(r),a=r,l=1>=r&&e&&O.isFunction(e.promise)?e:O.Deferred(),c=l.promise();if(r>1){for(;r>s;s++)n[s]&&n[s].promise&&O.isFunction(n[s].promise)?n[s].promise().then(t(s),l.reject,i(s)):--a;a||l.resolveWith(l,n)}else l!==e&&l.resolveWith(l,r?[e]:[]);return c}}),O.support=function(){var t,i,n,s,r,o,a,l,c,u,d,h=A.createElement("div");if(A.documentElement,h.setAttribute("className","t"),h.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",i=h.getElementsByTagName("*"),n=h.getElementsByTagName("a")[0],!i||!i.length||!n)return{};s=A.createElement("select"),r=s.appendChild(A.createElement("option")),o=h.getElementsByTagName("input")[0],t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.55/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===o.value,optSelected:r.selected,getSetAttribute:"t"!==h.className,enctype:!!A.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==A.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},O.boxModel=t.boxModel="CSS1Compat"===A.compatMode,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!r.disabled;try{delete h.test}catch(f){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick")),o=A.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),h.appendChild(o),a=A.createDocumentFragment(),a.appendChild(h.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,a.removeChild(o),a.appendChild(h),h.attachEvent)for(u in{submit:1,change:1,focusin:1})c="on"+u,d=c in h,d||(h.setAttribute(c,"return;"),d="function"==typeof h[c]),t[u+"Bubbles"]=d;return a.removeChild(h),a=s=r=h=o=null,O(function(){var i,n,s,r,o,a,c,u,f,p,m,g,v=A.getElementsByTagName("body")[0];v&&(c=1,g="padding:0;margin:0;border:",p="position:absolute;top:0;left:0;width:1px;height:1px;",m=g+"0;visibility:hidden;",u="style='"+p+g+"5px solid #000;",f="<div "+u+"display:block;'><div style='"+g+"0;display:block;overflow:hidden;'></div></div>"+"<table "+u+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",i=A.createElement("div"),i.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+c+"px",v.insertBefore(i,v.firstChild),h=A.createElement("div"),i.appendChild(h),h.innerHTML="<table><tr><td style='"+g+"0;display:none'></td><td>t</td></tr></table>",l=h.getElementsByTagName("td"),d=0===l[0].offsetHeight,l[0].style.display="",l[1].style.display="none",t.reliableHiddenOffsets=d&&0===l[0].offsetHeight,e.getComputedStyle&&(h.innerHTML="",a=A.createElement("div"),a.style.width="0",a.style.marginRight="0",h.style.width="2px",h.appendChild(a),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(a,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof h.style.zoom&&(h.innerHTML="",h.style.width=h.style.padding="1px",h.style.border=0,h.style.overflow="hidden",h.style.display="inline",h.style.zoom=1,t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.style.overflow="visible",h.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=3!==h.offsetWidth),h.style.cssText=p+m,h.innerHTML=f,n=h.firstChild,s=n.firstChild,r=n.nextSibling.firstChild.firstChild,o={doesNotAddBorder:5!==s.offsetTop,doesAddBorderForTableAndCells:5===r.offsetTop},s.style.position="fixed",s.style.top="20px",o.fixedPosition=20===s.offsetTop||15===s.offsetTop,s.style.position=s.style.top="",n.style.overflow="hidden",n.style.position="relative",o.subtractsBorderForOverflowNotVisible=-5===s.offsetTop,o.doesNotIncludeMarginInBodyOffset=v.offsetTop!==c,e.getComputedStyle&&(h.style.marginTop="1%",t.pixelMargin="1%"!==(e.getComputedStyle(h,null)||{marginTop:0}).marginTop),"undefined"!=typeof i.style.zoom&&(i.style.zoom=1),v.removeChild(i),a=h=i=null,O.extend(t,o))}),t}();var F=/^(?:\{.*\}|\[.*\])$/,z=/([A-Z])/g;O.extend({cache:{},uuid:0,expando:"jQuery"+(O.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?O.cache[e[O.expando]]:e[O.expando],!!e&&!s(e)},data:function(e,i,n,s){if(O.acceptData(e)){var r,o,a,l=O.expando,c="string"==typeof i,u=e.nodeType,d=u?O.cache:e,h=u?e[l]:e[l]&&l,f="events"===i;if(h&&d[h]&&(f||s||d[h].data)||!c||n!==t)return h||(u?e[l]=h=++O.uuid:h=l),d[h]||(d[h]={},u||(d[h].toJSON=O.noop)),("object"==typeof i||"function"==typeof i)&&(s?d[h]=O.extend(d[h],i):d[h].data=O.extend(d[h].data,i)),r=o=d[h],s||(o.data||(o.data={}),o=o.data),n!==t&&(o[O.camelCase(i)]=n),f&&!o[i]?r.events:(c?(a=o[i],null==a&&(a=o[O.camelCase(i)])):a=o,a)}},removeData:function(e,t,i){if(O.acceptData(e)){var n,r,o,a=O.expando,l=e.nodeType,c=l?O.cache:e,u=l?e[a]:a;if(c[u]){if(t&&(n=i?c[u]:c[u].data)){O.isArray(t)||(t in n?t=[t]:(t=O.camelCase(t),t=t in n?[t]:t.split(" ")));for(r=0,o=t.length;o>r;r++)delete n[t[r]];if(!(i?s:O.isEmptyObject)(n))return}(i||(delete c[u].data,s(c[u])))&&(O.support.deleteExpando||!c.setInterval?delete c[u]:c[u]=null,l&&(O.support.deleteExpando?delete e[a]:e.removeAttribute?e.removeAttribute(a):e[a]=null))}}},_data:function(e,t,i){return O.data(e,t,i,!0)},acceptData:function(e){if(e.nodeName){var t=O.noData[e.nodeName.toLowerCase()];if(t)return!(t===!0||e.getAttribute("classid")!==t)}return!0}}),O.fn.extend({data:function(e,i){var s,r,o,a,l,c=this[0],u=0,d=null;if(e===t){if(this.length&&(d=O.data(c),1===c.nodeType&&!O._data(c,"parsedAttrs"))){for(o=c.attributes,l=o.length;l>u;u++)a=o[u].name,0===a.indexOf("data-")&&(a=O.camelCase(a.substring(5)),n(c,a,d[a]));O._data(c,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){O.data(this,e)}):(s=e.split(".",2),s[1]=s[1]?"."+s[1]:"",r=s[1]+"!",O.access(this,function(i){return i===t?(d=this.triggerHandler("getData"+r,[s[0]]),d===t&&c&&(d=O.data(c,e),d=n(c,e,d)),d===t&&s[1]?this.data(s[0]):d):(s[1]=i,this.each(function(){var t=O(this);t.triggerHandler("setData"+r,s),O.data(this,e,i),t.triggerHandler("changeData"+r,s)}),void 0)},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){O.removeData(this,e)})}}),O.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",O._data(e,t,(O._data(e,t)||0)+1))},_unmark:function(e,t,i){if(e!==!0&&(i=t,t=e,e=!1),t){i=i||"fx";var n=i+"mark",s=e?0:(O._data(t,n)||1)-1;s?O._data(t,n,s):(O.removeData(t,n,!0),r(t,i,"mark"))}},queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=O._data(e,t),i&&(!n||O.isArray(i)?n=O._data(e,t,O.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=O.queue(e,t),n=i.shift(),s={};"inprogress"===n&&(n=i.shift()),n&&("fx"===t&&i.unshift("inprogress"),O._data(e,t+".run",s),n.call(e,function(){O.dequeue(e,t)},s)),i.length||(O.removeData(e,t+"queue "+t+".run",!0),r(e,t,"queue"))}}),O.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?O.queue(this[0],e):i===t?this:this.each(function(){var t=O.queue(this,e,i);"fx"===e&&"inprogress"!==t[0]&&O.dequeue(this,e)})},dequeue:function(e){return this.each(function(){O.dequeue(this,e)})},delay:function(e,t){return e=O.fx?O.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){function n(){--l||r.resolveWith(o,[o])}"string"!=typeof e&&(i=e,e=t),e=e||"fx";for(var s,r=O.Deferred(),o=this,a=o.length,l=1,c=e+"defer",u=e+"queue",d=e+"mark";a--;)(s=O.data(o[a],c,t,!0)||(O.data(o[a],u,t,!0)||O.data(o[a],d,t,!0))&&O.data(o[a],c,O.Callbacks("once memory"),!0))&&(l++,s.add(n));return n(),r.promise(i)}});var H,j,W,B=/[\n\t\r]/g,q=/\s+/,U=/\r/g,V=/^(?:button|input)$/i,Y=/^(?:button|input|object|select|textarea)$/i,G=/^a(?:rea)?$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,K=O.support.getSetAttribute;O.fn.extend({attr:function(e,t){return O.access(this,O.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){O.removeAttr(this,e)})},prop:function(e,t){return O.access(this,O.prop,e,t,arguments.length>1)},removeProp:function(e){return e=O.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,s,r,o,a;if(O.isFunction(e))return this.each(function(t){O(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(q),i=0,n=this.length;n>i;i++)if(s=this[i],1===s.nodeType)if(s.className||1!==t.length){for(r=" "+s.className+" ",o=0,a=t.length;a>o;o++)~r.indexOf(" "+t[o]+" ")||(r+=t[o]+" ");s.className=O.trim(r)}else s.className=e;return this},removeClass:function(e){var i,n,s,r,o,a,l;if(O.isFunction(e))return this.each(function(t){O(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(q),n=0,s=this.length;s>n;n++)if(r=this[n],1===r.nodeType&&r.className)if(e){for(o=(" "+r.className+" ").replace(B," "),a=0,l=i.length;l>a;a++)o=o.replace(" "+i[a]+" "," ");r.className=O.trim(o)}else r.className="";return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t;return O.isFunction(e)?this.each(function(i){O(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var s,r=0,o=O(this),a=t,l=e.split(q);s=l[r++];)a=n?a:!o.hasClass(s),o[a?"addClass":"removeClass"](s);else("undefined"===i||"boolean"===i)&&(this.className&&O._data(this,"__className__",this.className),this.className=this.className||e===!1?"":O._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(B," ").indexOf(t)>-1)return!0;return!1},val:function(e){var i,n,s,r=this[0];{if(arguments.length)return s=O.isFunction(e),this.each(function(n){var r,o=O(this);1===this.nodeType&&(r=s?e.call(this,n,o.val()):e,null==r?r="":"number"==typeof r?r+="":O.isArray(r)&&(r=O.map(r,function(e){return null==e?"":e+""})),i=O.valHooks[this.type]||O.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,r,"value")!==t||(this.value=r))});if(r)return i=O.valHooks[r.type]||O.valHooks[r.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(r,"value"))!==t?n:(n=r.value,"string"==typeof n?n.replace(U,""):null==n?"":n)}}}),O.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,i,n,s,r=e.selectedIndex,o=[],a=e.options,l="select-one"===e.type;if(0>r)return null;for(i=l?r:0,n=l?r+1:a.length;n>i;i++)if(s=a[i],!(!s.selected||(O.support.optDisabled?s.disabled:null!==s.getAttribute("disabled"))||s.parentNode.disabled&&O.nodeName(s.parentNode,"optgroup"))){if(t=O(s).val(),l)return t;o.push(t)}return l&&!o.length&&a.length?O(a[r]).val():o},set:function(e,t){var i=O.makeArray(t);return O(e).find("option").each(function(){this.selected=O.inArray(O(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,i,n,s){var r,o,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return s&&i in O.attrFn?O(e)[i](n):"undefined"==typeof e.getAttribute?O.prop(e,i,n):(a=1!==l||!O.isXMLDoc(e),a&&(i=i.toLowerCase(),o=O.attrHooks[i]||(X.test(i)?j:H)),n!==t?null===n?(O.removeAttr(e,i),void 0):o&&"set"in o&&a&&(r=o.set(e,n,i))!==t?r:(e.setAttribute(i,""+n),n):o&&"get"in o&&a&&null!==(r=o.get(e,i))?r:(r=e.getAttribute(i),null===r?t:r))},removeAttr:function(e,t){var i,n,s,r,o,a=0;if(t&&1===e.nodeType)for(n=t.toLowerCase().split(q),r=n.length;r>a;a++)s=n[a],s&&(i=O.propFix[s]||s,o=X.test(s),o||O.attr(e,s,""),e.removeAttribute(K?s:i),o&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(V.test(e.nodeName)&&e.parentNode)O.error("type property can't be changed");else if(!O.support.radioValue&&"radio"===t&&O.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return H&&O.nodeName(e,"button")?H.get(e,t):t in e?e.value:null},set:function(e,t,i){return H&&O.nodeName(e,"button")?H.set(e,t,i):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,n){var s,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!O.isXMLDoc(e),o&&(i=O.propFix[i]||i,r=O.propHooks[i]),n!==t?r&&"set"in r&&(s=r.set(e,n,i))!==t?s:e[i]=n:r&&"get"in r&&null!==(s=r.get(e,i))?s:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):Y.test(e.nodeName)||G.test(e.nodeName)&&e.href?0:t}}}}),O.attrHooks.tabindex=O.propHooks.tabIndex,j={get:function(e,i){var n,s=O.prop(e,i);return s===!0||"boolean"!=typeof s&&(n=e.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():t},set:function(e,t,i){var n;return t===!1?O.removeAttr(e,i):(n=O.propFix[i]||i,n in e&&(e[n]=!0),e.setAttribute(i,i.toLowerCase())),i}},K||(W={name:!0,id:!0,coords:!0},H=O.valHooks.button={get:function(e,i){var n;return n=e.getAttributeNode(i),n&&(W[i]?""!==n.nodeValue:n.specified)?n.nodeValue:t},set:function(e,t,i){var n=e.getAttributeNode(i);return n||(n=A.createAttribute(i),e.setAttributeNode(n)),n.nodeValue=t+""}},O.attrHooks.tabindex.set=H.set,O.each(["width","height"],function(e,t){O.attrHooks[t]=O.extend(O.attrHooks[t],{set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}})}),O.attrHooks.contenteditable={get:H.get,set:function(e,t,i){""===t&&(t="false"),H.set(e,t,i)}}),O.support.hrefNormalized||O.each(["href","src","width","height"],function(e,i){O.attrHooks[i]=O.extend(O.attrHooks[i],{get:function(e){var n=e.getAttribute(i,2);return null===n?t:n}})}),O.support.style||(O.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),O.support.optSelected||(O.propHooks.selected=O.extend(O.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),O.support.enctype||(O.propFix.enctype="encoding"),O.support.checkOn||O.each(["radio","checkbox"],function(){O.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),O.each(["radio","checkbox"],function(){O.valHooks[this]=O.extend(O.valHooks[this],{set:function(e,t){return O.isArray(t)?e.checked=O.inArray(O(e).val(),t)>=0:void 0}})});var Q=/^(?:textarea|input|select)$/i,J=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,it=/^(?:focusinfocus|focusoutblur)$/,nt=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,st=function(e){var t=nt.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},rt=function(e,t){var i=e.attributes||{};return!(t[1]&&e.nodeName.toLowerCase()!==t[1]||t[2]&&(i.id||{}).value!==t[2]||t[3]&&!t[3].test((i["class"]||{}).value))},ot=function(e){return O.event.special.hover?e:e.replace(Z,"mouseenter$1 mouseleave$1")};O.event={add:function(e,i,n,s,r){var o,a,l,c,u,d,h,f,p,m,g;if(3!==e.nodeType&&8!==e.nodeType&&i&&n&&(o=O._data(e))){for(n.handler&&(p=n,n=p.handler,r=p.selector),n.guid||(n.guid=O.guid++),l=o.events,l||(o.events=l={}),a=o.handle,a||(o.handle=a=function(e){return"undefined"==typeof O||e&&O.event.triggered===e.type?t:O.event.dispatch.apply(a.elem,arguments)
},a.elem=e),i=O.trim(ot(i)).split(" "),c=0;c<i.length;c++)u=J.exec(i[c])||[],d=u[1],h=(u[2]||"").split(".").sort(),g=O.event.special[d]||{},d=(r?g.delegateType:g.bindType)||d,g=O.event.special[d]||{},f=O.extend({type:d,origType:u[1],data:s,handler:n,guid:n.guid,selector:r,quick:r&&st(r),namespace:h.join(".")},p),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,s,h,a)!==!1||(e.addEventListener?e.addEventListener(d,a,!1):e.attachEvent&&e.attachEvent("on"+d,a))),g.add&&(g.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),r?m.splice(m.delegateCount++,0,f):m.push(f),O.event.global[d]=!0;e=null}},global:{},remove:function(e,t,i,n,s){var r,o,a,l,c,u,d,h,f,p,m,g,v=O.hasData(e)&&O._data(e);if(v&&(h=v.events)){for(t=O.trim(ot(t||"")).split(" "),r=0;r<t.length;r++)if(o=J.exec(t[r])||[],a=l=o[1],c=o[2],a){for(f=O.event.special[a]||{},a=(n?f.delegateType:f.bindType)||a,m=h[a]||[],u=m.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=0;d<m.length;d++)g=m[d],!s&&l!==g.origType||i&&i.guid!==g.guid||c&&!c.test(g.namespace)||n&&n!==g.selector&&("**"!==n||!g.selector)||(m.splice(d--,1),g.selector&&m.delegateCount--,f.remove&&f.remove.call(e,g));0===m.length&&u!==m.length&&(f.teardown&&f.teardown.call(e,c)!==!1||O.removeEvent(e,a,v.handle),delete h[a])}else for(a in h)O.event.remove(e,a+t[r],i,n,!0);O.isEmptyObject(h)&&(p=v.handle,p&&(p.elem=null),O.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,s,r){if(!s||3!==s.nodeType&&8!==s.nodeType){var o,a,l,c,u,d,h,f,p,m,g=i.type||i,v=[];if(!it.test(g+O.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),s&&!O.event.customEvent[g]||O.event.global[g]))if(i="object"==typeof i?i[O.expando]?i:new O.Event(g,i):new O.Event(g),i.type=g,i.isTrigger=!0,i.exclusive=a,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",s){if(i.result=t,i.target||(i.target=s),n=null!=n?O.makeArray(n):[],n.unshift(i),h=O.event.special[g]||{},!h.trigger||h.trigger.apply(s,n)!==!1){if(p=[[s,h.bindType||g]],!r&&!h.noBubble&&!O.isWindow(s)){for(m=h.delegateType||g,c=it.test(m+g)?s:s.parentNode,u=null;c;c=c.parentNode)p.push([c,m]),u=c;u&&u===s.ownerDocument&&p.push([u.defaultView||u.parentWindow||e,m])}for(l=0;l<p.length&&!i.isPropagationStopped();l++)c=p[l][0],i.type=p[l][1],f=(O._data(c,"events")||{})[i.type]&&O._data(c,"handle"),f&&f.apply(c,n),f=d&&c[d],f&&O.acceptData(c)&&f.apply(c,n)===!1&&i.preventDefault();return i.type=g,r||i.isDefaultPrevented()||h._default&&h._default.apply(s.ownerDocument,n)!==!1||"click"===g&&O.nodeName(s,"a")||!O.acceptData(s)||d&&s[g]&&("focus"!==g&&"blur"!==g||0!==i.target.offsetWidth)&&!O.isWindow(s)&&(u=s[d],u&&(s[d]=null),O.event.triggered=g,s[g](),O.event.triggered=t,u&&(s[d]=u)),i.result}}else{o=O.cache;for(l in o)o[l].events&&o[l].events[g]&&O.event.trigger(i,n,o[l].handle.elem,!0)}}},dispatch:function(i){i=O.event.fix(i||e.event);var n,s,r,o,a,l,c,u,d,h,f=(O._data(this,"events")||{})[i.type]||[],p=f.delegateCount,m=[].slice.call(arguments,0),g=!i.exclusive&&!i.namespace,v=O.event.special[i.type]||{},y=[];if(m[0]=i,i.delegateTarget=this,!v.preDispatch||v.preDispatch.call(this,i)!==!1){if(p&&(!i.button||"click"!==i.type))for(o=O(this),o.context=this.ownerDocument||this,r=i.target;r!=this;r=r.parentNode||this)if(r.disabled!==!0){for(l={},u=[],o[0]=r,n=0;p>n;n++)d=f[n],h=d.selector,l[h]===t&&(l[h]=d.quick?rt(r,d.quick):o.is(h)),l[h]&&u.push(d);u.length&&y.push({elem:r,matches:u})}for(f.length>p&&y.push({elem:this,matches:f.slice(p)}),n=0;n<y.length&&!i.isPropagationStopped();n++)for(c=y[n],i.currentTarget=c.elem,s=0;s<c.matches.length&&!i.isImmediatePropagationStopped();s++)d=c.matches[s],(g||!i.namespace&&!d.namespace||i.namespace_re&&i.namespace_re.test(d.namespace))&&(i.data=d.data,i.handleObj=d,a=((O.event.special[d.origType]||{}).handle||d.handler).apply(c.elem,m),a!==t&&(i.result=a,a===!1&&(i.preventDefault(),i.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,s,r,o=i.button,a=i.fromElement;return null==e.pageX&&null!=i.clientX&&(n=e.target.ownerDocument||A,s=n.documentElement,r=n.body,e.pageX=i.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=i.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?i.toElement:a),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[O.expando])return e;var i,n,s=e,r=O.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=O.Event(s),i=o.length;i;)n=o[--i],e[n]=s[n];return e.target||(e.target=s.srcElement||A),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),r.filter?r.filter(e,s):e},special:{ready:{setup:O.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){O.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,n){var s=O.extend(new O.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?O.event.trigger(s,null,t):O.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},O.event.handle=O.event.dispatch,O.removeEvent=A.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){e.detachEvent&&e.detachEvent("on"+t,i)},O.Event=function(e,t){return this instanceof O.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,t&&O.extend(this,t),this.timeStamp=e&&e.timeStamp||O.now(),this[O.expando]=!0,void 0):new O.Event(e,t)},O.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},O.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){O.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,r=e.handleObj;return r.selector,(!s||s!==n&&!O.contains(n,s))&&(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),O.support.submitBubbles||(O.event.special.submit={setup:function(){return O.nodeName(this,"form")?!1:(O.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=O.nodeName(i,"input")||O.nodeName(i,"button")?i.form:t;n&&!n._submit_attached&&(O.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),n._submit_attached=!0)}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&O.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return O.nodeName(this,"form")?!1:(O.event.remove(this,"._submit"),void 0)}}),O.support.changeBubbles||(O.event.special.change={setup:function(){return Q.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(O.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),O.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,O.event.simulate("change",this,e,!0))})),!1):(O.event.add(this,"beforeactivate._change",function(e){var t=e.target;Q.test(t.nodeName)&&!t._change_attached&&(O.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||O.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return O.event.remove(this,"._change"),Q.test(this.nodeName)}}),O.support.focusinBubbles||O.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){O.event.simulate(t,e.target,O.event.fix(e),!0)};O.event.special[t]={setup:function(){0===i++&&A.addEventListener(e,n,!0)},teardown:function(){0===--i&&A.removeEventListener(e,n,!0)}}}),O.fn.extend({on:function(e,i,n,s,r){var a,l;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(l in e)this.on(l,i,n,e[l],r);return this}if(null==n&&null==s?(s=i,n=i=t):null==s&&("string"==typeof i?(s=n,n=t):(s=n,n=i,i=t)),s===!1)s=o;else if(!s)return this;return 1===r&&(a=s,s=function(e){return O().off(e),a.apply(this,arguments)},s.guid=a.guid||(a.guid=O.guid++)),this.each(function(){O.event.add(this,e,s,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){if(e&&e.preventDefault&&e.handleObj){var s=e.handleObj;return O(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this}if("object"==typeof e){for(var r in e)this.off(r,i,e[r]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=o),this.each(function(){O.event.remove(this,e,n,i)})},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,i){return O(this.context).on(e,this.selector,t,i),this},die:function(e,t){return O(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1==arguments.length?this.off(e,"**"):this.off(t,e,i)},trigger:function(e,t){return this.each(function(){O.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?O.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,i=e.guid||O.guid++,n=0,s=function(i){var s=(O._data(this,"lastToggle"+e.guid)||0)%n;return O._data(this,"lastToggle"+e.guid,s+1),i.preventDefault(),t[s].apply(this,arguments)||!1};for(s.guid=i;n<t.length;)t[n++].guid=i;return this.click(s)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),O.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){O.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},O.attrFn&&(O.attrFn[t]=!0),et.test(t)&&(O.event.fixHooks[t]=O.event.keyHooks),tt.test(t)&&(O.event.fixHooks[t]=O.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
function(){function e(e,t,i,n,r,o){for(var a=0,l=n.length;l>a;a++){var c=n[a];if(c){var u=!1;for(c=c[e];c;){if(c[s]===i){u=n[c.sizset];break}if(1!==c.nodeType||o||(c[s]=i,c.sizset=a),c.nodeName.toLowerCase()===t){u=c;break}c=c[e]}n[a]=u}}}function i(e,t,i,n,r,o){for(var a=0,l=n.length;l>a;a++){var c=n[a];if(c){var u=!1;for(c=c[e];c;){if(c[s]===i){u=n[c.sizset];break}if(1===c.nodeType)if(o||(c[s]=i,c.sizset=a),"string"!=typeof t){if(c===t){u=!0;break}}else if(h.filter(t,[c]).length>0){u=c;break}c=c[e]}n[a]=u}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,s="sizcache"+(Math.random()+"").replace(".",""),r=0,o=Object.prototype.toString,a=!1,l=!0,c=/\\/g,u=/\r\n/g,d=/\W/;[0,0].sort(function(){return l=!1,0});var h=function(e,t,i,s){i=i||[],t=t||A;var r=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return i;var a,l,c,u,d,f,g,v,b=!0,_=h.isXML(t),w=[],C=e;do if(n.exec(""),a=n.exec(C),a&&(C=a[3],w.push(a[1]),a[2])){u=a[3];break}while(a);if(w.length>1&&m.exec(e))if(2===w.length&&p.relative[w[0]])l=x(w[0]+w[1],t,s);else for(l=p.relative[w[0]]?[t]:h(w.shift(),t);w.length;)e=w.shift(),p.relative[e]&&(e+=w.shift()),l=x(e,l,s);else if(!s&&w.length>1&&9===t.nodeType&&!_&&p.match.ID.test(w[0])&&!p.match.ID.test(w[w.length-1])&&(d=h.find(w.shift(),t,_),t=d.expr?h.filter(d.expr,d.set)[0]:d.set[0]),t)for(d=s?{expr:w.pop(),set:y(s)}:h.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!t.parentNode?t:t.parentNode,_),l=d.expr?h.filter(d.expr,d.set):d.set,w.length>0?c=y(l):b=!1;w.length;)f=w.pop(),g=f,p.relative[f]?g=w.pop():f="",null==g&&(g=t),p.relative[f](c,g,_);else c=w=[];if(c||(c=l),c||h.error(f||e),"[object Array]"===o.call(c))if(b)if(t&&1===t.nodeType)for(v=0;null!=c[v];v++)c[v]&&(c[v]===!0||1===c[v].nodeType&&h.contains(t,c[v]))&&i.push(l[v]);else for(v=0;null!=c[v];v++)c[v]&&1===c[v].nodeType&&i.push(l[v]);else i.push.apply(i,c);else y(c,i);return u&&(h(u,r,i,s),h.uniqueSort(i)),i};h.uniqueSort=function(e){if(_&&(a=l,e.sort(_),a))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},h.matches=function(e,t){return h(e,null,null,t)},h.matchesSelector=function(e,t){return h(t,null,null,[e]).length>0},h.find=function(e,t,i){var n,s,r,o,a,l;if(!e)return[];for(s=0,r=p.order.length;r>s;s++)if(a=p.order[s],(o=p.leftMatch[a].exec(e))&&(l=o[1],o.splice(1,1),"\\"!==l.substr(l.length-1)&&(o[1]=(o[1]||"").replace(c,""),n=p.find[a](o,t,i),null!=n))){e=e.replace(p.match[a],"");break}return n||(n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:n,expr:e}},h.filter=function(e,i,n,s){for(var r,o,a,l,c,u,d,f,m,g=e,v=[],y=i,b=i&&i[0]&&h.isXML(i[0]);e&&i.length;){for(a in p.filter)if(null!=(r=p.leftMatch[a].exec(e))&&r[2]){if(u=p.filter[a],d=r[1],o=!1,r.splice(1,1),"\\"===d.substr(d.length-1))continue;if(y===v&&(v=[]),p.preFilter[a])if(r=p.preFilter[a](r,y,n,v,s,b)){if(r===!0)continue}else o=l=!0;if(r)for(f=0;null!=(c=y[f]);f++)c&&(l=u(c,r,f,y),m=s^l,n&&null!=l?m?o=!0:y[f]=!1:m&&(v.push(c),o=!0));if(l!==t){if(n||(y=v),e=e.replace(p.match[a],""),!o)return[];break}}if(e===g){if(null!=o)break;h.error(e)}g=e}return y},h.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var f=h.getText=function(e){var t,i,n=e.nodeType,s="";if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(u,"");for(e=e.firstChild;e;e=e.nextSibling)s+=f(e)}else if(3===n||4===n)return e.nodeValue}else for(t=0;i=e[t];t++)8!==i.nodeType&&(s+=f(i));return s},p=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var i="string"==typeof t,n=i&&!d.test(t),s=i&&!n;n&&(t=t.toLowerCase());for(var r,o=0,a=e.length;a>o;o++)if(r=e[o]){for(;(r=r.previousSibling)&&1!==r.nodeType;);e[o]=s||r&&r.nodeName.toLowerCase()===t?r||!1:r===t}s&&h.filter(t,e,!0)},">":function(e,t){var i,n="string"==typeof t,s=0,r=e.length;if(n&&!d.test(t)){for(t=t.toLowerCase();r>s;s++)if(i=e[s]){var o=i.parentNode;e[s]=o.nodeName.toLowerCase()===t?o:!1}}else{for(;r>s;s++)i=e[s],i&&(e[s]=n?i.parentNode:i.parentNode===t);n&&h.filter(t,e,!0)}},"":function(t,n,s){var o,a=r++,l=i;"string"!=typeof n||d.test(n)||(n=n.toLowerCase(),o=n,l=e),l("parentNode",n,a,t,o,s)},"~":function(t,n,s){var o,a=r++,l=i;"string"!=typeof n||d.test(n)||(n=n.toLowerCase(),o=n,l=e),l("previousSibling",n,a,t,o,s)}},find:{ID:function(e,t,i){if("undefined"!=typeof t.getElementById&&!i){var n=t.getElementById(e[1]);return n&&n.parentNode?[n]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var i=[],n=t.getElementsByName(e[1]),s=0,r=n.length;r>s;s++)n[s].getAttribute("name")===e[1]&&i.push(n[s]);return 0===i.length?null:i}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,i,n,s,r){if(e=" "+e[1].replace(c,"")+" ",r)return e;for(var o,a=0;null!=(o=t[a]);a++)o&&(s^(o.className&&(" "+o.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?i||n.push(o):i&&(t[a]=!1));return!1},ID:function(e){return e[1].replace(c,"")},TAG:function(e){return e[1].replace(c,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||h.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&h.error(e[0]);return e[0]=r++,e},ATTR:function(e,t,i,n,s,r){var o=e[1]=e[1].replace(c,"");return!r&&p.attrMap[o]&&(e[1]=p.attrMap[o]),e[4]=(e[4]||e[5]||"").replace(c,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,i,s,r){if("not"===e[1]){if(!((n.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var o=h.filter(e[3],t,i,!0^r);return i||s.push.apply(s,o),!1}e[3]=h(e[3],null,null,t)}else if(p.match.POS.test(e[0])||p.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,i){return!!h(i[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),i=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===i&&(t===i||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,i,n){return t===n.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,i){return t<i[3]-0},gt:function(e,t,i){return t>i[3]-0},nth:function(e,t,i){return i[3]-0===t},eq:function(e,t,i){return i[3]-0===t}},filter:{PSEUDO:function(e,t,i,n){var s=t[1],r=p.filters[s];if(r)return r(e,i,t,n);if("contains"===s)return(e.textContent||e.innerText||f([e])||"").indexOf(t[3])>=0;if("not"===s){for(var o=t[3],a=0,l=o.length;l>a;a++)if(o[a]===e)return!1;return!0}h.error(s)},CHILD:function(e,t){var i,n,r,o,a,l,c=t[1],u=e;switch(c){case"only":case"first":for(;u=u.previousSibling;)if(1===u.nodeType)return!1;if("first"===c)return!0;u=e;case"last":for(;u=u.nextSibling;)if(1===u.nodeType)return!1;return!0;case"nth":if(i=t[2],n=t[3],1===i&&0===n)return!0;if(r=t[0],o=e.parentNode,o&&(o[s]!==r||!e.nodeIndex)){for(a=0,u=o.firstChild;u;u=u.nextSibling)1===u.nodeType&&(u.nodeIndex=++a);o[s]=r}return l=e.nodeIndex-n,0===i?0===l:0===l%i&&l/i>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var i=t[1],n=h.attr?h.attr(e,i):p.attrHandle[i]?p.attrHandle[i](e):null!=e[i]?e[i]:e.getAttribute(i),s=n+"",r=t[2],o=t[4];return null==n?"!="===r:!r&&h.attr?null!=n:"="===r?s===o:"*="===r?s.indexOf(o)>=0:"~="===r?(" "+s+" ").indexOf(o)>=0:o?"!="===r?s!==o:"^="===r?0===s.indexOf(o):"$="===r?s.substr(s.length-o.length)===o:"|="===r?s===o||s.substr(0,o.length+1)===o+"-":!1:s&&n!==!1},POS:function(e,t,i,n){var s=t[2],r=p.setFilters[s];return r?r(e,i,t,n):void 0}}},m=p.match.POS,g=function(e,t){return"\\"+(t-0+1)};for(var v in p.match)p.match[v]=new RegExp(p.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[v].source.replace(/\\(\d+)/g,g));p.match.globalPOS=m;var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(A.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var i=0,n=t||[];if("[object Array]"===o.call(e))Array.prototype.push.apply(n,e);else if("number"==typeof e.length)for(var s=e.length;s>i;i++)n.push(e[i]);else for(;e[i];i++)n.push(e[i]);return n}}var _,w;A.documentElement.compareDocumentPosition?_=function(e,t){return e===t?(a=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(_=function(e,t){if(e===t)return a=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,n,s=[],r=[],o=e.parentNode,l=t.parentNode,c=o;if(o===l)return w(e,t);if(!o)return-1;if(!l)return 1;for(;c;)s.unshift(c),c=c.parentNode;for(c=l;c;)r.unshift(c),c=c.parentNode;i=s.length,n=r.length;for(var u=0;i>u&&n>u;u++)if(s[u]!==r[u])return w(s[u],r[u]);return u===i?w(e,r[u],-1):w(s[u],t,1)},w=function(e,t,i){if(e===t)return i;for(var n=e.nextSibling;n;){if(n===t)return-1;n=n.nextSibling}return 1}),function(){var e=A.createElement("div"),i="script"+(new Date).getTime(),n=A.documentElement;e.innerHTML="<a name='"+i+"'/>",n.insertBefore(e,n.firstChild),A.getElementById(i)&&(p.find.ID=function(e,i,n){if("undefined"!=typeof i.getElementById&&!n){var s=i.getElementById(e[1]);return s?s.id===e[1]||"undefined"!=typeof s.getAttributeNode&&s.getAttributeNode("id").nodeValue===e[1]?[s]:t:[]}},p.filter.ID=function(e,t){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&i&&i.nodeValue===t}),n.removeChild(e),n=e=null}(),function(){var e=A.createElement("div");e.appendChild(A.createComment("")),e.getElementsByTagName("*").length>0&&(p.find.TAG=function(e,t){var i=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var n=[],s=0;i[s];s++)1===i[s].nodeType&&n.push(i[s]);i=n}return i}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(p.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),A.querySelectorAll&&function(){var e=h,t=A.createElement("div"),i="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){h=function(t,n,s,r){if(n=n||A,!r&&!h.isXML(n)){var o=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(o&&(1===n.nodeType||9===n.nodeType)){if(o[1])return y(n.getElementsByTagName(t),s);if(o[2]&&p.find.CLASS&&n.getElementsByClassName)return y(n.getElementsByClassName(o[2]),s)}if(9===n.nodeType){if("body"===t&&n.body)return y([n.body],s);if(o&&o[3]){var a=n.getElementById(o[3]);if(!a||!a.parentNode)return y([],s);if(a.id===o[3])return y([a],s)}try{return y(n.querySelectorAll(t),s)}catch(l){}}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var c=n,u=n.getAttribute("id"),d=u||i,f=n.parentNode,m=/^\s*[+~]/.test(t);u?d=d.replace(/'/g,"\\$&"):n.setAttribute("id",d),m&&f&&(n=n.parentNode);try{if(!m||f)return y(n.querySelectorAll("[id='"+d+"'] "+t),s)}catch(g){}finally{u||c.removeAttribute("id")}}}return e(t,n,s,r)};for(var n in e)h[n]=e[n];t=null}}(),function(){var e=A.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var i=!t.call(A.createElement("div"),"div"),n=!1;try{t.call(A.documentElement,"[test!='']:sizzle")}catch(s){n=!0}h.matchesSelector=function(e,s){if(s=s.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!h.isXML(e))try{if(n||!p.match.PSEUDO.test(s)&&!/!=/.test(s)){var r=t.call(e,s);if(r||!i||e.document&&11!==e.document.nodeType)return r}}catch(o){}return h(s,null,null,[e]).length>0}}}(),function(){var e=A.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(e,t,i){return"undefined"==typeof t.getElementsByClassName||i?void 0:t.getElementsByClassName(e[1])},e=null))}(),h.contains=A.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:A.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},h.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var x=function(e,t,i){for(var n,s=[],r="",o=t.nodeType?[t]:t;n=p.match.PSEUDO.exec(e);)r+=n[0],e=e.replace(p.match.PSEUDO,"");e=p.relative[e]?e+"*":e;for(var a=0,l=o.length;l>a;a++)h(e,o[a],s,i);return h.filter(r,s)};h.attr=O.attr,h.selectors.attrMap={},O.find=h,O.expr=h.selectors,O.expr[":"]=O.expr.filters,O.unique=h.uniqueSort,O.text=h.getText,O.isXMLDoc=h.isXML,O.contains=h.contains}();var at=/Until$/,lt=/^(?:parents|prevUntil|prevAll)/,ct=/,/,ut=/^.[^:#\[\.,]*$/,dt=Array.prototype.slice,ht=O.expr.match.globalPOS,ft={children:!0,contents:!0,next:!0,prev:!0};O.fn.extend({find:function(e){var t,i,n=this;if("string"!=typeof e)return O(e).filter(function(){for(t=0,i=n.length;i>t;t++)if(O.contains(n[t],this))return!0});var s,r,o,a=this.pushStack("","find",e);for(t=0,i=this.length;i>t;t++)if(s=a.length,O.find(e,this[t],a),t>0)for(r=s;r<a.length;r++)for(o=0;s>o;o++)if(a[o]===a[r]){a.splice(r--,1);break}return a},has:function(e){var t=O(e);return this.filter(function(){for(var e=0,i=t.length;i>e;e++)if(O.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?ht.test(e)?O(e,this.context).index(this[0])>=0:O.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var i,n,s=[],r=this[0];if(O.isArray(e)){for(var o=1;r&&r.ownerDocument&&r!==t;){for(i=0;i<e.length;i++)O(r).is(e[i])&&s.push({selector:e[i],elem:r,level:o});r=r.parentNode,o++}return s}var a=ht.test(e)||"string"!=typeof e?O(e,t||this.context):0;for(i=0,n=this.length;n>i;i++)for(r=this[i];r;){if(a?a.index(r)>-1:O.find.matchesSelector(r,e)){s.push(r);break}if(r=r.parentNode,!r||!r.ownerDocument||r===t||11===r.nodeType)break}return s=s.length>1?O.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?"string"==typeof e?O.inArray(this[0],O(e)):O.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?O(e,t):O.makeArray(e&&e.nodeType?[e]:e),n=O.merge(this.get(),i);return this.pushStack(l(i[0])||l(n[0])?n:O.unique(n))},andSelf:function(){return this.add(this.prevObject)}}),O.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return O.dir(e,"parentNode")},parentsUntil:function(e,t,i){return O.dir(e,"parentNode",i)},next:function(e){return O.nth(e,2,"nextSibling")},prev:function(e){return O.nth(e,2,"previousSibling")},nextAll:function(e){return O.dir(e,"nextSibling")},prevAll:function(e){return O.dir(e,"previousSibling")},nextUntil:function(e,t,i){return O.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return O.dir(e,"previousSibling",i)},siblings:function(e){return O.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return O.sibling(e.firstChild)},contents:function(e){return O.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:O.makeArray(e.childNodes)}},function(e,t){O.fn[e]=function(i,n){var s=O.map(this,t,i);return at.test(e)||(n=i),n&&"string"==typeof n&&(s=O.filter(n,s)),s=this.length>1&&!ft[e]?O.unique(s):s,(this.length>1||ct.test(n))&&lt.test(e)&&(s=s.reverse()),this.pushStack(s,e,dt.call(arguments).join(","))}}),O.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?O.find.matchesSelector(t[0],e)?[t[0]]:[]:O.find.matches(e,t)},dir:function(e,i,n){for(var s=[],r=e[i];r&&9!==r.nodeType&&(n===t||1!==r.nodeType||!O(r).is(n));)1===r.nodeType&&s.push(r),r=r[i];return s},nth:function(e,t,i){t=t||1;for(var n=0;e&&(1!==e.nodeType||++n!==t);e=e[i]);return e},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var pt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",mt=/ jQuery\d+="(?:\d+|null)"/g,gt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,yt=/<([\w:]+)/,bt=/<tbody/i,_t=/<|&#?\w+;/,wt=/<(?:script|style)/i,xt=/<(?:script|object|embed|option|style)/i,Ct=new RegExp("<(?:"+pt+")[\\s/>]","i"),kt=/checked\s*(?:[^=]|=\s*.checked.)/i,St=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)/,Dt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},$t=u(A);Dt.optgroup=Dt.option,Dt.tbody=Dt.tfoot=Dt.colgroup=Dt.caption=Dt.thead,Dt.th=Dt.td,O.support.htmlSerialize||(Dt._default=[1,"div<div>","</div>"]),O.fn.extend({text:function(e){return O.access(this,function(e){return e===t?O.text(this):this.empty().append((this[0]&&this[0].ownerDocument||A).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(O.isFunction(e))return this.each(function(t){O(this).wrapAll(e.call(this,t))});if(this[0]){var t=O(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return O.isFunction(e)?this.each(function(t){O(this).wrapInner(e.call(this,t))}):this.each(function(){var t=O(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=O.isFunction(e);return this.each(function(i){O(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){O.nodeName(this,"body")||O(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=O.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,O.clean(arguments)),e}},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)(!e||O.filter(e,[i]).length)&&(t||1!==i.nodeType||(O.cleanData(i.getElementsByTagName("*")),O.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&O.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return O.clone(this,e,t)})},html:function(e){return O.access(this,function(e){var i=this[0]||{},n=0,s=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(mt,""):null;if(!("string"!=typeof e||wt.test(e)||!O.support.leadingWhitespace&&gt.test(e)||Dt[(yt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;s>n;n++)i=this[n]||{},1===i.nodeType&&(O.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(r){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?O.isFunction(e)?this.each(function(t){var i=O(this),n=i.html();i.replaceWith(e.call(this,t,n))}):("string"!=typeof e&&(e=O(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;O(this).remove(),t?O(t).before(e):O(i).append(e)})):this.length?this.pushStack(O(O.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,n){var s,r,o,a,l=e[0],c=[];if(!O.support.checkClone&&3===arguments.length&&"string"==typeof l&&kt.test(l))return this.each(function(){O(this).domManip(e,i,n,!0)});if(O.isFunction(l))return this.each(function(s){var r=O(this);e[0]=l.call(this,s,i?r.html():t),r.domManip(e,i,n)});if(this[0]){if(a=l&&l.parentNode,s=O.support.parentNode&&a&&11===a.nodeType&&a.childNodes.length===this.length?{fragment:a}:O.buildFragment(e,this,c),o=s.fragment,r=1===o.childNodes.length?o=o.firstChild:o.firstChild){i=i&&O.nodeName(r,"tr");for(var u=0,h=this.length,f=h-1;h>u;u++)n.call(i?d(this[u],r):this[u],s.cacheable||h>1&&f>u?O.clone(o,!0,!0):o)}c.length&&O.each(c,function(e,t){t.src?O.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):O.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),O.buildFragment=function(e,t,i){var n,s,r,o,a=e[0];return t&&t[0]&&(o=t[0].ownerDocument||t[0]),o.createDocumentFragment||(o=A),!(1===e.length&&"string"==typeof a&&a.length<512&&o===A&&"<"===a.charAt(0))||xt.test(a)||!O.support.checkClone&&kt.test(a)||!O.support.html5Clone&&Ct.test(a)||(s=!0,r=O.fragments[a],r&&1!==r&&(n=r)),n||(n=o.createDocumentFragment(),O.clean(e,o,n,i)),s&&(O.fragments[a]=r?n:1),{fragment:n,cacheable:s}},O.fragments={},O.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){O.fn[e]=function(i){var n=[],s=O(i),r=1===this.length&&this[0].parentNode;if(r&&11===r.nodeType&&1===r.childNodes.length&&1===s.length)return s[t](this[0]),this;for(var o=0,a=s.length;a>o;o++){var l=(o>0?this.clone(!0):this).get();O(s[o])[t](l),n=n.concat(l)}return this.pushStack(n,e,s.selector)}}),O.extend({clone:function(e,t,i){var n,s,r,o=O.support.html5Clone||O.isXMLDoc(e)||!Ct.test("<"+e.nodeName+">")?e.cloneNode(!0):v(e);if(!(O.support.noCloneEvent&&O.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||O.isXMLDoc(e)))for(f(e,o),n=p(e),s=p(o),r=0;n[r];++r)s[r]&&f(n[r],s[r]);if(t&&(h(e,o),i))for(n=p(e),s=p(o),r=0;n[r];++r)h(n[r],s[r]);return n=s=null,o},clean:function(e,t,i,n){var s,r,o,a=[];t=t||A,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||A);for(var l,c=0;null!=(l=e[c]);c++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(_t.test(l)){l=l.replace(vt,"<$1></$2>");var d,h=(yt.exec(l)||["",""])[1].toLowerCase(),f=Dt[h]||Dt._default,p=f[0],m=t.createElement("div"),v=$t.childNodes;for(t===A?$t.appendChild(m):u(t).appendChild(m),m.innerHTML=f[1]+l+f[2];p--;)m=m.lastChild;if(!O.support.tbody){var y=bt.test(l),b="table"!==h||y?"<table>"!==f[1]||y?[]:m.childNodes:m.firstChild&&m.firstChild.childNodes;for(o=b.length-1;o>=0;--o)O.nodeName(b[o],"tbody")&&!b[o].childNodes.length&&b[o].parentNode.removeChild(b[o])}!O.support.leadingWhitespace&&gt.test(l)&&m.insertBefore(t.createTextNode(gt.exec(l)[0]),m.firstChild),l=m.childNodes,m&&(m.parentNode.removeChild(m),v.length>0&&(d=v[v.length-1],d&&d.parentNode&&d.parentNode.removeChild(d)))}else l=t.createTextNode(l);var _;if(!O.support.appendChecked)if(l[0]&&"number"==typeof(_=l.length))for(o=0;_>o;o++)g(l[o]);else g(l);l.nodeType?a.push(l):a=O.merge(a,l)}if(i)for(s=function(e){return!e.type||St.test(e.type)},c=0;a[c];c++)if(r=a[c],n&&O.nodeName(r,"script")&&(!r.type||St.test(r.type)))n.push(r.parentNode?r.parentNode.removeChild(r):r);else{if(1===r.nodeType){var w=O.grep(r.getElementsByTagName("script"),s);a.splice.apply(a,[c+1,0].concat(w))}i.appendChild(r)}return a},cleanData:function(e){for(var t,i,n,s=O.cache,r=O.event.special,o=O.support.deleteExpando,a=0;null!=(n=e[a]);a++)if((!n.nodeName||!O.noData[n.nodeName.toLowerCase()])&&(i=n[O.expando])){if(t=s[i],t&&t.events){for(var l in t.events)r[l]?O.event.remove(n,l):O.removeEvent(n,l,t.handle);t.handle&&(t.handle.elem=null)}o?delete n[O.expando]:n.removeAttribute&&n.removeAttribute(O.expando),delete s[i]}}});var Et,It,Nt,At=/alpha\([^)]*\)/i,Mt=/opacity=([^)]*)/,Pt=/([A-Z]|^ms)/g,Ot=/^[\-+]?(?:\d*\.)?\d+$/i,Rt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Lt=/^([\-+])=([\-+.\de]+)/,Ft=/^margin/,zt={position:"absolute",visibility:"hidden",display:"block"},Ht=["Top","Right","Bottom","Left"];O.fn.css=function(e,i){return O.access(this,function(e,i,n){return n!==t?O.style(e,i,n):O.css(e,i)},e,i,arguments.length>1)},O.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Et(e,"opacity");return""===i?"1":i}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":O.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a=O.camelCase(i),l=e.style,c=O.cssHooks[a];if(i=O.cssProps[a]||a,n===t)return c&&"get"in c&&(r=c.get(e,!1,s))!==t?r:l[i];if(o=typeof n,"string"===o&&(r=Lt.exec(n))&&(n=+(r[1]+1)*+r[2]+parseFloat(O.css(e,i)),o="number"),!(null==n||"number"===o&&isNaN(n)||("number"!==o||O.cssNumber[a]||(n+="px"),c&&"set"in c&&(n=c.set(e,n))===t)))try{l[i]=n}catch(u){}}},css:function(e,i,n){var s,r;return i=O.camelCase(i),r=O.cssHooks[i],i=O.cssProps[i]||i,"cssFloat"===i&&(i="float"),r&&"get"in r&&(s=r.get(e,!0,n))!==t?s:Et?Et(e,i):void 0},swap:function(e,t,i){var n,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];n=i.call(e);for(s in t)e.style[s]=r[s];return n}}),O.curCSS=O.css,A.defaultView&&A.defaultView.getComputedStyle&&(It=function(e,t){var i,n,s,r,o=e.style;return t=t.replace(Pt,"-$1").toLowerCase(),(n=e.ownerDocument.defaultView)&&(s=n.getComputedStyle(e,null))&&(i=s.getPropertyValue(t),""!==i||O.contains(e.ownerDocument.documentElement,e)||(i=O.style(e,t))),!O.support.pixelMargin&&s&&Ft.test(t)&&Rt.test(i)&&(r=o.width,o.width=i,i=s.width,o.width=r),i}),A.documentElement.currentStyle&&(Nt=function(e,t){var i,n,s,r=e.currentStyle&&e.currentStyle[t],o=e.style;return null==r&&o&&(s=o[t])&&(r=s),Rt.test(r)&&(i=o.left,n=e.runtimeStyle&&e.runtimeStyle.left,n&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=i,n&&(e.runtimeStyle.left=n)),""===r?"auto":r}),Et=It||Nt,O.each(["height","width"],function(e,t){O.cssHooks[t]={get:function(e,i,n){return i?0!==e.offsetWidth?y(e,t,n):O.swap(e,zt,function(){return y(e,t,n)}):void 0},set:function(e,t){return Ot.test(t)?t+"px":t}}}),O.support.opacity||(O.cssHooks.opacity={get:function(e,t){return Mt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=O.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,t>=1&&""===O.trim(r.replace(At,""))&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=At.test(r)?r.replace(At,s):r+" "+s)}}),O(function(){O.support.reliableMarginRight||(O.cssHooks.marginRight={get:function(e,t){return O.swap(e,{display:"inline-block"},function(){return t?Et(e,"margin-right"):e.style.marginRight})}})}),O.expr&&O.expr.filters&&(O.expr.filters.hidden=function(e){var t=e.offsetWidth,i=e.offsetHeight;return 0===t&&0===i||!O.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||O.css(e,"display"))},O.expr.filters.visible=function(e){return!O.expr.filters.hidden(e)}),O.each({margin:"",padding:"",border:"Width"},function(e,t){O.cssHooks[e+t]={expand:function(i){var n,s="string"==typeof i?i.split(" "):[i],r={};for(n=0;4>n;n++)r[e+Ht[n]+t]=s[n]||s[n-2]||s[0];return r}}});var jt,Wt,Bt=/%20/g,qt=/\[\]$/,Ut=/\r?\n/g,Vt=/#.*$/,Yt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Gt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Xt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Kt=/^(?:GET|HEAD)$/,Qt=/^\/\//,Jt=/\?/,Zt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ei=/^(?:select|textarea)/i,ti=/\s+/,ii=/([?&])_=[^&]*/,ni=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,si=O.fn.load,ri={},oi={},ai=["*/"]+["*"];try{jt=P.href}catch(li){jt=A.createElement("a"),jt.href="",jt=jt.href}Wt=ni.exec(jt.toLowerCase())||[],O.fn.extend({load:function(e,i,n){if("string"!=typeof e&&si)return si.apply(this,arguments);if(!this.length)return this;var s=e.indexOf(" ");if(s>=0){var r=e.slice(s,e.length);e=e.slice(0,s)}var o="GET";i&&(O.isFunction(i)?(n=i,i=t):"object"==typeof i&&(i=O.param(i,O.ajaxSettings.traditional),o="POST"));var a=this;return O.ajax({url:e,type:o,dataType:"html",data:i,complete:function(e,t,i){i=e.responseText,e.isResolved()&&(e.done(function(e){i=e}),a.html(r?O("<div>").append(i.replace(Zt,"")).find(r):i)),n&&a.each(n,[i,t,e])}}),this},serialize:function(){return O.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?O.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ei.test(this.nodeName)||Gt.test(this.type))}).map(function(e,t){var i=O(this).val();return null==i?null:O.isArray(i)?O.map(i,function(e){return{name:t.name,value:e.replace(Ut,"\r\n")}}):{name:t.name,value:i.replace(Ut,"\r\n")}}).get()}}),O.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){O.fn[t]=function(e){return this.on(t,e)}}),O.each(["get","post"],function(e,i){O[i]=function(e,n,s,r){return O.isFunction(n)&&(r=r||s,s=n,n=t),O.ajax({type:i,url:e,data:n,success:s,dataType:r})}}),O.extend({getScript:function(e,i){return O.get(e,t,i,"script")},getJSON:function(e,t,i){return O.get(e,t,i,"json")},ajaxSetup:function(e,t){return t?w(e,O.ajaxSettings):(t=e,e=O.ajaxSettings),w(e,t),e},ajaxSettings:{url:jt,isLocal:Xt.test(Wt[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ai},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":O.parseJSON,"text xml":O.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:b(ri),ajaxTransport:b(oi),ajax:function(e,i){function n(e,i,n,o){if(2!==w){w=2,l&&clearTimeout(l),a=t,r=o||"",x.readyState=e>0?4:0;var c,d,y,b,_,S=i,T=n?C(h,x,n):t;if(e>=200&&300>e||304===e)if(h.ifModified&&((b=x.getResponseHeader("Last-Modified"))&&(O.lastModified[s]=b),(_=x.getResponseHeader("Etag"))&&(O.etag[s]=_)),304===e)S="notmodified",c=!0;
else try{d=k(h,T),S="success",c=!0}catch(D){S="parsererror",y=D}else y=S,(!S||e)&&(S="error",0>e&&(e=0));x.status=e,x.statusText=""+(i||S),c?m.resolveWith(f,[d,S,x]):m.rejectWith(f,[x,S,y]),x.statusCode(v),v=t,u&&p.trigger("ajax"+(c?"Success":"Error"),[x,h,c?d:y]),g.fireWith(f,[x,S]),u&&(p.trigger("ajaxComplete",[x,h]),--O.active||O.event.trigger("ajaxStop"))}}"object"==typeof e&&(i=e,e=t),i=i||{};var s,r,o,a,l,c,u,d,h=O.ajaxSetup({},i),f=h.context||h,p=f!==h&&(f.nodeType||f instanceof O)?O(f):O.event,m=O.Deferred(),g=O.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,x={readyState:0,setRequestHeader:function(e,t){if(!w){var i=e.toLowerCase();e=b[i]=b[i]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===w?r:null},getResponseHeader:function(e){var i;if(2===w){if(!o)for(o={};i=Yt.exec(r);)o[i[1].toLowerCase()]=i[2];i=o[e.toLowerCase()]}return i===t?null:i},overrideMimeType:function(e){return w||(h.mimeType=e),this},abort:function(e){return e=e||"abort",a&&a.abort(e),n(0,e),this}};if(m.promise(x),x.success=x.done,x.error=x.fail,x.complete=g.add,x.statusCode=function(e){if(e){var t;if(2>w)for(t in e)v[t]=[v[t],e[t]];else t=e[x.status],x.then(t,t)}return this},h.url=((e||h.url)+"").replace(Vt,"").replace(Qt,Wt[1]+"//"),h.dataTypes=O.trim(h.dataType||"*").toLowerCase().split(ti),null==h.crossDomain&&(c=ni.exec(h.url.toLowerCase()),h.crossDomain=!(!c||c[1]==Wt[1]&&c[2]==Wt[2]&&(c[3]||("http:"===c[1]?80:443))==(Wt[3]||("http:"===Wt[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=O.param(h.data,h.traditional)),_(ri,h,i,x),2===w)return!1;if(u=h.global,h.type=h.type.toUpperCase(),h.hasContent=!Kt.test(h.type),u&&0===O.active++&&O.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(Jt.test(h.url)?"&":"?")+h.data,delete h.data),s=h.url,h.cache===!1)){var S=O.now(),T=h.url.replace(ii,"$1_="+S);h.url=T+(T===h.url?(Jt.test(h.url)?"&":"?")+"_="+S:"")}(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(s=s||h.url,O.lastModified[s]&&x.setRequestHeader("If-Modified-Since",O.lastModified[s]),O.etag[s]&&x.setRequestHeader("If-None-Match",O.etag[s])),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ai+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)x.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(f,x,h)===!1||2===w))return x.abort(),!1;for(d in{success:1,error:1,complete:1})x[d](h[d]);if(a=_(oi,h,i,x)){x.readyState=1,u&&p.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},h.timeout));try{w=1,a.send(y,n)}catch(D){if(!(2>w))throw D;n(-1,D)}}else n(-1,"No Transport");return x},param:function(e,i){var n=[],s=function(e,t){t=O.isFunction(t)?t():t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=O.ajaxSettings.traditional),O.isArray(e)||e.jquery&&!O.isPlainObject(e))O.each(e,function(){s(this.name,this.value)});else for(var r in e)x(r,e[r],i,s);return n.join("&").replace(Bt,"+")}}),O.extend({active:0,lastModified:{},etag:{}});var ci=O.now(),ui=/(\=)\?(&|$)|\?\?/i;O.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return O.expando+"_"+ci++}}),O.ajaxPrefilter("json jsonp",function(t,i,n){var s="string"==typeof t.data&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(ui.test(t.url)||s&&ui.test(t.data))){var r,o=t.jsonpCallback=O.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a=e[o],l=t.url,c=t.data,u="$1"+o+"$2";return t.jsonp!==!1&&(l=l.replace(ui,u),t.url===l&&(s&&(c=c.replace(ui,u)),t.data===c&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+o))),t.url=l,t.data=c,e[o]=function(e){r=[e]},n.always(function(){e[o]=a,r&&O.isFunction(a)&&e[o](r[0])}),t.converters["script json"]=function(){return r||O.error(o+" was not called"),r[0]},t.dataTypes[0]="json","script"}}),O.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return O.globalEval(e),e}}}),O.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),O.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=A.head||A.getElementsByTagName("head")[0]||A.documentElement;return{send:function(s,r){i=A.createElement("script"),i.async="async",e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,s){(s||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=t,s||r(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var di,hi=e.ActiveXObject?function(){for(var e in di)di[e](0,1)}:!1,fi=0;O.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&S()||T()}:S,function(e){O.extend(O.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(O.ajaxSettings.xhr()),O.support.ajax&&O.ajaxTransport(function(i){if(!i.crossDomain||O.support.cors){var n;return{send:function(s,r){var o,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(a in s)l.setRequestHeader(a,s[a])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(e,s){var a,c,u,d,h;try{if(n&&(s||4===l.readyState))if(n=t,o&&(l.onreadystatechange=O.noop,hi&&delete di[o]),s)4!==l.readyState&&l.abort();else{a=l.status,u=l.getAllResponseHeaders(),d={},h=l.responseXML,h&&h.documentElement&&(d.xml=h);try{d.text=l.responseText}catch(e){}try{c=l.statusText}catch(f){c=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(p){s||r(-1,p)}d&&r(a,c,d,u)},i.async&&4!==l.readyState?(o=++fi,hi&&(di||(di={},O(e).unload(hi)),di[o]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var pi,mi,gi,vi,yi={},bi=/^(?:toggle|show|hide)$/,_i=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wi=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];O.fn.extend({show:function(e,t,i){var n,s;if(e||0===e)return this.animate(E("show",3),e,t,i);for(var r=0,o=this.length;o>r;r++)n=this[r],n.style&&(s=n.style.display,O._data(n,"olddisplay")||"none"!==s||(s=n.style.display=""),(""===s&&"none"===O.css(n,"display")||!O.contains(n.ownerDocument.documentElement,n))&&O._data(n,"olddisplay",I(n.nodeName)));for(r=0;o>r;r++)n=this[r],n.style&&(s=n.style.display,(""===s||"none"===s)&&(n.style.display=O._data(n,"olddisplay")||""));return this},hide:function(e,t,i){if(e||0===e)return this.animate(E("hide",3),e,t,i);for(var n,s,r=0,o=this.length;o>r;r++)n=this[r],n.style&&(s=O.css(n,"display"),"none"===s||O._data(n,"olddisplay")||O._data(n,"olddisplay",s));for(r=0;o>r;r++)this[r].style&&(this[r].style.display="none");return this},_toggle:O.fn.toggle,toggle:function(e,t,i){var n="boolean"==typeof e;return O.isFunction(e)&&O.isFunction(t)?this._toggle.apply(this,arguments):null==e||n?this.each(function(){var t=n?e:O(this).is(":hidden");O(this)[t?"show":"hide"]()}):this.animate(E("toggle",3),e,t,i),this},fadeTo:function(e,t,i,n){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){function s(){r.queue===!1&&O._mark(this);var t,i,n,s,o,a,l,c,u,d,h,f=O.extend({},r),p=1===this.nodeType,m=p&&O(this).is(":hidden");f.animatedProperties={};for(n in e)if(t=O.camelCase(n),n!==t&&(e[t]=e[n],delete e[n]),(o=O.cssHooks[t])&&"expand"in o){a=o.expand(e[t]),delete e[t];for(n in a)n in e||(e[n]=a[n])}for(t in e){if(i=e[t],O.isArray(i)?(f.animatedProperties[t]=i[1],i=e[t]=i[0]):f.animatedProperties[t]=f.specialEasing&&f.specialEasing[t]||f.easing||"swing","hide"===i&&m||"show"===i&&!m)return f.complete.call(this);!p||"height"!==t&&"width"!==t||(f.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===O.css(this,"display")&&"none"===O.css(this,"float")&&(O.support.inlineBlockNeedsLayout&&"inline"!==I(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=f.overflow&&(this.style.overflow="hidden");for(n in e)s=new O.fx(this,f,n),i=e[n],bi.test(i)?(h=O._data(this,"toggle"+n)||("toggle"===i?m?"show":"hide":0),h?(O._data(this,"toggle"+n,"show"===h?"hide":"show"),s[h]()):s[i]()):(l=_i.exec(i),c=s.cur(),l?(u=parseFloat(l[2]),d=l[3]||(O.cssNumber[n]?"":"px"),"px"!==d&&(O.style(this,n,(u||1)+d),c=(u||1)/s.cur()*c,O.style(this,n,c+d)),l[1]&&(u=("-="===l[1]?-1:1)*u+c),s.custom(c,u,d)):s.custom(c,i,""));return!0}var r=O.speed(t,i,n);return O.isEmptyObject(e)?this.each(r.complete,[!1]):(e=O.extend({},e),r.queue===!1?this.each(s):this.queue(r.queue,s))},stop:function(e,i,n){return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,i){var s=t[i];O.removeData(e,i,!0),s.stop(n)}var i,s=!1,r=O.timers,o=O._data(this);if(n||O._unmark(!0,this),null==e)for(i in o)o[i]&&o[i].stop&&i.indexOf(".run")===i.length-4&&t(this,o,i);else o[i=e+".run"]&&o[i].stop&&t(this,o,i);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(n?r[i](!0):r[i].saveState(),s=!0,r.splice(i,1));n&&s||O.dequeue(this,e)})}}),O.each({slideDown:E("show",1),slideUp:E("hide",1),slideToggle:E("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){O.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),O.extend({speed:function(e,t,i){var n=e&&"object"==typeof e?O.extend({},e):{complete:i||!i&&t||O.isFunction(e)&&e,duration:e,easing:i&&t||t&&!O.isFunction(t)&&t};return n.duration=O.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in O.fx.speeds?O.fx.speeds[n.duration]:O.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(e){O.isFunction(n.old)&&n.old.call(this),n.queue?O.dequeue(this,n.queue):e!==!1&&O._unmark(this)},n},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,i){this.options=t,this.elem=e,this.prop=i,t.orig=t.orig||{}}}),O.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(O.fx.step[this.prop]||O.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=O.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,i,n){function s(e){return r.step(e)}var r=this,o=O.fx;this.startTime=vi||D(),this.end=i,this.now=this.start=e,this.pos=this.state=0,this.unit=n||this.unit||(O.cssNumber[this.prop]?"":"px"),s.queue=this.options.queue,s.elem=this.elem,s.saveState=function(){O._data(r.elem,"fxshow"+r.prop)===t&&(r.options.hide?O._data(r.elem,"fxshow"+r.prop,r.start):r.options.show&&O._data(r.elem,"fxshow"+r.prop,r.end))},s()&&O.timers.push(s)&&!gi&&(gi=setInterval(o.tick,o.interval))},show:function(){var e=O._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||O.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),O(this.elem).show()},hide:function(){this.options.orig[this.prop]=O._data(this.elem,"fxshow"+this.prop)||O.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,i,n,s=vi||D(),r=!0,o=this.elem,a=this.options;if(e||s>=a.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),a.animatedProperties[this.prop]=!0;for(t in a.animatedProperties)a.animatedProperties[t]!==!0&&(r=!1);if(r){if(null==a.overflow||O.support.shrinkWrapBlocks||O.each(["","X","Y"],function(e,t){o.style["overflow"+t]=a.overflow[e]}),a.hide&&O(o).hide(),a.hide||a.show)for(t in a.animatedProperties)O.style(o,t,a.orig[t]),O.removeData(o,"fxshow"+t,!0),O.removeData(o,"toggle"+t,!0);n=a.complete,n&&(a.complete=!1,n.call(o))}return!1}return 1/0==a.duration?this.now=s:(i=s-this.startTime,this.state=i/a.duration,this.pos=O.easing[a.animatedProperties[this.prop]](this.state,i,0,1,a.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},O.extend(O.fx,{tick:function(){for(var e,t=O.timers,i=0;i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||O.fx.stop()},interval:13,stop:function(){clearInterval(gi),gi=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){O.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),O.each(wi.concat.apply([],wi),function(e,t){t.indexOf("margin")&&(O.fx.step[t]=function(e){O.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),O.expr&&O.expr.filters&&(O.expr.filters.animated=function(e){return O.grep(O.timers,function(t){return e===t.elem}).length});var xi,Ci=/^t(?:able|d|h)$/i,ki=/^(?:body|html)$/i;xi="getBoundingClientRect"in A.documentElement?function(e,t,i,n){try{n=e.getBoundingClientRect()}catch(s){}if(!n||!O.contains(i,e))return n?{top:n.top,left:n.left}:{top:0,left:0};var r=t.body,o=N(t),a=i.clientTop||r.clientTop||0,l=i.clientLeft||r.clientLeft||0,c=o.pageYOffset||O.support.boxModel&&i.scrollTop||r.scrollTop,u=o.pageXOffset||O.support.boxModel&&i.scrollLeft||r.scrollLeft,d=n.top+c-a,h=n.left+u-l;return{top:d,left:h}}:function(e,t,i){for(var n,s=e.offsetParent,r=e,o=t.body,a=t.defaultView,l=a?a.getComputedStyle(e,null):e.currentStyle,c=e.offsetTop,u=e.offsetLeft;(e=e.parentNode)&&e!==o&&e!==i&&(!O.support.fixedPosition||"fixed"!==l.position);)n=a?a.getComputedStyle(e,null):e.currentStyle,c-=e.scrollTop,u-=e.scrollLeft,e===s&&(c+=e.offsetTop,u+=e.offsetLeft,!O.support.doesNotAddBorder||O.support.doesAddBorderForTableAndCells&&Ci.test(e.nodeName)||(c+=parseFloat(n.borderTopWidth)||0,u+=parseFloat(n.borderLeftWidth)||0),r=s,s=e.offsetParent),O.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(c+=parseFloat(n.borderTopWidth)||0,u+=parseFloat(n.borderLeftWidth)||0),l=n;return("relative"===l.position||"static"===l.position)&&(c+=o.offsetTop,u+=o.offsetLeft),O.support.fixedPosition&&"fixed"===l.position&&(c+=Math.max(i.scrollTop,o.scrollTop),u+=Math.max(i.scrollLeft,o.scrollLeft)),{top:c,left:u}},O.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){O.offset.setOffset(this,e,t)});var i=this[0],n=i&&i.ownerDocument;return n?i===n.body?O.offset.bodyOffset(i):xi(i,n,n.documentElement):null},O.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return O.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(O.css(e,"marginTop"))||0,i+=parseFloat(O.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var n=O.css(e,"position");"static"===n&&(e.style.position="relative");var s,r,o=O(e),a=o.offset(),l=O.css(e,"top"),c=O.css(e,"left"),u=("absolute"===n||"fixed"===n)&&O.inArray("auto",[l,c])>-1,d={},h={};u?(h=o.position(),s=h.top,r=h.left):(s=parseFloat(l)||0,r=parseFloat(c)||0),O.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):o.css(d)}},O.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),i=this.offset(),n=ki.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(O.css(e,"marginTop"))||0,i.left-=parseFloat(O.css(e,"marginLeft"))||0,n.top+=parseFloat(O.css(t[0],"borderTopWidth"))||0,n.left+=parseFloat(O.css(t[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||A.body;e&&!ki.test(e.nodeName)&&"static"===O.css(e,"position");)e=e.offsetParent;return e})}}),O.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);O.fn[e]=function(s){return O.access(this,function(e,s,r){var o=N(e);return r===t?o?i in o?o[i]:O.support.boxModel&&o.document.documentElement[s]||o.document.body[s]:e[s]:(o?o.scrollTo(n?O(o).scrollLeft():r,n?r:O(o).scrollTop()):e[s]=r,void 0)},e,s,arguments.length,null)}}),O.each({Height:"height",Width:"width"},function(e,i){var n="client"+e,s="scroll"+e,r="offset"+e;O.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(O.css(e,i,"padding")):this[i]():null},O.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(O.css(t,i,e?"margin":"border")):this[i]():null},O.fn[i]=function(e){return O.access(this,function(e,i,o){var a,l,c,u;return O.isWindow(e)?(a=e.document,l=a.documentElement[n],O.support.boxModel&&l||a.body&&a.body[n]||l):9===e.nodeType?(a=e.documentElement,a[n]>=a[s]?a[n]:Math.max(e.body[s],a[s],e.body[r],a[r])):o===t?(c=O.css(e,i),u=parseFloat(c),O.isNumeric(u)?u:c):(O(e).css(i,o),void 0)},i,e,arguments.length,null)}}),e.jQuery=e.$=O,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return O})}(window),/*!
 * jQuery UI 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
function(e,t){function i(t,i){var s=t.nodeName.toLowerCase();if("area"===s){var r,o=t.parentNode,a=o.name;return t.href&&a&&"map"===o.nodeName.toLowerCase()?(r=e("img[usemap=#"+a+"]")[0],!!r&&n(r)):!1}return(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"==s?t.href||i:i)&&n(t)}function n(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var n=this;setTimeout(function(){e(n).focus(),i&&i.call(n)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,r=e(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(r.css("zIndex"),10),!isNaN(s)&&0!==s))return s;r=r.parent()}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(r,function(){i-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,n&&(i-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),s&&(i-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),i}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+"px")})}}),e.extend(e.expr[":"],{data:function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e(function(){var t=document.body,i=t.appendChild(i=document.createElement("div"));i.offsetHeight,e.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===i.offsetHeight,e.support.selectstart="onselectstart"in i,t.removeChild(i).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s=e.ui[t].prototype;for(var r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([i,n[r]])},call:function(e,t,i){var n=e.plugins[t];if(n&&e.element[0].parentNode)for(var s=0;s<n.length;s++)e.options[n[s][0]]&&n[s][1].apply(e.element,i)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)},isOverAxis:function(e,t,i){return e>t&&t+i>e},isOver:function(t,i,n,s,r,o){return e.ui.isOverAxis(t,n,r)&&e.ui.isOverAxis(i,s,o)}}))}(jQuery),/*!
 * jQuery UI Widget 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
function(e,t){if(e.cleanData){var i=e.cleanData;e.cleanData=function(t){for(var n,s=0;null!=(n=t[s]);s++)try{e(n).triggerHandler("remove")}catch(r){}i(t)}}else{var n=e.fn.remove;e.fn.remove=function(t,i){return this.each(function(){return i||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),n.call(e(this),t,i)})}}e.widget=function(t,i,n){var s,r=t.split(".")[0];t=t.split(".")[1],s=r+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s]=function(i){return!!e.data(i,t)},e[r]=e[r]||{},e[r][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var o=new i;o.options=e.extend(!0,{},o.options),e[r][t].prototype=e.extend(!0,o,{namespace:r,widgetName:t,widgetEventPrefix:e[r][t].prototype.widgetEventPrefix||t,widgetBaseClass:s},n),e.widget.bridge(t,e[r][t])},e.widget.bridge=function(i,n){e.fn[i]=function(s){var r="string"==typeof s,o=Array.prototype.slice.call(arguments,1),a=this;return s=!r&&o.length?e.extend.apply(null,[!0,s].concat(o)):s,r&&"_"===s.charAt(0)?a:(r?this.each(function(){var n=e.data(this,i),r=n&&e.isFunction(n[s])?n[s].apply(n,o):n;return r!==n&&r!==t?(a=r,!1):void 0}):this.each(function(){var t=e.data(this,i);t?t.option(s||{})._init():e.data(this,i,new n(s,this))}),a)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,i){e.data(i,this.widgetName,this),this.element=e(i),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(i,n){var s=i;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof i){if(n===t)return this.options[i];s={},s[i]=n}return this._setOptions(s),this},_setOptions:function(t){var i=this;return e.each(t,function(e,t){i._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,i,n){var s,r,o=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(s in r)s in i||(i[s]=r[s]);return this.element.trigger(i,n),!(e.isFunction(o)&&o.call(this.element[0],i,n)===!1||i.isDefaultPrevented())}}}(jQuery),/*!
 * jQuery UI Mouse 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1==i.which,r="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!r&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*
 * jQuery UI Draggable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(i.iframeFix&&e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1;if(e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var n=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return this.options.iframeFix===!0&&e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=this.options.handle&&e(this.options.handle,this.element).length?!1:!0;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),n[0]==this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var i=e(t.containment),n=i[0];if(!n)return;i.offset();var s="hidden"!=e(n).css("overflow");this.containment=[(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0),(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0),(s?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"==t?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n)}},_generatePosition:function(t){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName),r=t.pageX,o=t.pageY;if(this.originalPosition){var a;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();a=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else a=this.containment;t.pageX-this.offset.click.left<a[0]&&(r=a[0]+this.offset.click.left),t.pageY-this.offset.click.top<a[1]&&(o=a[1]+this.offset.click.top),t.pageX-this.offset.click.left>a[2]&&(r=a[2]+this.offset.click.left),t.pageY-this.offset.click.top>a[3]&&(o=a[3]+this.offset.click.top)}if(i.grid){var c=i.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;o=a?c-this.offset.click.top<a[1]||c-this.offset.click.top>a[3]?c-this.offset.click.top<a[1]?c+i.grid[1]:c-i.grid[1]:c:c;var u=i.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;r=a?u-this.offset.click.left<a[0]||u-this.offset.click.left>a[2]?u-this.offset.click.left<a[0]?u+i.grid[0]:u-i.grid[0]:u:u}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.extend(e.ui.draggable,{version:"1.8.18"}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("draggable"),s=n.options,r=e.extend({},i,{item:n.element});n.sortables=[],e(s.connectToSortable).each(function(){var i=e.data(this,"sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,r))})},stop:function(t,i){var n=e(this).data("draggable"),s=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,i){var n=e(this).data("draggable"),s=this;e.each(n.sortables,function(){this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),s=e(this).data("draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i){var n=e(this).data("draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("draggable"),n=i.options,s=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(n.axis&&"x"==n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"==n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"==n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"==n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){for(var n=e(this).data("draggable"),s=n.options,r=s.snapTolerance,o=i.offset.left,a=o+n.helperProportions.width,l=i.offset.top,c=l+n.helperProportions.height,u=n.snapElements.length-1;u>=0;u--){var d=n.snapElements[u].left,h=d+n.snapElements[u].width,f=n.snapElements[u].top,p=f+n.snapElements[u].height;if(o>d-r&&h+r>o&&l>f-r&&p+r>l||o>d-r&&h+r>o&&c>f-r&&p+r>c||a>d-r&&h+r>a&&l>f-r&&p+r>l||a>d-r&&h+r>a&&c>f-r&&p+r>c){if("inner"!=s.snapMode){var m=Math.abs(f-c)<=r,g=Math.abs(p-l)<=r,v=Math.abs(d-a)<=r,y=Math.abs(h-o)<=r;m&&(i.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),g&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d-n.helperProportions.width}).left-n.margins.left),y&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left)}var b=m||g||v||y;if("outer"!=s.snapMode){var m=Math.abs(f-l)<=r,g=Math.abs(p-c)<=r,v=Math.abs(d-o)<=r,y=Math.abs(h-a)<=r;m&&(i.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),g&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d}).left-n.margins.left),y&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[u].snapping&&(m||g||v||y||b)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=m||g||v||y||b}else n.snapElements[u].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options,i=e.makeArray(e(t.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});if(i.length){var n=parseInt(i[0].style.zIndex)||0;e(i).each(function(e){this.style.zIndex=n+e}),this[0].style.zIndex=n+i.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),s=e(this).data("draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i){var n=e(this).data("draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),/*
 * jQuery UI Droppable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Droppables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
function(e){e.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],i=0;i<t.length;i++)t[i]==this&&t.splice(i,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,i){"accept"==t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return!1;var s=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope==n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.extend(e.ui.droppable,{version:"1.8.18"}),e.ui.intersect=function(t,i,n){if(!i.offset)return!1;var s=(t.positionAbs||t.position.absolute).left,r=s+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,a=o+t.helperProportions.height,l=i.offset.left,c=l+i.proportions.width,u=i.offset.top,d=u+i.proportions.height;switch(n){case"fit":return s>=l&&c>=r&&o>=u&&d>=a;case"intersect":return l<s+t.helperProportions.width/2&&r-t.helperProportions.width/2<c&&u<o+t.helperProportions.height/2&&a-t.helperProportions.height/2<d;case"pointer":var h=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,f=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,p=e.ui.isOver(f,h,u,l,i.proportions.height,i.proportions.width);return p;case"touch":return(o>=u&&d>=o||a>=u&&d>=a||u>o&&a>d)&&(s>=l&&c>=s||r>=l&&c>=r||l>s&&r>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n=e.ui.ddmanager.droppables[t.options.scope]||[],s=i?i.type:null,r=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var o=0;o<n.length;o++)if(!(n[o].options.disabled||t&&!n[o].accept.call(n[o].element[0],t.currentItem||t.element))){for(var a=0;a<r.length;a++)if(r[a]==n[o].element[0]){n[o].proportions.height=0;continue e}n[o].visible="none"!=n[o].element.css("display"),n[o].visible&&("mousedown"==s&&n[o]._activate.call(n[o],i),n[o].offset=n[o].element.offset(),n[o].proportions={width:n[o].element[0].offsetWidth,height:n[o].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parents(":not(body,html)").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n=e.ui.intersect(t,this,this.options.tolerance),s=n||1!=this.isover?n&&0==this.isover?"isover":null:"isout";if(s){var r;if(this.options.greedy){var o=this.element.parents(":data(droppable):eq(0)");o.length&&(r=e.data(o[0],"droppable"),r.greedyChild="isover"==s?1:0)}r&&"isover"==s&&(r.isover=0,r.isout=1,r._out.call(r,i)),this[s]=1,this["isout"==s?"isover":"isout"]=0,this["isover"==s?"_over":"_out"].call(this,i),r&&"isout"==s&&(r.isout=0,r.isover=1,r._over.call(r,i))}}})},dragStop:function(t,i){t.element.parents(":not(body,html)").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),/*
 * jQuery UI Resizable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,i=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var s=0;s<n.length;s++){var r=e.trim(n[s]),o="ui-resizable-"+r,a=e('<div class="ui-resizable-handle '+o+'"></div>');/sw|se|ne|nw/.test(r)&&a.css({zIndex:++i.zIndex}),"se"==r&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(a)}}this._renderAxis=function(t){t=t||this.element;for(var i in this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n=e(this.handles[i],this.element),s=0;s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth();var r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");t.css(r,s),this._proportionallyResize()}e(this.handles[i]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),i.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){i.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())},function(){i.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var i=this.element;i.after(this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var i=!1;for(var n in this.handles)e(this.handles[n])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(i){var n=this.options,s=this.element.position(),r=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(r.is(".ui-draggable")||/absolute/.test(r.css("position")))&&r.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy();var o=t(this.helper.css("left")),a=t(this.helper.css("top"));n.containment&&(o+=e(n.containment).scrollLeft()||0,a+=e(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:a},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:o,top:a},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==l?this.axis+"-resize":l),r.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i=this.helper,n=(this.options,this.originalMousePosition),s=this.axis,r=t.pageX-n.left||0,o=t.pageY-n.top||0,a=this._change[s];if(!a)return!1;var l=a.apply(this,[t,r,o]);return e.browser.msie&&e.browser.version<7,this.sizeDiff,this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(l=this._updateRatio(l,t)),l=this._respectSize(l,t),this._propagate("resize",t),i.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var i=this.options,n=this;if(this._helper){var s=this._proportionallyResizeElements,r=s.length&&/textarea/i.test(s[0].nodeName),o=r&&e.ui.hasScroll(s[0],"left")?0:n.sizeDiff.height,a=r?0:n.sizeDiff.width,l={width:n.helper.width()-a,height:n.helper.height()-o},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;i.animate||this.element.css(e.extend(l,{top:u,left:c})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,s,r,o,a=this.options;o={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),s>o.minHeight&&(o.minHeight=s),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.options,this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=(this.options,this.position),n=this.size,s=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==s&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"==s&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e,t){var n=(this.helper,this._vBoundaries),s=(this._aspectRatio||t.shiftKey,this.axis),r=i(e.width)&&n.maxWidth&&n.maxWidth<e.width,o=i(e.height)&&n.maxHeight&&n.maxHeight<e.height,a=i(e.width)&&n.minWidth&&n.minWidth>e.width,l=i(e.height)&&n.minHeight&&n.minHeight>e.height;a&&(e.width=n.minWidth),l&&(e.height=n.minHeight),r&&(e.width=n.maxWidth),o&&(e.height=n.maxHeight);var c=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,d=/sw|nw|w/.test(s),h=/nw|ne|n/.test(s);a&&d&&(e.left=c-n.minWidth),r&&d&&(e.left=c-n.maxWidth),l&&h&&(e.top=u-n.minHeight),o&&h&&(e.top=u-n.maxHeight);var f=!e.width&&!e.height;return f&&!e.left&&e.top?e.top=null:f&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var t=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var n=this._proportionallyResizeElements[i];if(!this.borderDif){var s=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],r=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];this.borderDif=e.map(s,function(e,t){var i=parseInt(e,10)||0,n=parseInt(r[t],10)||0;return i+n})}e.browser.msie&&(e(t).is(":hidden")||e(t).parents(":hidden").length)||n.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var n=e.browser.msie&&e.browser.version<7,s=n?1:0,r=n?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+r,height:this.element.outerHeight()+r,position:"absolute",left:this.elementOffset.left-s+"px",top:this.elementOffset.top-s+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=(this.options,this.originalSize),n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=(this.options,this.originalSize),s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!=t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.extend(e.ui.resizable,{version:"1.8.18"}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("resizable"),s=n.options,r=n.originalSize,o=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0},l=function(t,n){e(t).each(function(){var t=e(this),s=e(this).data("resizable-alsoresize"),r={},o=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(s[t]||0)+(a[t]||0);i&&i>=0&&(r[t]=i||null)}),t.css(r)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):e.each(s.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("resizable"),n=i.options,s=i._proportionallyResizeElements,r=s.length&&/textarea/i.test(s[0].nodeName),o=r&&e.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i=e(this).data("resizable"),n=i.options,s=i.element,r=n.containment,o=r instanceof e?r.get(0):/parent/.test(r)?s.parent().get(0):r;if(o)if(i.containerElement=e(o),/document/.test(r)||r==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var a=e(o),l=[];e(["Top","Right","Left","Bottom"]).each(function(e,i){l[e]=t(a.css("padding"+i))}),i.containerOffset=a.offset(),i.containerPosition=a.position(),i.containerSize={height:a.innerHeight()-l[3],width:a.innerWidth()-l[1]};var c=i.containerOffset,u=i.containerSize.height,d=i.containerSize.width,h=e.ui.hasScroll(o,"left")?o.scrollWidth:d,f=e.ui.hasScroll(o)?o.scrollHeight:u;i.parentData={element:o,left:c.left,top:c.top,width:h,height:f}}},resize:function(t){var i=e(this).data("resizable"),n=i.options,s=(i.containerSize,i.containerOffset),r=(i.size,i.position),o=i._aspectRatio||t.shiftKey,a={top:0,left:0},l=i.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(a=s),r.left<(i._helper?s.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-s.left:i.position.left-a.left),o&&(i.size.height=i.size.width/n.aspectRatio),i.position.left=n.helper?s.left:0),r.top<(i._helper?s.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-s.top:i.position.top),o&&(i.size.width=i.size.height*n.aspectRatio),i.position.top=i._helper?s.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top;var c=Math.abs((i._helper?i.offset.left-a.left:i.offset.left-a.left)+i.sizeDiff.width),u=Math.abs((i._helper?i.offset.top-a.top:i.offset.top-s.top)+i.sizeDiff.height),d=i.containerElement.get(0)==i.element.parent().get(0),h=/relative|absolute/.test(i.containerElement.css("position"));d&&h&&(c-=i.parentData.left),c+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-c,o&&(i.size.height=i.size.width/i.aspectRatio)),u+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-u,o&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=e(this).data("resizable"),i=t.options,n=(t.position,t.containerOffset),s=t.containerPosition,r=t.containerElement,o=e(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(r.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(r.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("resizable");t.options,t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("resizable");t.options,t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t){var i=e(this).data("resizable"),n=i.options,s=i.size,r=i.originalSize,o=i.originalPosition,a=i.axis;n._aspectRatio||t.shiftKey,n.grid="number"==typeof n.grid?[n.grid,n.grid]:n.grid;var l=Math.round((s.width-r.width)/(n.grid[0]||1))*(n.grid[0]||1),c=Math.round((s.height-r.height)/(n.grid[1]||1))*(n.grid[1]||1);/^(se|s|e)$/.test(a)?(i.size.width=r.width+l,i.size.height=r.height+c):/^(ne)$/.test(a)?(i.size.width=r.width+l,i.size.height=r.height+c,i.position.top=o.top-c):/^(sw)$/.test(a)?(i.size.width=r.width+l,i.size.height=r.height+c,i.position.left=o.left-l):(i.size.width=r.width+l,i.size.height=r.height+c,i.position.top=o.top-c,i.position.left=o.left-l)}});var t=function(e){return parseInt(e,10)||0},i=function(e){return!isNaN(parseInt(e,10))}}(jQuery),/*
 * jQuery UI Selectable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Selectables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var i;this.refresh=function(){i=e(t.options.filter,t.element[0]),i.addClass("ui-selectee"),i.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=i.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var i=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var n=this.options;this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().andSelf().each(function(){var n=e.data(this,"selectable-item");if(n){var s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected");return n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1}})}},_mouseDrag:function(t){var i=this;if(this.dragged=!0,!this.options.disabled){var n=this.options,s=this.opos[0],r=this.opos[1],o=t.pageX,a=t.pageY;if(s>o){var l=o;o=s,s=l}if(r>a){var l=a;a=r,r=l}return this.helper.css({left:s,top:r,width:o-s,height:a-r}),this.selectees.each(function(){var l=e.data(this,"selectable-item");if(l&&l.element!=i.element[0]){var c=!1;"touch"==n.tolerance?c=!(l.left>o||l.right<s||l.top>a||l.bottom<r):"fit"==n.tolerance&&(c=l.left>s&&l.right<o&&l.top>r&&l.bottom<a),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,i._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&((t.metaKey||t.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),i._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&(t.metaKey||t.ctrlKey||l.startselected||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,i._trigger("unselecting",t,{unselecting:l.element}))))}}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,this.options,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.extend(e.ui.selectable,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Sortable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){e.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget()[i?"addClass":"removeClass"]("ui-sortable-disabled")):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var s=null,r=this;if(e(t.target).parents().each(function(){return e.data(this,n.widgetName+"-item")==r?(s=e(this),!1):void 0}),e.data(t.target,n.widgetName+"-item")==r&&(s=e(t.target)),!s)return!1;if(this.options.handle&&!i){var o=!1;if(e(this.options.handle,s).find("*").andSelf().each(function(){this==t.target&&(o=!0)}),!o)return!1}return this.currentItem=s,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,i,n){var s=this.options,r=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",s.cursor)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(var o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,r._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,n=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-e(document).scrollTop()<i.scrollSensitivity?n=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(n=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed)),t.pageX-e(document).scrollLeft()<i.scrollSensitivity?n=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(n=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))),n!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var s=this.items.length-1;s>=0;s--){var r=this.items[s],o=r.item[0],a=this._intersectsWithPointer(r);if(a&&o!=this.currentItem[0]&&this.placeholder[1==a?"next":"prev"]()[0]!=o&&!e.ui.contains(this.placeholder[0],o)&&("semi-dynamic"==this.options.type?!e.ui.contains(this.element[0],o):!0)){if(this.direction=1==a?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=n.placeholder.offset();n.reverting=!0,e(this.helper).animate({left:s.left-this.offset.parent.left-n.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:s.top-this.offset.parent.top-n.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){var t=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,t._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,t._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,r=e.left,o=r+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d=n+c>a&&l>n+c&&t+u>r&&o>t+u;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=i&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return s?this.floating?o&&"right"==o||"down"==r?2:1:r&&("down"==r?2:1):!1},_intersectsWithSides:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"==r&&n||"left"==r&&!n:s&&("down"==s&&i||"up"==s&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i=[],n=[],s=this._connectWith();if(s&&t)for(var r=s.length-1;r>=0;r--)for(var o=e(s[r]),a=o.length-1;a>=0;a--){var l=e.data(o[a],this.widgetName);l&&l!=this&&!l.options.disabled&&n.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}n.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var r=n.length-1;r>=0;r--)n[r][0].each(function(){i.push(this)});return e(i)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data("+this.widgetName+"-item)"),t=0;t<this.items.length;t++)for(var i=0;i<e.length;i++)e[i]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var i=this.items,n=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],s=this._connectWith();if(s&&this.ready)for(var r=s.length-1;r>=0;r--)for(var o=e(s[r]),a=o.length-1;a>=0;a--){var l=e.data(o[a],this.widgetName);l&&l!=this&&!l.options.disabled&&(n.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(var r=n.length-1;r>=0;r--)for(var c=n[r][1],u=n[r][0],a=0,d=u.length;d>a;a++){var h=e(u[a]);h.data(this.widgetName+"-item",c),i.push({item:h,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var n=this.items[i];if(n.instance==this.currentContainer||!this.currentContainer||n.item[0]==this.currentItem[0]){var s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item;t||(n.width=s.outerWidth(),n.height=s.outerHeight());var r=s.offset();n.left=r.left,n.top=r.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var i=this.containers.length-1;i>=0;i--){var r=this.containers[i].element.offset();this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(t){var i=t||this,n=i.options;if(!n.placeholder||n.placeholder.constructor==String){var s=n.placeholder;n.placeholder={element:function(){var t=e(document.createElement(i.currentItem[0].nodeName)).addClass(s||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return s||(t.style.visibility="hidden"),t},update:function(e,t){(!s||n.forcePlaceholderSize)&&(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}}i.placeholder=e(n.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),n.placeholder.update(i,i.placeholder)},_contactContainers:function(t){for(var i=null,n=null,s=this.containers.length-1;s>=0;s--)if(!e.ui.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(i&&e.ui.contains(this.containers[s].element[0],i.element[0]))continue;i=this.containers[s],n=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",t,this._uiHash(this)),this.containers[s].containerCache.over=0);if(i)if(1===this.containers.length)this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1;else if(this.currentContainer!=this.containers[n]){for(var r=1e4,o=null,a=this.positionAbs[this.containers[n].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(e.ui.contains(this.containers[n].element[0],this.items[l].item[0])){var c=this.items[l][this.containers[n].floating?"left":"top"];Math.abs(c-a)<r&&(r=Math.abs(c-a),o=this.items[l])}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[n],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[n].element,!0),this._trigger("change",t,this._uiHash()),this.containers[n]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(""==n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var i=e(t.containment)[0],n=e(t.containment).offset(),s="hidden"!=e(i).css("overflow");this.containment=[n.left+(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0)-this.margins.top,n.left+(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"==t?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n)}},_generatePosition:function(t){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var r=t.pageX,o=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid)){var a=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1];o=this.containment?a-this.offset.click.top<this.containment[1]||a-this.offset.click.top>this.containment[3]?a-this.offset.click.top<this.containment[1]?a+i.grid[1]:a-i.grid[1]:a:a;var l=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0];r=this.containment?l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2]?l-this.offset.click.left<this.containment[0]?l+i.grid[0]:l-i.grid[0]:l:l}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this,r=this.counter;window.setTimeout(function(){r==s.counter&&s.refreshPositions(!n)},0)},_clear:function(t,i){this.reverting=!1;var n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var s in this._storedCSS)("auto"==this._storedCSS[s]||"static"==this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!i&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||i||n.push(function(e){this._trigger("update",e,this._uiHash())}),!e.ui.contains(this.element[0],this.currentItem[0])){i||n.push(function(e){this._trigger("remove",e,this._uiHash())});for(var s=this.containers.length-1;s>=0;s--)e.ui.contains(this.containers[s].element[0],this.currentItem[0])&&!i&&(n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[s])),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[s])))}for(var s=this.containers.length-1;s>=0;s--)i||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){this._trigger("beforeStop",t,this._uiHash());for(var s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(var s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.extend(e.ui.sortable,{version:"1.8.18"})}(jQuery),jQuery.effects||function(e,t){function i(t){var i;return t&&t.constructor==Array&&3==t.length?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3])]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:(i=/rgba\(0, 0, 0, 0\)/.exec(t))?c.transparent:c[e.trim(t).toLowerCase()]}function n(t,n){var s;do{if(s=e.curCSS(t,n),""!=s&&"transparent"!=s||e.nodeName(t,"body"))break;n="backgroundColor"}while(t=t.parentNode);return i(s)}function s(){var e,t,i=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,n={};if(i&&i.length&&i[0]&&i[i[0]])for(var s=i.length;s--;)e=i[s],"string"==typeof i[e]&&(t=e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n[t]=i[e]);else for(e in i)"string"==typeof i[e]&&(n[e]=i[e]);return n}function r(t){var i,n;for(i in t)n=t[i],(null==n||e.isFunction(n)||i in d||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(n)))&&delete t[i];return t}function o(e,t){var i,n={_:0};for(i in t)e[i]!=t[i]&&(n[i]=t[i]);return n}function a(t,i,n,s){return"object"==typeof t&&(s=i,n=null,i=t,t=i.effect),e.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(s=n,n=i,i={}),e.isFunction(n)&&(s=n,n=null),i=i||{},n=n||i.duration,n=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,s=s||i.complete,[t,i,n,s]}function l(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects[t]?!1:!0}e.effects={},e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,s){e.fx.step[s]=function(e){e.colorInit||(e.start=n(e.elem,s),e.end=i(e.end),e.colorInit=!0),e.elem.style[s]="rgb("+Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2],10),255),0)+")"}});var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},u=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.effects.animateClass=function(t,i,n,a){return e.isFunction(n)&&(a=n,n=null),this.queue(function(){var l,c=e(this),d=c.attr("style")||" ",h=r(s.call(this)),f=c.attr("class");e.each(u,function(e,i){t[i]&&c[i+"Class"](t[i])}),l=r(s.call(this)),c.attr("class",f),c.animate(o(h,l),{queue:!1,duration:i,easing:n,complete:function(){e.each(u,function(e,i){t[i]&&c[i+"Class"](t[i])}),"object"==typeof c.attr("style")?(c.attr("style").cssText="",c.attr("style").cssText=d):c.attr("style",d),a&&a.apply(this,arguments),e.dequeue(this)}})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,i,n,s){return i?e.effects.animateClass.apply(this,[{add:t},i,n,s]):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,i,n,s){return i?e.effects.animateClass.apply(this,[{remove:t},i,n,s]):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(i,n,s,r,o){return"boolean"==typeof n||n===t?s?e.effects.animateClass.apply(this,[n?{add:i}:{remove:i},s,r,o]):this._toggleClass(i,n):e.effects.animateClass.apply(this,[{toggle:i},n,s,r])},switchClass:function(t,i,n,s,r){return e.effects.animateClass.apply(this,[{add:i,remove:t},n,s,r])}}),e.extend(e.effects,{version:"1.8.18",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data("ec.storage."+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.css(t[i],e.data("ec.storage."+t[i]))},setMode:function(e,t){return"toggle"==t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s=document.activeElement;return t.wrap(n),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n=t.parent(),"static"==t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(i).show()},removeWrapper:function(t){var i,n=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(i=t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),i):t},setTransition:function(t,i,n,s){return s=s||{},e.each(i,function(e,i){unit=t.cssUnit(i),unit[0]>0&&(s[i]=unit[0]*n+unit[1])}),s}}),e.fn.extend({effect:function(t){var i=a.apply(this,arguments),n={options:i[1],duration:i[2],callback:i[3]},s=n.options.mode,r=e.effects[t];return e.fx.off||!r?s?this[s](n.duration,n.callback):this.each(function(){n.callback&&n.callback.call(this)}):r.call(this,n)},_show:e.fn.show,show:function(e){if(l(e))return this._show.apply(this,arguments);var t=a.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:e.fn.hide,hide:function(e){if(l(e))return this._hide.apply(this,arguments);var t=a.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(l(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var i=a.apply(this,arguments);return i[1].mode="toggle",this.effect.apply(this,i)},cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}}),/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 *
 * Open source under the BSD License.
 *
 * Copyright 2008 George McGinley Smith
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice, this list of
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list
 * of conditions and the following disclaimer in the documentation and/or other materials
 * provided with the distribution.
 *
 * Neither the name of the author nor the names of contributors may be used to endorse
 * or promote products derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 *
*/
e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,i,n,s,r){return e.easing[e.easing.def](t,i,n,s,r)},easeInQuad:function(e,t,i,n,s){return n*(t/=s)*t+i},easeOutQuad:function(e,t,i,n,s){return-n*(t/=s)*(t-2)+i},easeInOutQuad:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,s){return n*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,n,s){return n*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,s){return n*(t/=s)*t*t*t+i},easeOutQuart:function(e,t,i,n,s){return-n*((t=t/s-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,s){return n*(t/=s)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,s){return n*((t=t/s-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,s){return-n*Math.cos(t/s*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,s){return n*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,s){return-n/2*(Math.cos(Math.PI*t/s)-1)+i},easeInExpo:function(e,t,i,n,s){return 0==t?i:n*Math.pow(2,10*(t/s-1))+i},easeOutExpo:function(e,t,i,n,s){return t==s?i+n:n*(-Math.pow(2,-10*t/s)+1)+i},easeInOutExpo:function(e,t,i,n,s){return 0==t?i:t==s?i+n:(t/=s/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,n,s){return-n*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOutCirc:function(e,t,i,n,s){return n*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOutCirc:function(e,t,i,n,s){return(t/=s/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,s){var r=1.70158,o=0,a=n;if(0==t)return i;if(1==(t/=s))return i+n;if(o||(o=.3*s),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*s-r)*2*Math.PI/o))+i},easeOutElastic:function(e,t,i,n,s){var r=1.70158,o=0,a=n;if(0==t)return i;if(1==(t/=s))return i+n;if(o||(o=.3*s),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return a*Math.pow(2,-10*t)*Math.sin((t*s-r)*2*Math.PI/o)+n+i},easeInOutElastic:function(e,t,i,n,s){var r=1.70158,o=0,a=n;if(0==t)return i;if(2==(t/=s/2))return i+n;if(o||(o=s*.3*1.5),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return 1>t?-.5*a*Math.pow(2,10*(t-=1))*Math.sin((t*s-r)*2*Math.PI/o)+i:.5*a*Math.pow(2,-10*(t-=1))*Math.sin((t*s-r)*2*Math.PI/o)+n+i},easeInBack:function(e,i,n,s,r,o){return o==t&&(o=1.70158),s*(i/=r)*i*((o+1)*i-o)+n},easeOutBack:function(e,i,n,s,r,o){return o==t&&(o=1.70158),s*((i=i/r-1)*i*((o+1)*i+o)+1)+n},easeInOutBack:function(e,i,n,s,r,o){return o==t&&(o=1.70158),(i/=r/2)<1?s/2*i*i*(((o*=1.525)+1)*i-o)+n:s/2*((i-=2)*i*(((o*=1.525)+1)*i+o)+2)+n},easeInBounce:function(t,i,n,s,r){return s-e.easing.easeOutBounce(t,r-i,0,s,r)+n},easeOutBounce:function(e,t,i,n,s){return(t/=s)<1/2.75?n*7.5625*t*t+i:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,n,s,r){return r/2>i?.5*e.easing.easeInBounce(t,2*i,0,s,r)+n:.5*e.easing.easeOutBounce(t,2*i-r,0,s,r)+.5*s+n}})}(jQuery),/*
 * jQuery UI Effects Blind 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Blind
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.blind=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right"],s=e.effects.setMode(i,t.options.mode||"hide"),r=t.options.direction||"vertical";e.effects.save(i,n),i.show();var o=e.effects.createWrapper(i).css({overflow:"hidden"}),a="vertical"==r?"height":"width",l="vertical"==r?o.height():o.width();"show"==s&&o.css(a,0);var c={};c[a]="show"==s?l:0,o.animate(c,t.duration,t.options.easing,function(){"hide"==s&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),/*
 * jQuery UI Effects Bounce 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Bounce
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.bounce=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right"],s=e.effects.setMode(i,t.options.mode||"effect"),r=t.options.direction||"up",o=t.options.distance||20,a=t.options.times||5,l=t.duration||250;/show|hide/.test(s)&&n.push("opacity"),e.effects.save(i,n),i.show(),e.effects.createWrapper(i);var c="up"==r||"down"==r?"top":"left",u="up"==r||"left"==r?"pos":"neg",o=t.options.distance||("top"==c?i.outerHeight({margin:!0})/3:i.outerWidth({margin:!0})/3);if("show"==s&&i.css("opacity",0).css(c,"pos"==u?-o:o),"hide"==s&&(o/=2*a),"hide"!=s&&a--,"show"==s){var d={opacity:1};d[c]=("pos"==u?"+=":"-=")+o,i.animate(d,l/2,t.options.easing),o/=2,a--}for(var h=0;a>h;h++){var f={},p={};f[c]=("pos"==u?"-=":"+=")+o,p[c]=("pos"==u?"+=":"-=")+o,i.animate(f,l/2,t.options.easing).animate(p,l/2,t.options.easing),o="hide"==s?2*o:o/2}if("hide"==s){var d={opacity:0};d[c]=("pos"==u?"-=":"+=")+o,i.animate(d,l/2,t.options.easing,function(){i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)})}else{var f={},p={};f[c]=("pos"==u?"-=":"+=")+o,p[c]=("pos"==u?"+=":"-=")+o,i.animate(f,l/2,t.options.easing).animate(p,l/2,t.options.easing,function(){e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)})}i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),/*
 * jQuery UI Effects Clip 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Clip
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.clip=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(i,t.options.mode||"hide"),r=t.options.direction||"vertical";e.effects.save(i,n),i.show();var o=e.effects.createWrapper(i).css({overflow:"hidden"}),a="IMG"==i[0].tagName?o:i,l={size:"vertical"==r?"height":"width",position:"vertical"==r?"top":"left"},c="vertical"==r?a.height():a.width();"show"==s&&(a.css(l.size,0),a.css(l.position,c/2));var u={};u[l.size]="show"==s?c:0,u[l.position]="show"==s?0:c/2,a.animate(u,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==s&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Drop 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Drop
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.drop=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right","opacity"],s=e.effects.setMode(i,t.options.mode||"hide"),r=t.options.direction||"left";e.effects.save(i,n),i.show(),e.effects.createWrapper(i);var o="up"==r||"down"==r?"top":"left",a="up"==r||"left"==r?"pos":"neg",l=t.options.distance||("top"==o?i.outerHeight({margin:!0})/2:i.outerWidth({margin:!0})/2);"show"==s&&i.css("opacity",0).css(o,"pos"==a?-l:l);var c={opacity:"show"==s?1:0};c[o]=("show"==s?"pos"==a?"+=":"-=":"pos"==a?"-=":"+=")+l,i.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==s&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Explode 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Explode
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.explode=function(t){return this.queue(function(){var i=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,n=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3;t.options.mode="toggle"==t.options.mode?e(this).is(":visible")?"hide":"show":t.options.mode;var s=e(this).show().css("visibility","hidden"),r=s.offset();r.top-=parseInt(s.css("marginTop"),10)||0,r.left-=parseInt(s.css("marginLeft"),10)||0;for(var o=s.outerWidth(!0),a=s.outerHeight(!0),l=0;i>l;l++)for(var c=0;n>c;c++)s.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-c*(o/n),top:-l*(a/i)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:o/n,height:a/i,left:r.left+c*(o/n)+("show"==t.options.mode?(c-Math.floor(n/2))*(o/n):0),top:r.top+l*(a/i)+("show"==t.options.mode?(l-Math.floor(i/2))*(a/i):0),opacity:"show"==t.options.mode?0:1}).animate({left:r.left+c*(o/n)+("show"==t.options.mode?0:(c-Math.floor(n/2))*(o/n)),top:r.top+l*(a/i)+("show"==t.options.mode?0:(l-Math.floor(i/2))*(a/i)),opacity:"show"==t.options.mode?1:0},t.duration||500);setTimeout(function(){"show"==t.options.mode?s.css({visibility:"visible"}):s.css({visibility:"visible"}).hide(),t.callback&&t.callback.apply(s[0]),s.dequeue(),e("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),/*
 * jQuery UI Effects Fade 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fade
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.fade=function(t){return this.queue(function(){var i=e(this),n=e.effects.setMode(i,t.options.mode||"hide");i.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Fold 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fold
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.fold=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right"],s=e.effects.setMode(i,t.options.mode||"hide"),r=t.options.size||15,o=!!t.options.horizFirst,a=t.duration?t.duration/2:e.fx.speeds._default/2;e.effects.save(i,n),i.show();var l=e.effects.createWrapper(i).css({overflow:"hidden"}),c="show"==s!=o,u=c?["width","height"]:["height","width"],d=c?[l.width(),l.height()]:[l.height(),l.width()],h=/([0-9]+)%/.exec(r);h&&(r=parseInt(h[1],10)/100*d["hide"==s?0:1]),"show"==s&&l.css(o?{height:0,width:r}:{height:r,width:0});var f={},p={};f[u[0]]="show"==s?d[0]:r,p[u[1]]="show"==s?d[1]:0,l.animate(f,a,t.options.easing).animate(p,a,t.options.easing,function(){"hide"==s&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),/*
 * jQuery UI Effects Highlight 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Highlight
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.highlight=function(t){return this.queue(function(){var i=e(this),n=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(i,t.options.mode||"show"),r={backgroundColor:i.css("backgroundColor")};"hide"==s&&(r.opacity=0),e.effects.save(i,n),i.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==s&&i.hide(),e.effects.restore(i,n),"show"==s&&!e.support.opacity&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Pulsate 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Pulsate
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.pulsate=function(t){return this.queue(function(){var i=e(this),n=e.effects.setMode(i,t.options.mode||"show");times=2*(t.options.times||5)-1,duration=t.duration?t.duration/2:e.fx.speeds._default/2,isVisible=i.is(":visible"),animateTo=0,isVisible||(i.css("opacity",0).show(),animateTo=1),("hide"==n&&isVisible||"show"==n&&!isVisible)&&times--;for(var s=0;times>s;s++)i.animate({opacity:animateTo},duration,t.options.easing),animateTo=(animateTo+1)%2;i.animate({opacity:animateTo},duration,t.options.easing,function(){0==animateTo&&i.hide(),t.callback&&t.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}).dequeue()})}}(jQuery),/*
 * jQuery UI Effects Scale 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Scale
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.puff=function(t){return this.queue(function(){var i=e(this),n=e.effects.setMode(i,t.options.mode||"hide"),s=parseInt(t.options.percent,10)||150,r=s/100,o={height:i.height(),width:i.width()};e.extend(t.options,{fade:!0,mode:n,percent:"hide"==n?s:100,from:"hide"==n?o:{height:o.height*r,width:o.width*r}}),i.effect("scale",t.options,t.duration,t.callback),i.dequeue()})},e.effects.scale=function(t){return this.queue(function(){var i=e(this),n=e.extend(!0,{},t.options),s=e.effects.setMode(i,t.options.mode||"effect"),r=parseInt(t.options.percent,10)||(0==parseInt(t.options.percent,10)?0:"hide"==s?0:100),o=t.options.direction||"both",a=t.options.origin;"effect"!=s&&(n.origin=a||["middle","center"],n.restore=!0);var l={height:i.height(),width:i.width()};i.from=t.options.from||("show"==s?{height:0,width:0}:l);var c={y:"horizontal"!=o?r/100:1,x:"vertical"!=o?r/100:1};i.to={height:l.height*c.y,width:l.width*c.x},t.options.fade&&("show"==s&&(i.from.opacity=0,i.to.opacity=1),"hide"==s&&(i.from.opacity=1,i.to.opacity=0)),n.from=i.from,n.to=i.to,n.mode=s,i.effect("size",n,t.duration,t.callback),i.dequeue()})},e.effects.size=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right","width","height","overflow","opacity"],s=["position","top","bottom","left","right","overflow","opacity"],r=["width","height","overflow"],o=["fontSize"],a=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.effects.setMode(i,t.options.mode||"effect"),u=t.options.restore||!1,d=t.options.scale||"both",h=t.options.origin,f={height:i.height(),width:i.width()};if(i.from=t.options.from||f,i.to=t.options.to||f,h){var p=e.effects.getBaseline(h,f);i.from.top=(f.height-i.from.height)*p.y,i.from.left=(f.width-i.from.width)*p.x,i.to.top=(f.height-i.to.height)*p.y,i.to.left=(f.width-i.to.width)*p.x}var m={from:{y:i.from.height/f.height,x:i.from.width/f.width},to:{y:i.to.height/f.height,x:i.to.width/f.width}};("box"==d||"both"==d)&&(m.from.y!=m.to.y&&(n=n.concat(a),i.from=e.effects.setTransition(i,a,m.from.y,i.from),i.to=e.effects.setTransition(i,a,m.to.y,i.to)),m.from.x!=m.to.x&&(n=n.concat(l),i.from=e.effects.setTransition(i,l,m.from.x,i.from),i.to=e.effects.setTransition(i,l,m.to.x,i.to))),("content"==d||"both"==d)&&m.from.y!=m.to.y&&(n=n.concat(o),i.from=e.effects.setTransition(i,o,m.from.y,i.from),i.to=e.effects.setTransition(i,o,m.to.y,i.to)),e.effects.save(i,u?n:s),i.show(),e.effects.createWrapper(i),i.css("overflow","hidden").css(i.from),("content"==d||"both"==d)&&(a=a.concat(["marginTop","marginBottom"]).concat(o),l=l.concat(["marginLeft","marginRight"]),r=n.concat(a).concat(l),i.find("*[width]").each(function(){child=e(this),u&&e.effects.save(child,r);var i={height:child.height(),width:child.width()};child.from={height:i.height*m.from.y,width:i.width*m.from.x},child.to={height:i.height*m.to.y,width:i.width*m.to.x},m.from.y!=m.to.y&&(child.from=e.effects.setTransition(child,a,m.from.y,child.from),child.to=e.effects.setTransition(child,a,m.to.y,child.to)),m.from.x!=m.to.x&&(child.from=e.effects.setTransition(child,l,m.from.x,child.from),child.to=e.effects.setTransition(child,l,m.to.x,child.to)),child.css(child.from),child.animate(child.to,t.duration,t.options.easing,function(){u&&e.effects.restore(child,r)})})),i.animate(i.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){0===i.to.opacity&&i.css("opacity",i.from.opacity),"hide"==c&&i.hide(),e.effects.restore(i,u?n:s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Shake 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Shake
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.shake=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right"];e.effects.setMode(i,t.options.mode||"effect");var s=t.options.direction||"left",r=t.options.distance||20,o=t.options.times||3,a=t.duration||t.options.duration||140;e.effects.save(i,n),i.show(),e.effects.createWrapper(i);var l="up"==s||"down"==s?"top":"left",c="up"==s||"left"==s?"pos":"neg",u={},d={},h={};u[l]=("pos"==c?"-=":"+=")+r,d[l]=("pos"==c?"+=":"-=")+2*r,h[l]=("pos"==c?"-=":"+=")+2*r,i.animate(u,a,t.options.easing);for(var f=1;o>f;f++)i.animate(d,a,t.options.easing).animate(h,a,t.options.easing);i.animate(d,a,t.options.easing).animate(u,a/2,t.options.easing,function(){e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),/*
 * jQuery UI Effects Slide 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Slide
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.slide=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right"],s=e.effects.setMode(i,t.options.mode||"show"),r=t.options.direction||"left";e.effects.save(i,n),i.show(),e.effects.createWrapper(i).css({overflow:"hidden"});var o="up"==r||"down"==r?"top":"left",a="up"==r||"left"==r?"pos":"neg",l=t.options.distance||("top"==o?i.outerHeight({margin:!0}):i.outerWidth({margin:!0}));"show"==s&&i.css(o,"pos"==a?isNaN(l)?"-"+l:-l:l);var c={};c[o]=("show"==s?"pos"==a?"+=":"-=":"pos"==a?"-=":"+=")+l,i.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==s&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Transfer 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Transfer
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.transfer=function(t){return this.queue(function(){var i=e(this),n=e(t.options.to),s=n.offset(),r={top:s.top,left:s.left,height:n.innerHeight(),width:n.innerWidth()},o=i.offset(),a=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.options.className).css({top:o.top,left:o.left,height:i.innerHeight(),width:i.innerWidth(),position:"absolute"}).animate(r,t.duration,t.options.easing,function(){a.remove(),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),/*
 * jQuery UI Accordion 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Accordion
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,i=t.options;if(t.running=0,t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),t.headers=t.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){i.disabled||e(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){i.disabled||e(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){i.disabled||e(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){i.disabled||e(this).removeClass("ui-state-focus")}),t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),i.navigation){var n=t.element.find("a").filter(i.navigationFilter).eq(0);if(n.length){var s=n.closest(".ui-accordion-header");t.active=s.length?s:n.closest(".ui-accordion-content").prev()}}t.active=t._findActive(t.active||i.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),t.active.next().addClass("ui-accordion-content-active"),t._createIcons(),t.resize(),t.element.attr("role","tablist"),t.headers.attr("role","tab").bind("keydown.accordion",function(e){return t._keydown(e)}).next().attr("role","tabpanel"),t.headers.not(t.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0),e.browser.safari||t.headers.find("a").attr("tabIndex",-1),i.event&&t.headers.bind(i.event.split(" ").join(".accordion ")+".accordion",function(e){t._clickHandler.call(t,e,this),e.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(e("<span></span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var t=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var i=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(t.autoHeight||t.fillHeight)&&i.css("height",""),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments),"active"==t&&this.activate(i),"icons"==t&&(this._destroyIcons(),i&&this._createIcons()),"disabled"==t&&this.headers.add(this.headers.next())[i?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)){var i=e.ui.keyCode,n=this.headers.length,s=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._clickHandler({target:t.target},t.target),t.preventDefault()}return r?(e(t.target).attr("tabIndex",-1),e(r).attr("tabIndex",0),r.focus(),!1):!0}},resize:function(){var t,i=this.options;if(i.fillSpace){if(e.browser.msie){var n=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}t=this.element.parent().height(),e.browser.msie&&this.element.parent().css("overflow",n),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else i.autoHeight&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).height("").height())}).height(t));return this},activate:function(e){this.options.active=e;var t=this._findActive(e)[0];return this._clickHandler({target:t},t),this},_findActive:function(t){return t?"number"==typeof t?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):t===!1?e([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,i){var n=this.options;if(!n.disabled){if(!t.target){if(!n.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header),this.active.next().addClass("ui-accordion-content-active");var s=this.active.next(),r={options:n,newHeader:e([]),oldHeader:n.active,newContent:e([]),oldContent:s},o=this.active=e([]);return this._toggle(o,s,r),void 0}var a=e(t.currentTarget||i),l=a[0]===this.active[0];if(n.active=n.collapsible&&l?!1:this.headers.index(a),!(this.running||!n.collapsible&&l)){var c=this.active,o=a.next(),s=this.active.next(),r={options:n,newHeader:l&&n.collapsible?e([]):a,oldHeader:this.active,newContent:l&&n.collapsible?e([]):o,oldContent:s},u=this.headers.index(this.active[0])>this.headers.index(a[0]);this.active=l?e([]):a,this._toggle(o,s,r,l,u),c.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header),l||(a.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(n.icons.header).addClass(n.icons.headerSelected),a.next().addClass("ui-accordion-content-active"))}}},_toggle:function(t,i,n,s,r){var o=this,a=o.options;o.toShow=t,o.toHide=i,o.data=n;var l=function(){return o?o._completed.apply(o,arguments):void 0};if(o._trigger("changestart",null,o.data),o.running=0===i.size()?t.size():i.size(),a.animated){var c={};c=a.collapsible&&s?{toShow:e([]),toHide:i,complete:l,down:r,autoHeight:a.autoHeight||a.fillSpace}:{toShow:t,toHide:i,complete:l,down:r,autoHeight:a.autoHeight||a.fillSpace},a.proxied||(a.proxied=a.animated),a.proxiedDuration||(a.proxiedDuration=a.duration),a.animated=e.isFunction(a.proxied)?a.proxied(c):a.proxied,a.duration=e.isFunction(a.proxiedDuration)?a.proxiedDuration(c):a.proxiedDuration;var u=e.ui.accordion.animations,d=a.duration,h=a.animated;!h||u[h]||e.easing[h]||(h="slide"),u[h]||(u[h]=function(e){this.slide(e,{easing:h,duration:d||700})}),u[h](c)}else a.collapsible&&s?t.toggle():(i.hide(),t.show()),l(!0);i.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),t.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(e){this.running=e?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),e.extend(e.ui.accordion,{version:"1.8.18",animations:{slide:function(t,i){if(t=e.extend({easing:"swing",duration:300},t,i),!t.toHide.size())return t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t),void 0;if(!t.toShow.size())return t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t),void 0;var n,s=t.toShow.css("overflow"),r=0,o={},a={},l=["height","paddingTop","paddingBottom"],c=t.toShow;n=c[0].style.width,c.width(c.parent().width()-parseFloat(c.css("paddingLeft"))-parseFloat(c.css("paddingRight"))-(parseFloat(c.css("borderLeftWidth"))||0)-(parseFloat(c.css("borderRightWidth"))||0)),e.each(l,function(i,n){a[n]="hide";var s=(""+e.css(t.toShow[0],n)).match(/^([\d+-.]+)(.*)$/);o[n]={value:s[1],unit:s[2]||"px"}}),t.toShow.css({height:0,overflow:"hidden"}).show(),t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(a,{step:function(e,i){"height"==i.prop&&(r=0===i.end-i.start?0:(i.now-i.start)/(i.end-i.start)),t.toShow[0].style[i.prop]=r*o[i.prop].value+o[i.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height",""),t.toShow.css({width:n,overflow:s}),t.complete()}})},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(jQuery),/*
 * jQuery UI Autocomplete 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(e){var t=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t,i=this,n=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(n){if(!i.options.disabled&&!i.element.propAttr("readOnly")){t=!1;var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:i._move("previousPage",n);break;case s.PAGE_DOWN:i._move("nextPage",n);break;case s.UP:i._move("previous",n),n.preventDefault();break;case s.DOWN:i._move("next",n),n.preventDefault();break;case s.ENTER:case s.NUMPAD_ENTER:i.menu.active&&(t=!0,n.preventDefault());case s.TAB:if(!i.menu.active)return;i.menu.select(n);break;case s.ESCAPE:i.element.val(i.term),i.close(n);break;default:clearTimeout(i.searching),i.searching=setTimeout(function(){i.term!=i.element.val()&&(i.selectedItem=null,i.search(null,n))},i.options.delay)}}}).bind("keypress.autocomplete",function(e){t&&(t=!1,e.preventDefault())}).bind("focus.autocomplete",function(){i.options.disabled||(i.selectedItem=null,i.previous=i.element.val())}).bind("blur.autocomplete",function(e){i.options.disabled||(clearTimeout(i.searching),i.closing=setTimeout(function(){i.close(e),i._change(e)},150))}),this._initSource(),this.response=function(){return i._response.apply(i,arguments)},this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",n)[0]).mousedown(function(t){var n=i.menu.element[0];e(t.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(t){t.target===i.element[0]||t.target===n||e.ui.contains(n,t.target)||i.close()})},1),setTimeout(function(){clearTimeout(i.closing)},13)}).menu({focus:function(e,t){var n=t.item.data("item.autocomplete");!1!==i._trigger("focus",e,{item:n})&&/^key/.test(e.originalEvent.type)&&i.element.val(n.value)},selected:function(e,t){var s=t.item.data("item.autocomplete"),r=i.previous;i.element[0]!==n.activeElement&&(i.element.focus(),i.previous=r,setTimeout(function(){i.previous=r,i.selectedItem=s},1)),!1!==i._trigger("select",e,{item:s})&&i.element.val(s.value),i.term=i.element.val(),i.close(e),i.selectedItem=s},blur:function(){i.menu.element.is(":visible")&&i.element.val()!==i.term&&i.element.val(i.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe(),i.beforeunloadHandler=function(){i.element.removeAttr("autocomplete")},e(window).bind("beforeunload",i.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e(window).unbind("beforeunload",this.beforeunloadHandler),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(e(i||"body",this.element[0].ownerDocument)[0]),"disabled"===t&&i&&this.xhr&&this.xhr.abort()},_initSource:function(){var i,n,s=this;e.isArray(this.options.source)?(i=this.options.source,this.source=function(t,n){n(e.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(i,r){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:n,data:i,dataType:"json",context:{autocompleteRequest:++t},success:function(e){this.autocompleteRequest===t&&r(e)},error:function(){this.autocompleteRequest===t&&r([])}})}):this.source=this.options.source},search:function(e,t){return e=null!=e?e:this.element.val(),this.term=this.element.val(),e.length<this.options.minLength?this.close(t):(clearTimeout(this.closing),this._trigger("search",t)!==!1?this._search(e):void 0)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this.response)},_response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t),this.menu.deactivate(),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItem(t,i)})},_renderItem:function(t,i){return e("<li></li>").data("item.autocomplete",i).append(e("<a></a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)?(this.element.val(this.term),this.menu.deactivate(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}})}(jQuery),/*
 * jQuery UI Menu (not officially released)
 * 
 * This widget isn't yet finished and the API is subject to change. We plan to finish
 * it for the next release. You're welcome to give it a try anyway and give us feedback,
 * as long as you're okay with migrating your code later on. We can help with that, too.
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Menu
 *
 * Depends:
 *	jquery.ui.core.js
 *  jquery.ui.widget.js
 */
function(e){e.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){e(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),t.select(i))}),this.refresh()},refresh:function(){var t=this,i=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");i.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){t.activate(i,e(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){if(this.deactivate(),this.hasScroll()){var i=t.offset().top-this.element.offset().top,n=this.element.scrollTop(),s=this.element.height();0>i?this.element.scrollTop(n+i):i>=s&&this.element.scrollTop(n+i-s+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,i){if(!this.active)return this.activate(i,this.element.children(t)),void 0;var n=this.active[e+"All"](".ui-menu-item").eq(0);n.length?this.activate(i,n):this.activate(i,this.element.children(t))},nextPage:function(t){if(this.hasScroll()){if(!this.active||this.last())return this.activate(t,this.element.children(".ui-menu-item:first")),void 0;var i=this.active.offset().top,n=this.element.height(),s=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-i-n+e(this).height();return 10>t&&t>-10});s.length||(s=this.element.children(".ui-menu-item:last")),this.activate(t,s)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll()){if(!this.active||this.first())return this.activate(t,this.element.children(".ui-menu-item:last")),void 0;var i=this.active.offset().top,n=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-i+n-e(this).height();return 10>t&&t>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(t,result)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[e.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),/*
 * jQuery UI Button 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e){var t,i,n,s,r="ui-button ui-widget ui-state-default ui-corner-all",o="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var i=t.name,n=t.form,s=e([]);return i&&(s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var o=this,a=this.options,u="checkbox"===this.type||"radio"===this.type,d="ui-state-hover"+(u?"":" ui-state-active"),h="ui-state-focus";null===a.label&&(a.label=this.buttonElement.html()),this.buttonElement.addClass(r).attr("role","button").bind("mouseenter.button",function(){a.disabled||(e(this).addClass("ui-state-hover"),this===t&&e(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){a.disabled||e(this).removeClass(d)}).bind("click.button",function(e){a.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus.button",function(){o.buttonElement.addClass(h)}).bind("blur.button",function(){o.buttonElement.removeClass(h)}),u&&(this.element.bind("change.button",function(){s||o.refresh()}),this.buttonElement.bind("mousedown.button",function(e){a.disabled||(s=!1,i=e.pageX,n=e.pageY)}).bind("mouseup.button",function(e){a.disabled||(i!==e.pageX||n!==e.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){return a.disabled||s?!1:(e(this).toggleClass("ui-state-active"),o.buttonElement.attr("aria-pressed",o.element[0].checked),void 0)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(a.disabled||s)return!1;e(this).addClass("ui-state-active"),o.buttonElement.attr("aria-pressed","true");var t=o.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){return a.disabled?!1:(e(this).addClass("ui-state-active"),t=this,e(document).one("mouseup",function(){t=null}),void 0)}).bind("mouseup.button",function(){return a.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown.button",function(t){return a.disabled?!1:((t.keyCode==e.ui.keyCode.SPACE||t.keyCode==e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup.button",function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type){var e=this.element.parents().filter(":last"),t="label[for='"+this.element.attr("id")+"']";this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible");var i=this.element.is(":checked");i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",i)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(r+" "+o+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){return e.Widget.prototype._setOption.apply(this,arguments),"disabled"===t?(i?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(a),i=e("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",i))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}}),e.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,i){"disabled"===t&&this.buttons.button("option",t,i),e.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),e.Widget.prototype.destroy.call(this)}})}(jQuery),/*
 * jQuery UI Datepicker 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Datepicker
 *
 * Depends:
 *	jquery.ui.core.js
 */
function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.bind("mouseout",function(e){var i=$(e.target).closest(t);i.length&&i.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(i){var n=$(i.target).closest(t);!$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])&&n.length&&(n.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n.addClass("ui-state-hover"),n.hasClass("ui-datepicker-prev")&&n.addClass("ui-datepicker-prev-hover"),n.hasClass("ui-datepicker-next")&&n.addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var i in t)(null==t[i]||t[i]==undefined)&&(e[i]=t[i]);return e}function isArray(e){return e&&($.browser.safari&&"object"==typeof e&&e.length||e.constructor&&e.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.18"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var i=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var i=$(e);t.append=$([]),t.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,i,n){t.settings[i]=n}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i=this._get(t,"appendText"),n=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),e[n?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var s=this._get(t,"showOn");if(("focus"==s||"both"==s)&&e.focus(this._showDatepicker),"button"==s||"both"==s){var r=this._get(t,"buttonText"),o=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==o?r:$("<img/>").attr({src:o,alt:r,title:r}))),e[n?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){var n=function(e){for(var t=0,i=0,n=0;n<e.length;n++)e[n].length>t&&(t=e[n].length,i=n);return i};t.setMonth(n(this._get(e,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(n(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var i=$(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,i,n){t.settings[i]=n}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,n,s){var r=this._dialogInst;if(!r){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),r=this._dialogInst=this._newInst(this._dialogInput,!1),r.settings={},$.data(this._dialogInput[0],PROP_NAME,r)}if(extendRemove(r.settings,n||{}),t=t&&t.constructor==Date?this._formatDate(r,t):t,this._dialogInput.val(t),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,!this._pos){var a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[a/2-100+c,l/2-150+u]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),r.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,r),this},_destroyDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==n?(i.append.remove(),i.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==n||"span"==n)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();if("input"==n)e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==n||"span"==n){var s=t.children("."+this._inlineClass);s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();if("input"==n)e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==n||"span"==n){var s=t.children("."+this._inlineClass);s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var n=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):n?"all"==t?$.extend({},n.settings):this._get(n,t):null;var s=t||{};if("string"==typeof t&&(s={},s[t]=i),n){this._curInst==n&&this._hideDatepicker();var r=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(n,"min"),a=this._getMinMaxDate(n,"max");extendRemove(n.settings,s),null!==o&&s.dateFormat!==undefined&&s.minDate===undefined&&(n.settings.minDate=this._formatDate(n,o)),null!==a&&s.dateFormat!==undefined&&s.maxDate===undefined&&(n.settings.maxDate=this._formatDate(n,a)),this._attachments($(e),n),this._autoSize(n),this._setDate(n,r),this._updateAlternate(n),this._updateDatepicker(n)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),i=!0,n=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var s=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);s[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,s[0]);var r=$.datepicker._get(t,"onSelect");if(r){var o=$.datepicker._formatDate(t);r.apply(t.input?t.input[0]:null,[o,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),i=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),i=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,n?1:-1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),i=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,n?-1:1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),i=e.ctrlKey||e.metaKey;break;default:i=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),n=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{var i=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));i&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(e){$.datepicker.log(e)}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(t,"beforeShow"),n=i?i.apply(e,[e,t]):{};if(n!==!1){extendRemove(t.settings,n),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var s=!1;$(e).parents().each(function(){return s|="fixed"==$(this).css("position"),!s}),s&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var r={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),r=$.datepicker._checkOffset(t,r,s),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":s?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),!t.inline){var o=$.datepicker._get(t,"showAnim"),a=$.datepicker._get(t,"duration"),l=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var i=$.datepicker._getBorders(t.dpDiv);e.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[o]?t.dpDiv.show(o,$.datepicker._get(t,"showOptions"),a,l):t.dpDiv[o||"show"](o?a:null,l),o&&a||l(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){var t=this;t.maxRows=4;var i=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e));var n=e.dpDiv.find("iframe.ui-datepicker-cover");n.length&&n.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var s=this._getNumberOfMonths(e),r=s[1],o=17;if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),e.dpDiv[(1!=s[0]||1!=s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var a=e.yearshtml;setTimeout(function(){a===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),a=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,i){var n=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,a=document.documentElement.clientWidth+$(document).scrollLeft(),l=document.documentElement.clientHeight+$(document).scrollTop();return t.left-=this._get(e,"isRTL")?n-r:0,t.left-=i&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+o?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+n>a&&a>n?Math.abs(t.left+n-a):0),t.top-=Math.min(t.top,t.top+s>l&&l>s?Math.abs(s+o):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];var n=$(e).offset();return[n.left,n.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var i=this._get(t,"showAnim"),n=this._get(t,"duration"),s=this,r=function(){$.datepicker._tidyDialog(t),s._curInst=null};$.effects&&$.effects[i]?t.dpDiv.hide(i,$.datepicker._get(t,"showOptions"),n,r):t.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1;var o=this._get(t,"onClose");o&&o.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),i=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var n=$(e),s=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(s,t+("M"==i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(e){var t=$(e),i=this._getInst(t[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var n=new Date;i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(e,t,i){var n=$(e),s=this._getInst(n[0]);s["selected"+("M"==i?"Month":"Year")]=s["draw"+("M"==i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(n)},_selectDay:function(e,t,i,n){var s=$(e);if(!$(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(s[0])){var r=this._getInst(s[0]);r.selectedDay=r.currentDay=$("a",n).html(),r.selectedMonth=r.currentMonth=t,r.selectedYear=r.currentYear=i,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]),this._selectDate(t,"")},_selectDate:function(e,t){var i=$(e),n=this._getInst(i[0]);t=null!=t?t:this._formatDate(n),n.input&&n.input.val(t),this._updateAlternate(n);var s=this._get(n,"onSelect");s?s.apply(n.input?n.input[0]:null,[t,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e));$(t).each(function(){$(this).val(s)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var i=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(e,t,i){if(null==e||null==t)throw"Invalid arguments";if(t="object"==typeof t?t.toString():t+"",""==t)return null;var n=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;n="string"!=typeof n?n:(new Date).getFullYear()%100+parseInt(n,10);for(var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,u=-1,d=-1,h=!1,f=function(t){var i=y+1<e.length&&e.charAt(y+1)==t;return i&&y++,i},p=function(e){var i=f(e),n="@"==e?14:"!"==e?20:"y"==e&&i?4:"o"==e?3:2,s=new RegExp("^\\d{1,"+n+"}"),r=t.substring(v).match(s);if(!r)throw"Missing number at position "+v;return v+=r[0].length,parseInt(r[0],10)},m=function(e,i,n){var s=$.map(f(e)?n:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),r=-1;if($.each(s,function(e,i){var n=i[1];return t.substr(v,n.length).toLowerCase()==n.toLowerCase()?(r=i[0],v+=n.length,!1):void 0}),-1!=r)return r+1;throw"Unknown name at position "+v},g=function(){if(t.charAt(v)!=e.charAt(y))throw"Unexpected literal at position "+v;v++},v=0,y=0;y<e.length;y++)if(h)"'"!=e.charAt(y)||f("'")?g():h=!1;else switch(e.charAt(y)){case"d":u=p("d");break;case"D":m("D",s,r);break;case"o":d=p("o");break;case"m":c=p("m");break;case"M":c=m("M",o,a);break;case"y":l=p("y");break;case"@":var b=new Date(p("@"));l=b.getFullYear(),c=b.getMonth()+1,u=b.getDate();break;case"!":var b=new Date((p("!")-this._ticksTo1970)/1e4);l=b.getFullYear(),c=b.getMonth()+1,u=b.getDate();break;case"'":f("'")?g():h=!0;break;default:g()}if(v<t.length)throw"Extra/unparsed characters found in date: "+t.substring(v);if(-1==l?l=(new Date).getFullYear():100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(n>=l?0:-100)),d>-1)for(c=1,u=d;;){var _=this._getDaysInMonth(l,c-1);if(_>=u)break;c++,u-=_}var b=this._daylightSavingAdjust(new Date(l,c-1,u));if(b.getFullYear()!=l||b.getMonth()+1!=c||b.getDate()!=u)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,a=function(t){var i=h+1<e.length&&e.charAt(h+1)==t;return i&&h++,i},l=function(e,t,i){var n=""+t;if(a(e))for(;n.length<i;)n="0"+n;return n},c=function(e,t,i,n){return a(e)?n[t]:i[t]},u="",d=!1;if(t)for(var h=0;h<e.length;h++)if(d)"'"!=e.charAt(h)||a("'")?u+=e.charAt(h):d=!1;else switch(e.charAt(h)){case"d":u+=l("d",t.getDate(),2);break;case"D":u+=c("D",t.getDay(),n,s);break;case"o":u+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",t.getMonth()+1,2);break;case"M":u+=c("M",t.getMonth(),r,o);break;case"y":u+=a("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":a("'")?u+="'":d=!0;break;default:u+=e.charAt(h)}return u},_possibleChars:function(e){for(var t="",i=!1,n=function(t){var i=s+1<e.length&&e.charAt(s+1)==t;return i&&s++,i},s=0;s<e.length;s++)if(i)"'"!=e.charAt(s)||n("'")?t+=e.charAt(s):i=!1;else switch(e.charAt(s)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":n("'")?t+="'":i=!0;break;default:t+=e.charAt(s)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var i,n,s=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null;i=n=this._getDefaultDate(e);var o=this._getFormatConfig(e);try{i=this.parseDate(s,r,o)||n}catch(a){this.log(a),r=t?"":r}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=r?i.getDate():0,e.currentMonth=r?i.getMonth():0,e.currentYear=r?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,i){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(i){}for(var n=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,s=n.getFullYear(),r=n.getMonth(),o=n.getDate(),a=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(t);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(l[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(s,r))}l=a.exec(t)}return new Date(s,r,o)},r=null==t||""===t?i:"string"==typeof t?s(t):"number"==typeof t?isNaN(t)?i:n(t):new Date(t.getTime());return r=r&&"Invalid Date"==r.toString()?i:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,r=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),s==e.selectedMonth&&r==e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var i=this._get(e,"isRTL"),n=this._get(e,"showButtonPanel"),s=this._get(e,"hideIfNoPrevNext"),r=this._get(e,"navigationAsDateFormat"),o=this._getNumberOfMonths(e),a=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=o[0]||1!=o[1],u=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),d=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),f=e.drawMonth-a,p=e.drawYear;if(0>f&&(f+=12,p--),h){var m=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-o[0]*o[1]+1,h.getDate()));for(m=d&&d>m?d:m;this._daylightSavingAdjust(new Date(p,f,1))>m;)f--,0>f&&(f=11,p--)}e.drawMonth=f,e.drawYear=p;var g=this._get(e,"prevText");g=r?this.formatDate(g,this._daylightSavingAdjust(new Date(p,f-l,1)),this._getFormatConfig(e)):g;var v=this._canAdjustMonth(e,-1,p,f)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+e.id+"', -"+l+", 'M');\""+' title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>":s?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>",y=this._get(e,"nextText");y=r?this.formatDate(y,this._daylightSavingAdjust(new Date(p,f+l,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,p,f)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+e.id+"', +"+l+", 'M');\""+' title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>":s?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>",_=this._get(e,"currentText"),w=this._get(e,"gotoCurrent")&&e.currentDay?u:t;_=r?this.formatDate(_,w,this._getFormatConfig(e)):_;var x=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(e,"closeText")+"</button>",C=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?x:"")+(this._isInRange(e,w)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+e.id+"');\""+">"+_+"</button>":"")+(i?"":x)+"</div>":"",k=parseInt(this._get(e,"firstDay"),10);k=isNaN(k)?0:k;var S=this._get(e,"showWeek"),T=this._get(e,"dayNames");this._get(e,"dayNamesShort");var D=this._get(e,"dayNamesMin"),E=this._get(e,"monthNames"),I=this._get(e,"monthNamesShort"),N=this._get(e,"beforeShowDay"),A=this._get(e,"showOtherMonths"),M=this._get(e,"selectOtherMonths");this._get(e,"calculateWeek")||this.iso8601Week;for(var P=this._getDefaultDate(e),O="",R=0;R<o[0];R++){var L="";this.maxRows=4;for(var F=0;F<o[1];F++){var z=this._daylightSavingAdjust(new Date(p,f,e.selectedDay)),H=" ui-corner-all",j="";if(c){if(j+='<div class="ui-datepicker-group',o[1]>1)switch(F){case 0:j+=" ui-datepicker-group-first",H=" ui-corner-"+(i?"right":"left");break;case o[1]-1:j+=" ui-datepicker-group-last",H=" ui-corner-"+(i?"left":"right");break;default:j+=" ui-datepicker-group-middle",H=""}j+='">'}j+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+H+'">'+(/all|left/.test(H)&&0==R?i?b:v:"")+(/all|right/.test(H)&&0==R?i?v:b:"")+this._generateMonthYearHeader(e,f,p,d,h,R>0||F>0,E,I)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";for(var W=S?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",B=0;7>B;B++){var q=(B+k)%7;W+="<th"+((B+k+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+T[q]+'">'+D[q]+"</span></th>"}j+=W+"</tr></thead><tbody>";var U=this._getDaysInMonth(p,f);p==e.selectedYear&&f==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,U));var V=(this._getFirstDayOfMonth(p,f)-k+7)%7,Y=Math.ceil((V+U)/7),G=c?this.maxRows>Y?this.maxRows:Y:Y;this.maxRows=G;for(var X=this._daylightSavingAdjust(new Date(p,f,1-V)),K=0;G>K;K++){j+="<tr>";for(var Q=S?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(X)+"</td>":"",B=0;7>B;B++){var J=N?N.apply(e.input?e.input[0]:null,[X]):[!0,""],Z=X.getMonth()!=f,et=Z&&!M||!J[0]||d&&d>X||h&&X>h;Q+='<td class="'+((B+k+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(X.getTime()==z.getTime()&&f==e.selectedMonth&&e._keyEvent||P.getTime()==X.getTime()&&P.getTime()==z.getTime()?" "+this._dayOverClass:"")+(et?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!A?"":" "+J[1]+(X.getTime()==u.getTime()?" "+this._currentClass:"")+(X.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!A||!J[2]?"":' title="'+J[2]+'"')+(et?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+e.id+"',"+X.getMonth()+","+X.getFullYear()+', this);return false;"')+">"+(Z&&!A?"&#xa0;":et?'<span class="ui-state-default">'+X.getDate()+"</span>":'<a class="ui-state-default'+(X.getTime()==t.getTime()?" ui-state-highlight":"")+(X.getTime()==u.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+X.getDate()+"</a>")+"</td>",X.setDate(X.getDate()+1),X=this._daylightSavingAdjust(X)}j+=Q+"</tr>"}f++,f>11&&(f=0,p++),j+="</tbody></table>"+(c?"</div>"+(o[0]>0&&F==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),L+=j}O+=L}return O+=C+($.browser.msie&&parseInt($.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,O},_generateMonthYearHeader:function(e,t,i,n,s,r,o,a){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),u=this._get(e,"showMonthAfterYear"),d='<div class="ui-datepicker-title">',h="";if(r||!l)h+='<span class="ui-datepicker-month">'+o[t]+"</span>";else{var f=n&&n.getFullYear()==i,p=s&&s.getFullYear()==i;h+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+e.id+"', this, 'M');\" "+">";
for(var m=0;12>m;m++)(!f||m>=n.getMonth())&&(!p||m<=s.getMonth())&&(h+='<option value="'+m+'"'+(m==t?' selected="selected"':"")+">"+a[m]+"</option>");h+="</select>"}if(u||(d+=h+(!r&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!c)d+='<span class="ui-datepicker-year">'+i+"</span>";else{var g=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?i+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},b=y(g[0]),_=Math.max(b,y(g[1]||""));for(b=n?Math.max(b,n.getFullYear()):b,_=s?Math.min(_,s.getFullYear()):_,e.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+e.id+"', this, 'Y');\" "+">";_>=b;b++)e.yearshtml+='<option value="'+b+'"'+(b==i?' selected="selected"':"")+">"+b+"</option>";e.yearshtml+="</select>",d+=e.yearshtml,e.yearshtml=null}return d+=this._get(e,"yearSuffix"),u&&(d+=(!r&&l&&c?"":"&#xa0;")+h),d+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"==i?t:0),s=e.drawMonth+("M"==i?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+("D"==i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,r)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"==i||"Y"==i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return s=n&&s>n?n:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(i,n+(0>t?t:s[0]*s[1]),1));return 0>t&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max");return(!i||t.getTime()>=i.getTime())&&(!n||t.getTime()<=n.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.18",window["DP_jQuery_"+dpuuid]=$}(jQuery),/*
 * jQuery UI Dialog 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
function(e,t){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",n={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},s={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},r=e.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};e.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var t=this,n=t.options,s=n.title||"&#160;",r=e.ui.dialog.getTitleId(t.element),o=(t.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass(i+n.dialogClass).css({zIndex:n.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(i){n.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===e.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}).attr({role:"dialog","aria-labelledby":r}).mousedown(function(e){t.moveToTop(!1,e)}),a=(t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o),(t.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o)),l=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){l.addClass("ui-state-hover")},function(){l.removeClass("ui-state-hover")}).focus(function(){l.addClass("ui-state-focus")}).blur(function(){l.removeClass("ui-state-focus")}).click(function(e){return t.close(e),!1}).appendTo(a);(t.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(n.closeText).appendTo(l),e("<span></span>").addClass("ui-dialog-title").attr("id",r).html(s).prependTo(a),e.isFunction(n.beforeclose)&&!e.isFunction(n.beforeClose)&&(n.beforeClose=n.beforeclose),a.find("*").add(a).disableSelection(),n.draggable&&e.fn.draggable&&t._makeDraggable(),n.resizable&&e.fn.resizable&&t._makeResizable(),t._createButtons(n.buttons),t._isOpen=!1,e.fn.bgiframe&&o.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var e=this;return e.overlay&&e.overlay.destroy(),e.uiDialog.hide(),e.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),e.uiDialog.remove(),e.originalTitle&&e.element.attr("title",e.originalTitle),e},widget:function(){return this.uiDialog},close:function(t){var i,n,s=this;if(!1!==s._trigger("beforeClose",t))return s.overlay&&s.overlay.destroy(),s.uiDialog.unbind("keypress.ui-dialog"),s._isOpen=!1,s.options.hide?s.uiDialog.hide(s.options.hide,function(){s._trigger("close",t)}):(s.uiDialog.hide(),s._trigger("close",t)),e.ui.dialog.overlay.resize(),s.options.modal&&(i=0,e(".ui-dialog").each(function(){this!==s.uiDialog[0]&&(n=e(this).css("z-index"),isNaN(n)||(i=Math.max(i,n)))}),e.ui.dialog.maxZ=i),s},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var n,s=this,r=s.options;return r.modal&&!t||!r.stack&&!r.modal?s._trigger("focus",i):(r.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=r.zIndex),s.overlay&&(e.ui.dialog.maxZ+=1,s.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)),n={scrollTop:s.element.scrollTop(),scrollLeft:s.element.scrollLeft()},e.ui.dialog.maxZ+=1,s.uiDialog.css("z-index",e.ui.dialog.maxZ),s.element.attr(n),s._trigger("focus",i),s)},open:function(){if(!this._isOpen){var t=this,i=t.options,n=t.uiDialog;return t.overlay=i.modal?new e.ui.dialog.overlay(t):null,t._size(),t._position(i.position),n.show(i.show),t.moveToTop(!0),i.modal&&n.bind("keydown.ui-dialog",function(t){if(t.keyCode===e.ui.keyCode.TAB){var i=e(":tabbable",this),n=i.filter(":first"),s=i.filter(":last");return t.target!==s[0]||t.shiftKey?t.target===n[0]&&t.shiftKey?(s.focus(1),!1):void 0:(n.focus(1),!1)}}),e(t.element.find(":tabbable").get().concat(n.find(".ui-dialog-buttonpane :tabbable").get().concat(n.get()))).eq(0).focus(),t._isOpen=!0,t._trigger("open"),t}},_createButtons:function(t){var i=this,n=!1,s=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),o=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(s);i.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(n=!0)}),n&&(e.each(t,function(t,n){n=e.isFunction(n)?{click:n,text:t}:n;var s=e('<button type="button"></button>').click(function(){n.click.apply(i.element[0],arguments)}).appendTo(o);e.each(n,function(e,t){"click"!==e&&(e in r?s[e](t):s.attr(e,t))}),e.fn.button&&s.button()}),s.appendTo(i.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i,n=this,s=n.options,r=e(document);n.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,o){i="auto"===s.height?"auto":e(this).height(),e(this).height(e(this).height()).addClass("ui-dialog-dragging"),n._trigger("dragStart",r,t(o))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(o,a){s.position=[a.position.left-r.scrollLeft(),a.position.top-r.scrollTop()],e(this).removeClass("ui-dialog-dragging").height(i),n._trigger("dragStop",o,t(a)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function n(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}i=i===t?this.options.resizable:i;var s=this,r=s.options,o=s.uiDialog.css("position"),a="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";s.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:s.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:s._minHeight(),handles:a,start:function(t,i){e(this).addClass("ui-dialog-resizing"),s._trigger("resizeStart",t,n(i))},resize:function(e,t){s._trigger("resize",e,n(t))},stop:function(t,i){e(this).removeClass("ui-dialog-resizing"),r.height=e(this).height(),r.width=e(this).width(),s._trigger("resizeStop",t,n(i)),e.ui.dialog.overlay.resize()}}).css("position",o).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var i,n=[],s=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(n=t.split?t.split(" "):[t[0],t[1]],1===n.length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(s[e]=n[e],n[e]=t)}),t={my:n.join(" "),at:n.join(" "),offset:s.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},t)),i||this.uiDialog.hide()},_setOptions:function(t){var i=this,r={},o=!1;e.each(t,function(e,t){i._setOption(e,t),e in n&&(o=!0),e in s&&(r[e]=t)}),o&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,n){var s=this,r=s.uiDialog;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":s._createButtons(n);break;case"closeText":s.uiDialogTitlebarCloseText.text(""+n);break;case"dialogClass":r.removeClass(s.options.dialogClass).addClass(i+n);break;case"disabled":n?r.addClass("ui-dialog-disabled"):r.removeClass("ui-dialog-disabled");break;case"draggable":var o=r.is(":data(draggable)");o&&!n&&r.draggable("destroy"),!o&&n&&s._makeDraggable();break;case"position":s._position(n);break;case"resizable":var a=r.is(":data(resizable)");a&&!n&&r.resizable("destroy"),a&&"string"==typeof n&&r.resizable("option","handles",n),a||n===!1||s._makeResizable(n);break;case"title":e(".ui-dialog-title",s.uiDialogTitlebar).html(""+(n||"&#160;"))}e.Widget.prototype._setOption.apply(s,arguments)},_size:function(){var t,i,n=this.options,s=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).height(),i=Math.max(0,n.minHeight-t),"auto"===n.height)if(e.support.minHeight)this.element.css({minHeight:i,height:"auto"});else{this.uiDialog.show();var r=this.element.css("height","auto").height();s||this.uiDialog.hide(),this.element.height(Math.max(r,i))}else this.element.height(Math.max(n.height-t,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{version:"1.8.18",uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){return e(t.target).zIndex()<e.ui.dialog.overlay.maxZ?!1:void 0})},1),e(document).bind("keydown.dialog-overlay",function(i){t.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===e.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var i=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return e.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var i=e.inArray(t,this.instances);-1!=i&&this.oldInstances.push(this.instances.splice(i,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.remove();var n=0;e.each(this.instances,function(){n=Math.max(n,this.css("z-index"))}),this.maxZ=n},height:function(){var t,i;return e.browser.msie&&e.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),i>t?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,i;return e.browser.msie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),i>t?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),/*
 * jQuery UI Position 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
function(e){e.ui=e.ui||{};var t=/left|center|right/,i=/top|center|bottom/,n="center",s={},r=e.fn.position,o=e.fn.offset;e.fn.position=function(o){if(!o||!o.of)return r.apply(this,arguments);o=e.extend({},o);var a,l,c,u=e(o.of),d=u[0],h=(o.collision||"flip").split(" "),f=o.offset?o.offset.split(" "):[0,0];return 9===d.nodeType?(a=u.width(),l=u.height(),c={top:0,left:0}):d.setTimeout?(a=u.width(),l=u.height(),c={top:u.scrollTop(),left:u.scrollLeft()}):d.preventDefault?(o.at="left top",a=l=0,c={top:o.of.pageY,left:o.of.pageX}):(a=u.outerWidth(),l=u.outerHeight(),c=u.offset()),e.each(["my","at"],function(){var e=(o[this]||"").split(" ");1===e.length&&(e=t.test(e[0])?e.concat([n]):i.test(e[0])?[n].concat(e):[n,n]),e[0]=t.test(e[0])?e[0]:n,e[1]=i.test(e[1])?e[1]:n,o[this]=e}),1===h.length&&(h[1]=h[0]),f[0]=parseInt(f[0],10)||0,1===f.length&&(f[1]=f[0]),f[1]=parseInt(f[1],10)||0,"right"===o.at[0]?c.left+=a:o.at[0]===n&&(c.left+=a/2),"bottom"===o.at[1]?c.top+=l:o.at[1]===n&&(c.top+=l/2),c.left+=f[0],c.top+=f[1],this.each(function(){var t,i=e(this),r=i.outerWidth(),u=i.outerHeight(),d=parseInt(e.curCSS(this,"marginLeft",!0))||0,p=parseInt(e.curCSS(this,"marginTop",!0))||0,m=r+d+(parseInt(e.curCSS(this,"marginRight",!0))||0),g=u+p+(parseInt(e.curCSS(this,"marginBottom",!0))||0),v=e.extend({},c);"right"===o.my[0]?v.left-=r:o.my[0]===n&&(v.left-=r/2),"bottom"===o.my[1]?v.top-=u:o.my[1]===n&&(v.top-=u/2),s.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),t={left:v.left-d,top:v.top-p},e.each(["left","top"],function(i,n){e.ui.position[h[i]]&&e.ui.position[h[i]][n](v,{targetWidth:a,targetHeight:l,elemWidth:r,elemHeight:u,collisionPosition:t,collisionWidth:m,collisionHeight:g,offset:f,my:o.my,at:o.at})}),e.fn.bgiframe&&i.bgiframe(),i.offset(e.extend(v,{using:o.using}))})},e.ui.position={fit:{left:function(t,i){var n=e(window),s=i.collisionPosition.left+i.collisionWidth-n.width()-n.scrollLeft();t.left=s>0?t.left-s:Math.max(t.left-i.collisionPosition.left,t.left)},top:function(t,i){var n=e(window),s=i.collisionPosition.top+i.collisionHeight-n.height()-n.scrollTop();t.top=s>0?t.top-s:Math.max(t.top-i.collisionPosition.top,t.top)}},flip:{left:function(t,i){if(i.at[0]!==n){var s=e(window),r=i.collisionPosition.left+i.collisionWidth-s.width()-s.scrollLeft(),o="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,a="left"===i.at[0]?i.targetWidth:-i.targetWidth,l=-2*i.offset[0];t.left+=i.collisionPosition.left<0?o+a+l:r>0?o+a+l:0}},top:function(t,i){if(i.at[1]!==n){var s=e(window),r=i.collisionPosition.top+i.collisionHeight-s.height()-s.scrollTop(),o="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,a="top"===i.at[1]?i.targetHeight:-i.targetHeight,l=-2*i.offset[1];t.top+=i.collisionPosition.top<0?o+a+l:r>0?o+a+l:0}}}},e.offset.setOffset||(e.offset.setOffset=function(t,i){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var n=e(t),s=n.offset(),r=parseInt(e.curCSS(t,"top",!0),10)||0,o=parseInt(e.curCSS(t,"left",!0),10)||0,a={top:i.top-s.top+r,left:i.left-s.left+o};"using"in i?i.using.call(t,a):n.css(a)},e.fn.offset=function(t){var i=this[0];return i&&i.ownerDocument?t?this.each(function(){e.offset.setOffset(this,t)}):o.call(this):null}),function(){var t,i,n,r,o,a=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(var c in n)t.style[c]=n[c];t.appendChild(l),i=a||document.documentElement,i.insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",r=e(l).offset(function(e,t){return t}).offset(),t.innerHTML="",i.removeChild(t),o=r.top+r.left+(a?2e3:0),s.fractions=o>21&&22>o}()}(jQuery),/*
 * jQuery UI Progressbar 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Progressbar
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
function(e,t){e.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),e.Widget.prototype.destroy.apply(this,arguments)},value:function(e){return e===t?this._value():(this._setOption("value",e),this)},_setOption:function(t,i){"value"===t&&(this.options.value=i,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),e.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}}),e.extend(e.ui.progressbar,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Slider 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var i=this,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=n.values&&n.values.length||1,a=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),n.range&&(n.range===!0&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:"")));for(var l=s.length;o>l;l+=1)a.push(r);this.handles=s.add(e(a.join("")).appendTo(i.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){n.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(n){var s,r,o,a,l=e(this).data("index.ui-slider-handle");if(!i.options.disabled){switch(n.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n.preventDefault(),!i._keySliding&&(i._keySliding=!0,e(this).addClass("ui-state-active"),s=i._start(n,l),s===!1))return}switch(a=i.options.step,r=o=i.options.values&&i.options.values.length?i.values(l):i.value(),n.keyCode){case e.ui.keyCode.HOME:o=i._valueMin();break;case e.ui.keyCode.END:o=i._valueMax();break;case e.ui.keyCode.PAGE_UP:o=i._trimAlignValue(r+(i._valueMax()-i._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:o=i._trimAlignValue(r-(i._valueMax()-i._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===i._valueMax())return;o=i._trimAlignValue(r+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===i._valueMin())return;o=i._trimAlignValue(r-a)}i._slide(n,l,o)}}).keyup(function(t){var n=e(this).data("index.ui-slider-handle");i._keySliding&&(i._keySliding=!1,i._stop(t,n),i._change(t,n),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var i,n,s,r,o,a,l,c,u,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,o=this,this.handles.each(function(t){var i=Math.abs(n-o.values(t));s>i&&(s=i,r=e(this),a=t)}),d.range===!0&&this.values(1)===d.min&&(a+=1,r=e(this.handles[a])),l=this._start(t,a),l===!1?!1:(this._mouseSliding=!0,o._handleIndex=a,r.addClass("ui-state-active").focus(),c=r.offset(),u=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-c.left-r.width()/2,top:t.pageY-c.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,s,r;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),r=this._valueMin()+n*s,this._trimAlignValue(r)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,s,r;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(s=this.values(),s[t]=i,r=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),n=this.values(t?0:1),r!==!1&&this.values(t,i,!0))):i!==this.value()&&(r=this._trigger("slide",e,{handle:this.handles[t],value:i}),r!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var n,s,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,s=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(s[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var n,s=0;switch(e.isArray(this.options.values)&&(s=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,s,r,o=this.options.range,a=this.options,l=this,c=this._animateOff?!1:a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){t=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=t+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:t+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:t-i+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:t+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:t-i+"%"},{queue:!1,duration:a.animate}))),i=t}):(n=this.value(),s=this._valueMin(),r=this._valueMax(),t=r!==s?100*((n-s)/(r-s)):0,u["horizontal"===l.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:t+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:a.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:t+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:a.animate}))}}),e.extend(e.ui.slider,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Tabs 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e,i){function n(){return++r}function s(){return++o}var r=0,o=0;e.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(e,t){if("selected"==e){if(this.options.collapsible&&t==this.options.selected)return;this.select(t)}else this.options[e]=t,this._tabify()},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+n()},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+s());return e.cookie.apply(null,[t].concat(e.makeArray(arguments)))},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=e(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(t){function n(t,i){t.css("display",""),!e.support.opacity&&i.opacity&&t[0].style.removeAttribute("filter")}var s=this,r=this.options,o=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=e(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return e("a",this)[0]}),this.panels=e([]),this.anchors.each(function(t,i){var n,a=e(i).attr("href"),l=a.split("#")[0];if(l&&(l===location.toString().split("#")[0]||(n=e("base")[0])&&l===n.href)&&(a=i.hash,i.href=a),o.test(a))s.panels=s.panels.add(s.element.find(s._sanitizeSelector(a)));else if(a&&"#"!==a){e.data(i,"href.tabs",a),e.data(i,"load.tabs",a.replace(/#.*$/,""));var c=s._tabId(i);i.href="#"+c;var u=s.element.find("#"+c);u.length||(u=e(r.panelTemplate).attr("id",c).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(s.panels[t-1]||s.list),u.data("destroy.tabs",!0)),s.panels=s.panels.add(u)}else r.disabled.push(t)}),t?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),r.selected===i?(location.hash&&this.anchors.each(function(e,t){return t.hash==location.hash?(r.selected=e,!1):void 0}),"number"!=typeof r.selected&&r.cookie&&(r.selected=parseInt(s._cookie(),10)),"number"!=typeof r.selected&&this.lis.filter(".ui-tabs-selected").length&&(r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),r.selected=r.selected||(this.lis.length?0:-1)):null===r.selected&&(r.selected=-1),r.selected=r.selected>=0&&this.anchors[r.selected]||r.selected<0?r.selected:0,r.disabled=e.unique(r.disabled.concat(e.map(this.lis.filter(".ui-state-disabled"),function(e){return s.lis.index(e)}))).sort(),-1!=e.inArray(r.selected,r.disabled)&&r.disabled.splice(e.inArray(r.selected,r.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),r.selected>=0&&this.anchors.length&&(s.element.find(s._sanitizeSelector(s.anchors[r.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(r.selected).addClass("ui-tabs-selected ui-state-active"),s.element.queue("tabs",function(){s._trigger("show",null,s._ui(s.anchors[r.selected],s.element.find(s._sanitizeSelector(s.anchors[r.selected].hash))[0]))}),this.load(r.selected)),e(window).bind("unload",function(){s.lis.add(s.anchors).unbind(".tabs"),s.lis=s.anchors=s.panels=null})):r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[r.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),r.cookie&&this._cookie(r.selected,r.cookie);for(var a,l=0;a=this.lis[l];l++)e(a)[-1==e.inArray(l,r.disabled)||e(a).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(r.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==r.event){var c=function(e,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+e)},u=function(e,t){t.removeClass("ui-state-"+e)};this.lis.bind("mouseover.tabs",function(){c("hover",e(this))}),this.lis.bind("mouseout.tabs",function(){u("hover",e(this))}),this.anchors.bind("focus.tabs",function(){c("focus",e(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){u("focus",e(this).closest("li"))})}var d,h;r.fx&&(e.isArray(r.fx)?(d=r.fx[0],h=r.fx[1]):d=h=r.fx);var f=h?function(t,i){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.hide().removeClass("ui-tabs-hide").animate(h,h.duration||"normal",function(){n(i,h),s._trigger("show",null,s._ui(t,i[0]))})}:function(t,i){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.removeClass("ui-tabs-hide"),s._trigger("show",null,s._ui(t,i[0]))},p=d?function(e,t){t.animate(d,d.duration||"normal",function(){s.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),n(t,d),s.element.dequeue("tabs")})}:function(e,t){s.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),s.element.dequeue("tabs")};this.anchors.bind(r.event+".tabs",function(){var t=this,i=e(t).closest("li"),n=s.panels.filter(":not(.ui-tabs-hide)"),o=s.element.find(s._sanitizeSelector(t.hash));if(i.hasClass("ui-tabs-selected")&&!r.collapsible||i.hasClass("ui-state-disabled")||i.hasClass("ui-state-processing")||s.panels.filter(":animated").length||s._trigger("select",null,s._ui(this,o[0]))===!1)return this.blur(),!1;if(r.selected=s.anchors.index(this),s.abort(),r.collapsible){if(i.hasClass("ui-tabs-selected"))return r.selected=-1,r.cookie&&s._cookie(r.selected,r.cookie),s.element.queue("tabs",function(){p(t,n)}).dequeue("tabs"),this.blur(),!1;if(!n.length)return r.cookie&&s._cookie(r.selected,r.cookie),s.element.queue("tabs",function(){f(t,o)}),s.load(s.anchors.index(this)),this.blur(),!1}if(r.cookie&&s._cookie(r.selected,r.cookie),!o.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";n.length&&s.element.queue("tabs",function(){p(t,n)}),s.element.queue("tabs",function(){f(t,o)}),s.load(s.anchors.index(this)),e.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$="+e+"]"))),e},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=e.data(this,"href.tabs");t&&(this.href=t);var i=e(this).unbind(".tabs");e.each(["href","load","cache"],function(e,t){i.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){e.data(this,"destroy.tabs")?e(this).remove():e(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),t.cookie&&this._cookie(null,t.cookie),this},add:function(t,n,s){s===i&&(s=this.anchors.length);var r=this,o=this.options,a=e(o.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,n)),l=t.indexOf("#")?this._tabId(e("a",a)[0]):t.replace("#","");a.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var c=r.element.find("#"+l);return c.length||(c=e(o.panelTemplate).attr("id",l).data("destroy.tabs",!0)),c.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),s>=this.lis.length?(a.appendTo(this.list),c.appendTo(this.list[0].parentNode)):(a.insertBefore(this.lis[s]),c.insertBefore(this.panels[s])),o.disabled=e.map(o.disabled,function(e){return e>=s?++e:e}),this._tabify(),1==this.anchors.length&&(o.selected=0,a.addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){r._trigger("show",null,r._ui(r.anchors[0],r.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[s],this.panels[s])),this},remove:function(t){t=this._getIndex(t);var i=this.options,n=this.lis.eq(t).remove(),s=this.panels.eq(t).remove();return n.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),i.disabled=e.map(e.grep(i.disabled,function(e){return e!=t}),function(e){return e>=t?--e:e}),this._tabify(),this._trigger("remove",null,this._ui(n.find("a")[0],s[0])),this},enable:function(t){t=this._getIndex(t);var i=this.options;if(-1!=e.inArray(t,i.disabled))return this.lis.eq(t).removeClass("ui-state-disabled"),i.disabled=e.grep(i.disabled,function(e){return e!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(e){e=this._getIndex(e);var t=this.options;return e!=t.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),t.disabled.push(e),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},select:function(e){if(e=this._getIndex(e),-1==e){if(!this.options.collapsible||-1==this.options.selected)return this;e=this.options.selected}return this.anchors.eq(e).trigger(this.options.event+".tabs"),this},load:function(t){t=this._getIndex(t);var i=this,n=this.options,s=this.anchors.eq(t)[0],r=e.data(s,"load.tabs");if(this.abort(),!r||0!==this.element.queue("tabs").length&&e.data(s,"cache.tabs"))return this.element.dequeue("tabs"),void 0;if(this.lis.eq(t).addClass("ui-state-processing"),n.spinner){var o=e("span",s);o.data("label.tabs",o.html()).html(n.spinner)}return this.xhr=e.ajax(e.extend({},n.ajaxOptions,{url:r,success:function(r,o){i.element.find(i._sanitizeSelector(s.hash)).html(r),i._cleanup(),n.cache&&e.data(s,"cache.tabs",!0),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{n.ajaxOptions.success(r,o)}catch(a){}},error:function(e,r){i._cleanup(),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{n.ajaxOptions.error(e,r,t,s)}catch(o){}}})),i.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}}),e.extend(e.ui.tabs,{version:"1.8.18"}),e.extend(e.ui.tabs.prototype,{rotation:null,rotate:function(e,i){var n=this,s=this.options,r=n._rotate||(n._rotate=function(t){clearTimeout(n.rotation),n.rotation=setTimeout(function(){var e=s.selected;n.select(++e<n.anchors.length?e:0)},e),t&&t.stopPropagation()}),o=n._unrotate||(n._unrotate=i?function(){t=s.selected,r()}:function(e){e.clientX&&n.rotate(null)});return e?(this.element.bind("tabsshow",r),this.anchors.bind(s.event+".tabs",o),r()):(clearTimeout(n.rotation),this.element.unbind("tabsshow",r),this.anchors.unbind(s.event+".tabs",o),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(e,t){var i=function(){var t=e(document).data("events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};i()&&e.error("jquery-ujs has already been loaded!");var n;e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},fire:function(t,i,n){var s=e.Event(i);return t.trigger(s,n),s.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var s,r,o,a,l,c,u,d;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===t?null:a,c=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){s=i.attr("method"),r=i.attr("action"),o=i.serializeArray();var h=i.data("ujs:submit-button");h&&(o.push(h),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(s=i.data("method"),r=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):(s=i.data("method"),r=n.href(i),o=i.data("params")||null);d={type:s||"GET",data:o,dataType:u,beforeSend:function(e,s){return s.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),n.fire(i,"ajax:beforeSend",[e,s])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},xhrFields:{withCredentials:c},crossDomain:l},r&&(d.url=r);var f=n.ajax(d);return i.trigger("ajax:send",f),f}return!1},handleMethod:function(i){var s=n.href(i),r=i.data("method"),o=i.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+s+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l!==t&&a!==t&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),o&&c.attr("target",o),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with",t[i]()),t[i](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[i](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),s=!1;return i?(n.fire(e,"confirm")&&(s=n.confirm(i),t=n.fire(e,"confirm:complete",[s])),s&&t):!0},blankInputs:function(t,i,n){var s,r,o=e(),a=i||"input,textarea";return t.find(a).each(function(){s=e(this),r=s.is(":checkbox,:radio")?s.is(":checked"):s.val(),r==!!n&&(o=o.add(s))}),o.length?o:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,n){var s=i.data("events"),r=!0;return s!==t&&s.submit!==t&&e.each(s.submit,function(e,t){return"function"==typeof t.handler?r=t.handler(n):void 0}),r},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},n.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),e(document).delegate(n.linkClickSelector,"click.rails",function(i){var s=e(this),r=s.data("method"),o=s.data("params");return n.allowAction(s)?(s.is(n.linkDisableSelector)&&n.disableElement(s),s.data("remote")!==t?!i.metaKey&&!i.ctrlKey||r&&"GET"!==r||o?(n.handleRemote(s)===!1&&n.enableElement(s),!1):!0:s.data("method")?(n.handleMethod(s),!1):void 0):n.stopEverything(i)}),e(document).delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),e(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var s=e(this),r=s.data("remote")!==t,o=n.blankInputs(s,n.requiredInputSelector),a=n.nonBlankInputs(s,n.fileInputSelector);return n.allowAction(s)?o&&s.attr("novalidate")==t&&n.fire(s,"ajax:aborted:required",[o])?n.stopEverything(i):r?a?(setTimeout(function(){n.disableFormElements(s)},13),n.fire(s,"ajax:aborted:file",[a])):!e.support.submitBubbles&&e().jquery<"1.7"&&n.callFormSubmitBindings(s,i)===!1?n.stopEverything(i):(n.handleRemote(s),!1):(setTimeout(function(){n.disableFormElements(s)},13),void 0):n.stopEverything(i)}),e(document).delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var s=i.attr("name"),r=s?{name:s,value:i.val()}:null;i.closest("form").data("ujs:submit-button",r)}),e(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),e(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery);var tooltip=function(){var e,t,i,n,s,r="tt",o=3,a=3,l=300,c=10,u=20,d=95,h=0,f=document.all?!0:!1;return{show:function(a,c){null==e&&(e=document.createElement("div"),e.setAttribute("id",r),t=document.createElement("div"),t.setAttribute("id",r+"top"),i=document.createElement("div"),i.setAttribute("id",r+"cont"),n=document.createElement("div"),n.setAttribute("id",r+"bot"),e.appendChild(t),e.appendChild(i),e.appendChild(n),document.body.appendChild(e),e.style.opacity=0,e.style.filter="alpha(opacity=0)",document.onmousemove=this.pos),e.style.display="block",i.innerHTML=a,e.style.width=c?c+"px":"auto",!c&&f&&(t.style.display="none",n.style.display="none",e.style.width=e.offsetWidth,t.style.display="block",n.style.display="block"),e.offsetWidth>l&&(e.style.width=l+"px"),s=parseInt(e.offsetHeight)+o,clearInterval(e.timer),e.timer=setInterval(function(){tooltip.fade(1)},u)},pos:function(t){var i=f?event.clientY+document.documentElement.scrollTop:t.pageY,n=f?event.clientX+document.documentElement.scrollLeft:t.pageX;e.style.top=i-s+"px",e.style.left=n+a+"px"},fade:function(t){var i=h;if(i!=d&&1==t||0!=i&&-1==t){var n=c;c>d-i&&1==t?n=d-i:c>h&&-1==t&&(n=i),h=i+n*t,e.style.opacity=.01*h,e.style.filter="alpha(opacity="+h+")"}else clearInterval(e.timer),-1==t&&(e.style.display="none")},hide:function(){clearInterval(e.timer),e.timer=setInterval(function(){tooltip.fade(-1)},u)}}}();/* ===================================================
 * bootstrap-transition.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in i)if(void 0!==t.style[e])return i[e]}();return e&&{end:e}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-affix.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,i){this.options=e.extend({},e.fn.affix.defaults,i),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,i=e(document).height(),n=this.$window.scrollTop(),s=this.$element.offset(),r=this.options.offset,o=r.bottom,a=r.top,l="affix affix-top affix-bottom";"object"!=typeof r&&(o=a=r),"function"==typeof a&&(a=r.top()),"function"==typeof o&&(o=r.bottom()),t=null!=this.unpin&&n+this.unpin<=s.top?!1:null!=o&&s.top+this.$element.height()>=i-o?"bottom":null!=a&&a>=n?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?s.top-n:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}};var i=e.fn.affix;e.fn.affix=function(i){return this.each(function(){var n=e(this),s=n.data("affix"),r="object"==typeof i&&i;s||n.data("affix",s=new t(this,r)),"string"==typeof i&&s[i]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),i=t.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),t.affix(i)})})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.prototype.close=function(t){function i(){n.trigger("closed").remove()}var n,s=e(this),r=s.attr("data-target");r||(r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),n=e(r),t&&t.preventDefault(),n.length||(n=s.hasClass("alert")?s:s.parent()),n.trigger(t=e.Event("close")),t.isDefaultPrevented()||(n.removeClass("in"),e.support.transition&&n.hasClass("fade")?n.on(e.support.transition.end,i):i())};var n=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var n=e(this),s=n.data("alert");s||n.data("alert",s=new i(this)),"string"==typeof t&&s[t].call(n)})},e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.alert.data-api",t,i.prototype.close)}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,i)};t.prototype.setState=function(e){var t="disabled",i=this.$element,n=i.data(),s=i.is("input")?"val":"html";e+="Text",n.resetText||i.data("resetText",i[s]()),i[s](n[e]||this.options[e]),setTimeout(function(){"loadingText"==e?i.addClass(t).attr(t,t):i.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=function(i){return this.each(function(){var n=e(this),s=n.data("button"),r="object"==typeof i&&i;s||n.data("button",s=new t(this,r)),"toggle"==i?s.toggle():i&&s.setState(i)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var i=e(t.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var i=this.getActiveIndex(),n=this;if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid",function(){n.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,i){var n,s=this.$element.find(".item.active"),r=i||s[t](),o=this.interval,a="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,o&&this.pause(),r=r.length?r:this.$element.find(".item")[l](),n=e.Event("slide",{relatedTarget:r[0],direction:a}),!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(n),n.isDefaultPrevented())return;r.addClass(t),r[0].offsetWidth,s.addClass(a),r.addClass(a),this.$element.one(e.support.transition.end,function(){r.removeClass([t,a].join(" ")).addClass("active"),s.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(n),n.isDefaultPrevented())return;s.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}};var i=e.fn.carousel;e.fn.carousel=function(i){return this.each(function(){var n=e(this),s=n.data("carousel"),r=e.extend({},e.fn.carousel.defaults,"object"==typeof i&&i),o="string"==typeof i?i:r.slide;s||n.data("carousel",s=new t(this,r)),"number"==typeof i?s.to(i):o?s[o]():r.interval&&s.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var i,n,s=e(this),r=e(s.attr("data-target")||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=e.extend({},r.data(),s.data());r.carousel(o),(n=s.attr("data-slide-to"))&&r.data("carousel").pause().to(n).cycle(),t.preventDefault()})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,i),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,i,n,s;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),i=e.camelCase(["scroll",t].join("-")),n=this.$parent&&this.$parent.find("> .accordion-group > .in"),n&&n.length){if(s=n.data("collapse"),s&&s.transitioning)return;n.collapse("hide"),s||n.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][i])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,i,n){var s=this,r=function(){"show"==i.type&&s.reset(),s.transitioning=0,s.$element.trigger(n)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=e.fn.collapse;e.fn.collapse=function(i){return this.each(function(){var n=e(this),s=n.data("collapse"),r=e.extend({},e.fn.collapse.defaults,n.data(),"object"==typeof i&&i);s||n.data("collapse",s=new t(this,r)),"string"==typeof i&&s[i]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var i,n=e(this),s=n.attr("data-target")||t.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),r=e(s).data("collapse")?"toggle":n.data();n[e(s).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(s).collapse(r)})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";function t(){e(".dropdown-backdrop").remove(),e(n).each(function(){i(e(this)).removeClass("open")})}function i(t){var i,n=t.attr("data-target");return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),i=n&&e(n),i&&i.length||(i=t.parent()),i}var n="[data-toggle=dropdown]",s=function(t){var i=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};s.prototype={constructor:s,toggle:function(){var n,s,r=e(this);if(!r.is(".disabled, :disabled"))return n=i(r),s=n.hasClass("open"),t(),s||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",t),n.toggleClass("open")),r.focus(),!1},keydown:function(t){var s,r,o,a,l;if(/(38|40|27)/.test(t.keyCode)&&(s=e(this),t.preventDefault(),t.stopPropagation(),!s.is(".disabled, :disabled"))){if(o=i(s),a=o.hasClass("open"),!a||a&&27==t.keyCode)return 27==t.which&&o.find(n).focus(),s.click();r=e("[role=menu] li:not(.divider):visible a",o),r.length&&(l=r.index(r.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<r.length-1&&l++,~l||(l=0),r.eq(l).focus())}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var i=e(this),n=i.data("dropdown");n||i.data("dropdown",n=new s(this)),"string"==typeof t&&n[t].call(i)})},e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",n,s.prototype.toggle).on("keydown.dropdown.data-api",n+", [role=menu]",s.prototype.keydown)}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){"use strict";var t=function(t,i){this.options=i,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,i=e.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var i=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),i&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),i?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,i=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(i),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var i=e.fn.modal;e.fn.modal=function(i){return this.each(function(){var n=e(this),s=n.data("modal"),r=e.extend({},e.fn.modal.defaults,n.data(),"object"==typeof i&&i);s||n.data("modal",s=new t(this,r)),"string"==typeof i?s[i]():r.show&&s.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),n=i.attr("href"),s=e(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("modal")?"toggle":e.extend({remote:!/#/.test(n)&&n},s.data(),i.data());t.preventDefault(),s.modal(r).one("hide",function(){i.focus()})})}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(e){"use strict";function t(t,i){var n,s=e.proxy(this.process,this),r=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,i),this.$scrollElement=r.on("scroll.scroll-spy.data-api",s),this.selector=(this.options.target||(n=e(t).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,i=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),s=/^#\w/.test(n)&&e(n);return s&&s.length&&[[s.position().top+(!e.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),s=this.offsets,r=this.targets,o=this.activeTarget;if(t>=n)return o!=(e=r.last()[0])&&this.activate(e);for(e=s.length;e--;)o!=r[e]&&t>=s[e]&&(!s[e+1]||t<=s[e+1])&&this.activate(r[e])},activate:function(t){var i,n;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}};var i=e.fn.scrollspy;e.fn.scrollspy=function(i){return this.each(function(){var n=e(this),s=n.data("scrollspy"),r="object"==typeof i&&i;s||n.data("scrollspy",s=new t(this,r)),"string"==typeof i&&s[i]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,i,n,s=this.element,r=s.closest("ul:not(.dropdown-menu)"),o=s.attr("data-target");o||(o=s.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),s.parent("li").hasClass("active")||(t=r.find(".active:last a")[0],n=e.Event("show",{relatedTarget:t}),s.trigger(n),n.isDefaultPrevented()||(i=e(o),this.activate(s.parent("li"),r),this.activate(i,i.parent(),function(){s.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,i,n){function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}var r=i.find("> .active"),o=n&&e.support.transition&&r.hasClass("fade");o?r.one(e.support.transition.end,s):s(),r.removeClass("in")}};var i=e.fn.tab;e.fn.tab=function(i){return this.each(function(){var n=e(this),s=n.data("tab");s||n.data("tab",s=new t(this)),"string"==typeof i&&s[i]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,i,n){var s,r,o,a,l;for(this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.enabled=!0,o=this.options.trigger.split(" "),l=o.length;l--;)a=o[l],"click"==a?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=a&&(s="hover"==a?"mouseenter":"focus",r="hover"==a?"mouseleave":"blur",this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var i,n=e.fn[this.type].defaults,s={};return this._options&&e.each(this._options,function(e,t){n[e]!=t&&(s[e]=t)},this),i=e(t.currentTarget)[this.type](s).data(this.type),i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},leave:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},show:function(){var t,i,n,s,r,o,a=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),i=this.getPosition(),n=t[0].offsetWidth,s=t[0].offsetHeight,r){case"bottom":o={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":o={top:i.top-s,left:i.left+i.width/2-n/2};break;case"left":o={top:i.top+i.height/2-s/2,left:i.left-n};break;case"right":o={top:i.top+i.height/2-s/2,left:i.left+i.width}}this.applyPlacement(o,r),this.$element.trigger("shown")}},applyPlacement:function(e,t){var i,n,s,r,o=this.tip(),a=o[0].offsetWidth,l=o[0].offsetHeight;o.offset(e).addClass(t).addClass("in"),i=o[0].offsetWidth,n=o[0].offsetHeight,"top"==t&&n!=l&&(e.top=e.top+l-n,r=!0),"bottom"==t||"top"==t?(s=0,e.left<0&&(s=-2*e.left,e.left=0,o.offset(e),i=o[0].offsetWidth,n=o[0].offsetHeight),this.replaceArrow(s-a+i,i,"left")):this.replaceArrow(n-l,n,"top"),r&&o.offset(e)},replaceArrow:function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){i.off(e.support.transition.end).detach()},500);i.one(e.support.transition.end,function(){clearTimeout(t),i.detach()})}var i=this.tip(),n=e.Event("hide");return this.$element.trigger(n),n.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():i.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var i=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var n=e(this),s=n.data("tooltip"),r="object"==typeof i&&i;s||n.data("tooltip",s=new t(this,r)),"string"==typeof i&&s[i]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](i),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,i=this.options;return e=("function"==typeof i.content?i.content.call(t[0]):i.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var n=e(this),s=n.data("popover"),r="object"==typeof i&&i;s||n.data("popover",s=new t(this,r)),"string"==typeof i&&s[i]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var i=this;return t=e.grep(t,function(e){return i.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,i=[],n=[],s=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?n.push(t):s.push(t):i.push(t);return i.concat(n,s)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var i=this;return t=e(t).map(function(t,n){return t=e(i.options.item).attr("data-value",n),t.find("a").html(i.highlighter(n)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),i=t.next();i.length||(i=e(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=e.fn.typeahead;e.fn.typeahead=function(i){return this.each(function(){var n=e(this),s=n.data("typeahead"),r="object"==typeof i&&i;s||n.data("typeahead",s=new t(this,r)),"string"==typeof i&&s[i]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=i,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery);/**
 * @license wysihtml5 v0.3.0
 * https://github.com/xing/wysihtml5
 *
 * Author: Christopher Blum (https://github.com/tiff)
 *
 * Copyright (C) 2012 XING AG
 * Licensed under the MIT license (MIT)
 *
 */
var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"﻿",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};/**
 * @license Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Copyright 2011, Tim Down
 * Licensed under the MIT license.
 * Version: 1.2.2
 * Build date: 13 November 2011
 */
window.rangy=function(){function e(e,t){var i=typeof e[t];return i==d||!(i!=u||!e[t])||"unknown"==i}function t(e,t){return!(typeof e[t]!=u||!e[t])}function i(e,t){return typeof e[t]!=h}function n(e){return function(t,i){for(var n=i.length;n--;)if(!e(t,i[n]))return!1;return!0}}function s(e){return e&&v(e,g)&&b(e,m)}function r(e){window.alert("Rangy not supported in your browser. Reason: "+e),_.initialized=!0,_.supported=!1}function o(e){var t="Rangy warning: "+e;_.config.alertOnWarn?window.alert(t):typeof window.console!=h&&typeof window.console.log!=h&&window.console.log(t)}function a(){if(!_.initialized){var i,n=!1,o=!1;e(document,"createRange")&&(i=document.createRange(),v(i,p)&&b(i,f)&&(n=!0),i.detach());var a=t(document,"body")?document.body:document.getElementsByTagName("body")[0];a&&e(a,"createTextRange")&&(i=a.createTextRange(),s(i)&&(o=!0)),n||o||r("Neither Range nor TextRange are implemented"),_.initialized=!0,_.features={implementsDomRange:n,implementsTextRange:o};for(var l=x.concat(w),c=0,u=l.length;u>c;++c)try{l[c](_)}catch(d){t(window,"console")&&e(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",d)}}}function l(e){e=e||window,a();for(var t=0,i=C.length;i>t;++t)C[t](e)}function c(e){this.name=e,this.initialized=!1,this.supported=!1}var u="object",d="function",h="undefined",f=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],p=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],m=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],g=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],v=n(e),y=n(t),b=n(i),_={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:i,areHostMethods:v,areHostObjects:y,areHostProperties:b,isTextRange:s},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};_.fail=r,_.warn=o,{}.hasOwnProperty?_.util.extend=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}:r("hasOwnProperty not supported");var w=[],x=[];_.init=a,_.addInitListener=function(e){_.initialized?e(_):w.push(e)};var C=[];_.addCreateMissingNativeApiListener=function(e){C.push(e)},_.createMissingNativeApi=l,c.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},c.prototype.warn=function(e){_.warn("Module "+this.name+": "+e)},c.prototype.createError=function(e){return new Error("Error in Rangy "+this.name+" module: "+e)},_.createModule=function(e,t){var i=new c(e);_.modules[e]=i,x.push(function(e){t(e,i),i.initialized=!0,i.supported=!0})},_.requireModules=function(e){for(var t,i,n=0,s=e.length;s>n;++n){if(i=e[n],t=_.modules[i],!(t&&t instanceof c))throw new Error("Module '"+i+"' not found");if(!t.supported)throw new Error("Module '"+i+"' not supported")}};var k=!1,S=function(){k||(k=!0,_.initialized||a())};return typeof window==h?(r("No window found"),void 0):typeof document==h?(r("No document found"),void 0):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",S,!1),e(window,"addEventListener")?window.addEventListener("load",S,!1):e(window,"attachEvent")?window.attachEvent("onload",S):r("Window does not have required addEventListener or attachEvent method"),_)}(),rangy.createModule("DomUtil",function(e,t){function i(e){var t;return typeof e.namespaceURI==S||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function n(e){var t=e.parentNode;return 1==t.nodeType?t:null}function s(e){for(var t=0;e=e.previousSibling;)t++;return t}function r(e){var t;return c(e)?e.length:(t=e.childNodes)?t.length:0}function o(e,t){var i,n=[];for(i=e;i;i=i.parentNode)n.push(i);for(i=t;i;i=i.parentNode)if(E(n,i))return i;return null}function a(e,t,i){for(var n=i?t:t.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1}function l(e,t,i){for(var n,s=i?e:e.parentNode;s;){if(n=s.parentNode,n===t)return s;s=n}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function u(e,t){var i=t.nextSibling,n=t.parentNode;return i?n.insertBefore(e,i):n.appendChild(e),e}function d(e,t){var i=e.cloneNode(!1);return i.deleteData(0,t),e.deleteData(t,e.length-t),u(i,e),i}function h(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=S)return e.ownerDocument;if(typeof e.document!=S)return e.document;if(e.parentNode)return h(e.parentNode);throw new Error("getDocument: no document found for node")}function f(e){var t=h(e);if(typeof t.defaultView!=S)return t.defaultView;if(typeof t.parentWindow!=S)return t.parentWindow;throw new Error("Cannot get a window object for node")}function p(e){if(typeof e.contentDocument!=S)return e.contentDocument;if(typeof e.contentWindow!=S)return e.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function m(e){if(typeof e.contentWindow!=S)return e.contentWindow;if(typeof e.contentDocument!=S)return e.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function g(e){return T.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]}function v(e){for(var t;t=e.parentNode;)e=t;return e}function y(e,t,i,n){var r,a,c,u,d;if(e==i)return t===n?0:n>t?-1:1;if(r=l(i,e,!0))return t<=s(r)?-1:1;if(r=l(e,i,!0))return s(r)<n?-1:1;if(a=o(e,i),c=e===a?a:l(e,a,!0),u=i===a?a:l(i,a,!0),c===u)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(d=a.firstChild;d;){if(d===c)return-1;if(d===u)return 1;d=d.nextSibling}throw new Error("Should not be here!")}function b(e){for(var t,i=h(e).createDocumentFragment();t=e.firstChild;)i.appendChild(t);return i}function _(e){if(!e)return"[No node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">["+e.childNodes.length+"]"}return e.nodeName}function w(e){this.root=e,this._next=e}function x(e){return new w(e)}function C(e,t){this.node=e,this.offset=t}function k(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var S="undefined",T=e.util;T.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),T.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var D=document.createElement("div");T.areHostMethods(D,["insertBefore","appendChild","cloneNode"]||!T.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),T.isHostProperty(D,"innerHTML")||t.fail("Element is missing innerHTML property");var $=document.createTextNode("test");T.areHostMethods($,["splitText","deleteData","insertData","appendData","cloneNode"]||!T.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"])||!T.areHostProperties($,["data"]))||t.fail("Incomplete Text Node implementation");var E=function(e,t){for(var i=e.length;i--;)if(e[i]===t)return!0;return!1};w.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,i=this._current=this._next;if(this._current)if(e=i.firstChild)this._next=e;else{for(t=null;i!==this.root&&!(t=i.nextSibling);)i=i.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},C.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+_(this.node)+":"+this.offset+")]"}},k.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},k.prototype.toString=function(){return this.message},e.dom={arrayContains:E,isHtmlNamespace:i,parentElement:n,getNodeIndex:s,getNodeLength:r,getCommonAncestor:o,isAncestorOf:a,getClosestAncestorIn:l,isCharacterDataNode:c,insertAfter:u,splitDataNode:d,getDocument:h,getWindow:f,getIframeWindow:m,getIframeDocument:p,getBody:g,getRootContainer:v,comparePoints:y,inspectNode:_,fragmentFromNodeChildren:b,createIterator:x,DomPosition:C},e.DOMException=k}),rangy.createModule("DomRange",function(e){function t(e,t){return 3!=e.nodeType&&(R.isAncestorOf(e,t.startContainer,!0)||R.isAncestorOf(e,t.endContainer,!0))}function i(e){return R.getDocument(e.startContainer)}function n(e,t,i){var n=e._listeners[t];if(n)for(var s=0,r=n.length;r>s;++s)n[s].call(e,{target:e,args:i})}function s(e){return new L(e.parentNode,R.getNodeIndex(e))}function r(e){return new L(e.parentNode,R.getNodeIndex(e)+1)}function o(e,t,i){var n=11==e.nodeType?e.firstChild:e;return R.isCharacterDataNode(t)?i==t.length?R.insertAfter(e,t):t.parentNode.insertBefore(e,0==i?t:R.splitDataNode(t,i)):i>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[i]),n}function a(e){for(var t,n,s,r=i(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(s=e.getSubtreeIterator(),n.appendChild(a(s)),s.detach(!0)),10==n.nodeType)throw new F("HIERARCHY_REQUEST_ERR");r.appendChild(n)}return r}function l(e,t,i){var n,s;i=i||{stop:!1};for(var r,o;r=e.next();)if(e.isPartiallySelectedSubtree()){if(t(r)===!1)return i.stop=!0,void 0;if(o=e.getSubtreeIterator(),l(o,t,i),o.detach(!0),i.stop)return}else for(n=R.createIterator(r);s=n.next();)if(t(s)===!1)return i.stop=!0,void 0}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),c(t),t.detach(!0)):e.remove()}function u(e){for(var t,n,s=i(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(u(n)),n.detach(!0)):e.remove(),10==t.nodeType)throw new F("HIERARCHY_REQUEST_ERR");s.appendChild(t)}return s}function d(e,t,i){var n,s=!(!t||!t.length),r=!!i;s&&(n=new RegExp("^("+t.join("|")+")$"));var o=[];return l(new f(e,!1),function(e){s&&!n.test(e.nodeType)||r&&!i(e)||o.push(e)}),o}function h(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+R.inspectNode(e.startContainer)+":"+e.startOffset+", "+R.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function f(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var i=e.commonAncestorContainer;this.sc===this.ec&&R.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||R.isCharacterDataNode(this.sc)?R.getClosestAncestorIn(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||R.isCharacterDataNode(this.ec)?R.getClosestAncestorIn(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}function p(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function m(e,t,i){this.nodes=d(e,t,i),this._next=this.nodes[0],this._position=0}function g(e){return function(t,i){for(var n,s=i?t:t.parentNode;s;){if(n=s.nodeType,R.arrayContains(e,n))return s;s=s.parentNode}return null}}function v(e,t){if(Y(e,t))throw new p("INVALID_NODE_TYPE_ERR")}function y(e){if(!e.startContainer)throw new F("INVALID_STATE_ERR")}function b(e,t){if(!R.arrayContains(t,e.nodeType))throw new p("INVALID_NODE_TYPE_ERR")}function _(e,t){if(0>t||t>(R.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new F("INDEX_SIZE_ERR")}function w(e,t){if(U(e,!0)!==U(t,!0))throw new F("WRONG_DOCUMENT_ERR")}function x(e){if(V(e,!0))throw new F("NO_MODIFICATION_ALLOWED_ERR")}function C(e,t){if(!e)throw new F(t)}function k(e){return!R.arrayContains(H,e.nodeType)&&!U(e,!0)}function S(e,t){return t<=(R.isCharacterDataNode(e)?e.length:e.childNodes.length)}function T(e){if(y(e),k(e.startContainer)||k(e.endContainer)||!S(e.startContainer,e.startOffset)||!S(e.endContainer,e.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function D(){}function $(e){e.START_TO_START=Z,e.START_TO_END=et,e.END_TO_END=tt,e.END_TO_START=it,e.NODE_BEFORE=nt,e.NODE_AFTER=st,e.NODE_BEFORE_AND_AFTER=rt,e.NODE_INSIDE=ot}function E(e){$(e),$(e.prototype)}function I(e,t){return function(){T(this);var i,n,s=this.startContainer,o=this.startOffset,a=this.commonAncestorContainer,c=new f(this,!0);s!==a&&(i=R.getClosestAncestorIn(s,a,!0),n=r(i),s=n.node,o=n.offset),l(c,x),c.reset();var u=e(c);return c.detach(),t(this,s,o,s,o),u}}function N(i,n,o){function a(e,t){return function(i){y(this),b(i,z),b(q(i),H);var n=(e?s:r)(i);(t?l:d)(this,n.node,n.offset)}}function l(e,t,i){var s=e.endContainer,r=e.endOffset;(t!==e.startContainer||i!==e.startOffset)&&((q(t)!=q(s)||1==R.comparePoints(t,i,s,r))&&(s=t,r=i),n(e,t,i,s,r))}function d(e,t,i){var s=e.startContainer,r=e.startOffset;(t!==e.endContainer||i!==e.endOffset)&&((q(t)!=q(s)||-1==R.comparePoints(t,i,s,r))&&(s=t,r=i),n(e,s,r,t,i))}function h(e,t,i){(t!==e.startContainer||i!==e.startOffset||t!==e.endContainer||i!==e.endOffset)&&n(e,t,i,t,i)}i.prototype=new D,e.util.extend(i.prototype,{setStart:function(e,t){y(this),v(e,!0),_(e,t),l(this,e,t)},setEnd:function(e,t){y(this),v(e,!0),_(e,t),d(this,e,t)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(e){T(this),e?n(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):n(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){y(this),v(e,!0),n(this,e,0,e,R.getNodeLength(e))},selectNode:function(e){y(this),v(e,!1),b(e,z);var t=s(e),i=r(e);n(this,t.node,t.offset,i.node,i.offset)},extractContents:I(u,n),deleteContents:I(c,n),canSurroundContents:function(){T(this),x(this.startContainer),x(this.endContainer);var e=new f(this,!0),i=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!i},detach:function(){o(this)},splitBoundaries:function(){T(this);var e=this.startContainer,t=this.startOffset,i=this.endContainer,s=this.endOffset,r=e===i;R.isCharacterDataNode(i)&&s>0&&s<i.length&&R.splitDataNode(i,s),R.isCharacterDataNode(e)&&t>0&&t<e.length&&(e=R.splitDataNode(e,t),r?(s-=t,i=e):i==e.parentNode&&s>=R.getNodeIndex(e)&&s++,t=0),n(this,e,t,i,s)},normalizeBoundaries:function(){T(this);var e=this.startContainer,t=this.startOffset,i=this.endContainer,s=this.endOffset,r=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(i=e,s=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},o=function(n){var r=n.previousSibling;if(r&&r.nodeType==n.nodeType){e=n;var o=n.length;if(t=r.length,n.insertData(0,r.data),r.parentNode.removeChild(r),e==i)s+=t,i=e;else if(i==n.parentNode){var a=R.getNodeIndex(n);s==a?(i=n,s=o):s>a&&s--}}},a=!0;if(R.isCharacterDataNode(i))i.length==s&&r(i);else{if(s>0){var l=i.childNodes[s-1];l&&R.isCharacterDataNode(l)&&r(l)}a=!this.collapsed}if(a){if(R.isCharacterDataNode(e))0==t&&o(e);else if(t<e.childNodes.length){var c=e.childNodes[t];c&&R.isCharacterDataNode(c)&&o(c)}}else e=i,t=s;n(this,e,t,i,s)},collapseToPoint:function(e,t){y(this),v(e,!0),_(e,t),h(this,e,t)}}),E(i)}function A(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:R.getCommonAncestor(e.startContainer,e.endContainer)}function M(e,t,i,s,r){var o=e.startContainer!==t||e.startOffset!==i,a=e.endContainer!==s||e.endOffset!==r;e.startContainer=t,e.startOffset=i,e.endContainer=s,e.endOffset=r,A(e),n(e,"boundarychange",{startMoved:o,endMoved:a})}function P(e){y(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,n(e,"detach",null),e._listeners=null}function O(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},A(this)}e.requireModules(["DomUtil"]);var R=e.dom,L=R.DomPosition,F=e.DOMException;f.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,R.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,i=this._current;!R.isCharacterDataNode(i)||i!==this.sc&&i!==this.ec?i.parentNode&&i.parentNode.removeChild(i):(e=i===this.sc?this.so:0,t=i===this.ec?this.eo:i.length,e!=t&&i.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return t(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse();else{e=new O(i(this.range));var t=this._current,n=t,s=0,r=t,o=R.getNodeLength(t);R.isAncestorOf(t,this.sc,!0)&&(n=this.sc,s=this.so),R.isAncestorOf(t,this.ec,!0)&&(r=this.ec,o=this.eo),M(e,n,s,r,o)}return new f(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},p.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},p.prototype.toString=function(){return this.message},m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var z=[1,3,4,5,7,8,10],H=[2,9,11],j=[5,6,10,12],W=[1,3,4,5,7,8,10,11],B=[1,3,4,5,7,8],q=R.getRootContainer,U=g([9,11]),V=g(j),Y=g([6,10,12]),G=document.createElement("style"),X=!1;try{G.innerHTML="<b>x</b>",X=3==G.firstChild.nodeType}catch(K){}e.features.htmlParsingConforms=X;var Q=X?function(e){var t=this.startContainer,i=R.getDocument(t);if(!t)throw new F("INVALID_STATE_ERR");var n=null;return 1==t.nodeType?n=t:R.isCharacterDataNode(t)&&(n=R.parentElement(t)),n=null===n||"HTML"==n.nodeName&&R.isHtmlNamespace(R.getDocument(n).documentElement)&&R.isHtmlNamespace(n)?i.createElement("body"):n.cloneNode(!1),n.innerHTML=e,R.fragmentFromNodeChildren(n)}:function(e){y(this);var t=i(this),n=t.createElement("body");return n.innerHTML=e,R.fragmentFromNodeChildren(n)},J=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,et=1,tt=2,it=3,nt=0,st=1,rt=2,ot=3;D.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){T(this),w(this.startContainer,t.startContainer);var i,n,s,r,o=e==it||e==Z?"start":"end",a=e==et||e==Z?"start":"end";return i=this[o+"Container"],n=this[o+"Offset"],s=t[a+"Container"],r=t[a+"Offset"],R.comparePoints(i,n,s,r)},insertNode:function(e){if(T(this),b(e,W),x(this.startContainer),R.isAncestorOf(e,this.startContainer,!0))throw new F("HIERARCHY_REQUEST_ERR");var t=o(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){T(this);var e,t;if(this.collapsed)return i(this).createDocumentFragment();if(this.startContainer===this.endContainer&&R.isCharacterDataNode(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=i(this).createDocumentFragment(),t.appendChild(e),t;var n=new f(this,!0);return e=a(n),n.detach(),e},canSurroundContents:function(){T(this),x(this.startContainer),x(this.endContainer);var e=new f(this,!0),i=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!i},surroundContents:function(e){if(b(e,B),!this.canSurroundContents())throw new p("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);o(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){T(this);for(var e,t=new O(i(this)),n=J.length;n--;)e=J[n],t[e]=this[e];return t},toString:function(){T(this);var e=this.startContainer;if(e===this.endContainer&&R.isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],i=new f(this,!0);return l(i,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),i.detach(),t.join("")},compareNode:function(e){T(this);var t=e.parentNode,i=R.getNodeIndex(e);if(!t)throw new F("NOT_FOUND_ERR");var n=this.comparePoint(t,i),s=this.comparePoint(t,i+1);return 0>n?s>0?rt:nt:s>0?st:ot},comparePoint:function(e,t){return T(this),C(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),R.comparePoints(e,t,this.startContainer,this.startOffset)<0?-1:R.comparePoints(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:Q,toHtml:function(){T(this);var e=i(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function(e,t){if(T(this),C(e,"NOT_FOUND_ERR"),R.getDocument(e)!==i(this))return!1;var n=e.parentNode,s=R.getNodeIndex(e);C(n,"NOT_FOUND_ERR");var r=R.comparePoints(n,s,this.endContainer,this.endOffset),o=R.comparePoints(n,s+1,this.startContainer,this.startOffset);return t?0>=r&&o>=0:0>r&&o>0},isPointInRange:function(e,t){return T(this),C(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),R.comparePoints(e,t,this.startContainer,this.startOffset)>=0&&R.comparePoints(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e,t){if(T(this),i(e)!=i(this))throw new F("WRONG_DOCUMENT_ERR");var n=R.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),s=R.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?0>=n&&s>=0:0>n&&s>0},intersection:function(e){if(this.intersectsRange(e)){var t=R.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),i=R.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),n=this.cloneRange();return-1==t&&n.setStart(e.startContainer,e.startOffset),1==i&&n.setEnd(e.endContainer,e.endOffset),n}return null},union:function(e){if(this.intersectsRange(e,!0)){var t=this.cloneRange();return-1==R.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==R.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new p("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ot},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,R.getNodeLength(e))<=0},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var i=t.getNodes([3]);if(i.length>0){t.setStart(i[0],0);var n=i.pop();t.setEnd(n,n.length);var s=this.containsRange(t);return t.detach(),s}return this.containsNodeContents(e)},createNodeIterator:function(e,t){return T(this),new m(this,e,t)},getNodes:function(e,t){return T(this),d(this,e,t)},getDocument:function(){return i(this)},collapseBefore:function(e){y(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){y(this),this.setStartAfter(e),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(e){return O.rangesEqual(this,e)},inspect:function(){return h(this)}},N(O,M,P),e.rangePrototype=D.prototype,O.rangeProperties=J,O.RangeIterator=f,O.copyComparisonConstants=E,O.createPrototypeRange=N,O.inspect=h,O.getRangeDocument=i,O.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},e.DomRange=O,e.RangeException=p}),rangy.createModule("WrappedRange",function(e){function t(e){var t=e.parentElement(),i=e.duplicate();i.collapse(!0);var n=i.parentElement();i=e.duplicate(),i.collapse(!1);var s=i.parentElement(),r=n==s?n:o.getCommonAncestor(n,s);return r==t?r:o.getCommonAncestor(t,r)}function i(e){return 0==e.compareEndPoints("StartToEnd",e)}function n(e,t,i,n){var s=e.duplicate();s.collapse(i);var r=s.parentElement();if(o.isAncestorOf(t,r,!0)||(r=t),!r.canHaveHTML)return new a(r.parentNode,o.getNodeIndex(r));var l,c,u,d,h,f=o.getDocument(r).createElement("span"),p=i?"StartToStart":"StartToEnd";do r.insertBefore(f,f.previousSibling),s.moveToElementText(f);while((l=s.compareEndPoints(p,e))>0&&f.previousSibling);if(h=f.nextSibling,-1==l&&h&&o.isCharacterDataNode(h)){s.setEndPoint(i?"EndToStart":"EndToEnd",e);var m;if(/[\r\n]/.test(h.data)){var g=s.duplicate(),v=g.text.replace(/\r\n/g,"\r").length;for(m=g.moveStart("character",v);-1==(l=g.compareEndPoints("StartToEnd",g));)m++,g.moveStart("character",1)}else m=s.text.length;d=new a(h,m)}else c=(n||!i)&&f.previousSibling,u=(n||i)&&f.nextSibling,d=u&&o.isCharacterDataNode(u)?new a(u,0):c&&o.isCharacterDataNode(c)?new a(c,c.length):new a(r,o.getNodeIndex(f));return f.parentNode.removeChild(f),d}function s(e,t){var i,n,s,r,a=e.offset,l=o.getDocument(e.node),c=l.body.createTextRange(),u=o.isCharacterDataNode(e.node);return u?(i=e.node,n=i.parentNode):(r=e.node.childNodes,i=a<r.length?r[a]:null,n=e.node),s=l.createElement("span"),s.innerHTML="&#feff;",i?n.insertBefore(s,i):n.appendChild(s),c.moveToElementText(s),c.collapse(!t),n.removeChild(s),u&&c[t?"moveStart":"moveEnd"]("character",a),c}e.requireModules(["DomUtil","DomRange"]);var r,o=e.dom,a=o.DomPosition,l=e.DomRange;if(!e.features.implementsDomRange||e.features.implementsTextRange&&e.config.preferTextRange){if(e.features.implementsTextRange){r=function(e){this.textRange=e,this.refresh()},r.prototype=new l(document),r.prototype.refresh=function(){var e,s,r=t(this.textRange);i(this.textRange)?s=e=n(this.textRange,r,!0,!0):(e=n(this.textRange,r,!0,!1),s=n(this.textRange,r,!1,!1)),this.setStart(e.node,e.offset),this.setEnd(s.node,s.offset)},l.copyComparisonConstants(r);var c=function(){return this}();"undefined"==typeof c.Range&&(c.Range=r),e.createNativeRange=function(e){return e=e||document,e.body.createTextRange()}}}else!function(){function t(e){for(var t,i=u.length;i--;)t=u[i],e[t]=e.nativeRange[t]}function i(e,t,i,n,s){var r=e.startContainer!==t||e.startOffset!=i,o=e.endContainer!==n||e.endOffset!=s;(r||o)&&(e.setEnd(n,s),e.setStart(t,i))}function n(e){e.nativeRange.detach(),e.detached=!0;for(var t,i=u.length;i--;)t=u[i],e[t]=null}var s,a,c,u=l.rangeProperties;r=function(e){if(!e)throw new Error("Range must be specified");this.nativeRange=e,t(this)},l.createPrototypeRange(r,i,n),s=r.prototype,s.selectNode=function(e){this.nativeRange.selectNode(e),t(this)},s.deleteContents=function(){this.nativeRange.deleteContents(),t(this)},s.extractContents=function(){var e=this.nativeRange.extractContents();return t(this),e},s.cloneContents=function(){return this.nativeRange.cloneContents()},s.surroundContents=function(e){this.nativeRange.surroundContents(e),t(this)},s.collapse=function(e){this.nativeRange.collapse(e),t(this)},s.cloneRange=function(){return new r(this.nativeRange.cloneRange())},s.refresh=function(){t(this)},s.toString=function(){return this.nativeRange.toString()};var d=document.createTextNode("test");o.getBody(document).appendChild(d);var h=document.createRange();h.setStart(d,0),h.setEnd(d,0);try{h.setStart(d,1),a=!0,s.setStart=function(e,i){this.nativeRange.setStart(e,i),t(this)},s.setEnd=function(e,i){this.nativeRange.setEnd(e,i),t(this)},c=function(e){return function(i){this.nativeRange[e](i),t(this)}}}catch(f){a=!1,s.setStart=function(e,i){try{this.nativeRange.setStart(e,i)}catch(n){this.nativeRange.setEnd(e,i),this.nativeRange.setStart(e,i)}t(this)},s.setEnd=function(e,i){try{this.nativeRange.setEnd(e,i)}catch(n){this.nativeRange.setStart(e,i),this.nativeRange.setEnd(e,i)}t(this)},c=function(e,i){return function(n){try{this.nativeRange[e](n)}catch(s){this.nativeRange[i](n),this.nativeRange[e](n)}t(this)}}}s.setStartBefore=c("setStartBefore","setEndBefore"),s.setStartAfter=c("setStartAfter","setEndAfter"),s.setEndBefore=c("setEndBefore","setStartBefore"),s.setEndAfter=c("setEndAfter","setStartAfter"),h.selectNodeContents(d),s.selectNodeContents=h.startContainer==d&&h.endContainer==d&&0==h.startOffset&&h.endOffset==d.length?function(e){this.nativeRange.selectNodeContents(e),t(this)}:function(e){this.setStart(e,0),this.setEnd(e,l.getEndOffset(e))},h.selectNodeContents(d),h.setEnd(d,3);var p=document.createRange();p.selectNodeContents(d),p.setEnd(d,4),p.setStart(d,2),s.compareBoundaryPoints=-1==h.compareBoundaryPoints(h.START_TO_END,p)&1==h.compareBoundaryPoints(h.END_TO_START,p)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},e.util.isHostMethod(h,"createContextualFragment")&&(s.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),o.getBody(document).removeChild(d),h.detach(),p.detach()}(),e.createNativeRange=function(e){return e=e||document,e.createRange()};e.features.implementsTextRange&&(r.rangeToTextRange=function(e){if(e.collapsed){var t=s(new a(e.startContainer,e.startOffset),!0);return t}var i=s(new a(e.startContainer,e.startOffset),!0),n=s(new a(e.endContainer,e.endOffset),!1),r=o.getDocument(e.startContainer).body.createTextRange();return r.setEndPoint("StartToStart",i),r.setEndPoint("EndToEnd",n),r}),r.prototype.getName=function(){return"WrappedRange"},e.WrappedRange=r,e.createRange=function(t){return t=t||document,new r(e.createNativeRange(t))},e.createRangyRange=function(e){return e=e||document,new l(e)},e.createIframeRange=function(t){return e.createRange(o.getIframeDocument(t))},e.createIframeRangyRange=function(t){return e.createRangyRange(o.getIframeDocument(t))},e.addCreateMissingNativeApiListener(function(t){var i=t.document;"undefined"==typeof i.createRange&&(i.createRange=function(){return e.createRange(this)}),i=t=null})}),rangy.createModule("WrappedSelection",function(e,t){function i(e){return(e||window).getSelection()}function n(e){return(e||window).document.selection}function s(e,t,i){var n=i?"end":"start",s=i?"start":"end";e.anchorNode=t[n+"Container"],e.anchorOffset=t[n+"Offset"],e.focusNode=t[s+"Container"],e.focusOffset=t[s+"Offset"]}function r(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function o(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function a(t){var i;return t instanceof k?(i=t._selectionNativeRange,i||(i=e.createNativeRange(x.getDocument(t.startContainer)),i.setEnd(t.endContainer,t.endOffset),i.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=i,t.attachListener("detach",function(){this._selectionNativeRange=null}))):t instanceof S?i=t.nativeRange:e.features.implementsDomRange&&t instanceof x.getWindow(t.startContainer).Range&&(i=t),i}function l(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,i=e.length;i>t;++t)if(!x.isAncestorOf(e[0],e[t]))return!1;return!0}function c(e){var t=e.getNodes();if(!l(t))throw new Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function u(e){return!!e&&"undefined"!=typeof e.text}function d(e,t){var i=new S(t);e._ranges=[i],s(e,i,!1),e.rangeCount=1,e.isCollapsed=i.collapsed}function h(t){if(t._ranges.length=0,"None"==t.docSelection.type)o(t);else{var i=t.docSelection.createRange();if(u(i))d(t,i);else{t.rangeCount=i.length;for(var n,r=x.getDocument(i.item(0)),a=0;a<t.rangeCount;++a)n=e.createRange(r),n.selectNode(i.item(a)),t._ranges.push(n);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function f(e,t){for(var i=e.docSelection.createRange(),n=c(t),s=x.getDocument(i.item(0)),r=x.getBody(s).createControlRange(),o=0,a=i.length;a>o;++o)r.add(i.item(o));try{r.add(n)}catch(l){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}r.select(),h(e)}function p(e,t,i){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=i,this.refresh()}function m(e,t){for(var i,n=x.getDocument(t[0].startContainer),s=x.getBody(n).createControlRange(),r=0;rangeCount>r;++r){i=c(t[r]);try{s.add(i)}catch(o){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")
}}s.select(),h(e)}function g(e,t){if(e.anchorNode&&x.getDocument(e.anchorNode)!==x.getDocument(t))throw new T("WRONG_DOCUMENT_ERR")}function v(e){var t=[],i=new D(e.anchorNode,e.anchorOffset),n=new D(e.focusNode,e.focusOffset),s="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var r=0,o=e.rangeCount;o>r;++r)t[r]=k.inspect(e.getRangeAt(r));return"["+s+"(Ranges: "+t.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}e.requireModules(["DomUtil","DomRange","WrappedRange"]),e.config.checkSelectionRanges=!0;var y,b,_="boolean",w="_rangySelection",x=e.dom,C=e.util,k=e.DomRange,S=e.WrappedRange,T=e.DOMException,D=x.DomPosition,$="Control",E=e.util.isHostMethod(window,"getSelection"),I=e.util.isHostObject(document,"selection"),N=I&&(!E||e.config.preferTextRange);N?(y=n,e.isSelectionValid=function(e){var t=(e||window).document,i=t.selection;return"None"!=i.type||x.getDocument(i.createRange().parentElement())==t}):E?(y=i,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=y;var A=y(),M=e.createNativeRange(document),P=x.getBody(document),O=C.areHostObjects(A,["anchorNode","focusNode"]&&C.areHostProperties(A,["anchorOffset","focusOffset"]));e.features.selectionHasAnchorAndFocus=O;var R=C.isHostMethod(A,"extend");e.features.selectionHasExtend=R;var L="number"==typeof A.rangeCount;e.features.selectionHasRangeCount=L;var F=!1,z=!0;C.areHostMethods(A,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof A.rangeCount&&e.features.implementsDomRange&&function(){var e=document.createElement("iframe");P.appendChild(e);var t=x.getIframeDocument(e);t.open(),t.write("<html><head></head><body>12</body></html>"),t.close();var i=x.getIframeWindow(e).getSelection(),n=t.documentElement,s=n.lastChild,r=s.firstChild,o=t.createRange();o.setStart(r,1),o.collapse(!0),i.addRange(o),z=1==i.rangeCount,i.removeAllRanges();var a=o.cloneRange();o.setStart(r,0),a.setEnd(r,2),i.addRange(o),i.addRange(a),F=2==i.rangeCount,o.detach(),a.detach(),P.removeChild(e)}(),e.features.selectionSupportsMultipleRanges=F,e.features.collapsedNonEditableSelectionsSupported=z;var H,j=!1;P&&C.isHostMethod(P,"createControlRange")&&(H=P.createControlRange(),C.areHostProperties(H,["item","add"])&&(j=!0)),e.features.implementsControlRange=j,b=O?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var W;C.isHostMethod(A,"getRangeAt")?W=function(e,t){try{return e.getRangeAt(t)}catch(i){return null}}:O&&(W=function(t){var i=x.getDocument(t.anchorNode),n=e.createRange(i);return n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset),n.collapsed!==this.isCollapsed&&(n.setStart(t.focusNode,t.focusOffset),n.setEnd(t.anchorNode,t.anchorOffset)),n}),e.getSelection=function(e){e=e||window;var t=e[w],i=y(e),s=I?n(e):null;return t?(t.nativeSelection=i,t.docSelection=s,t.refresh(e)):(t=new p(i,s,e),e[w]=t),t},e.getIframeSelection=function(t){return e.getSelection(x.getIframeWindow(t))};var B=p.prototype;if(!N&&O&&C.areHostMethods(A,["removeAllRanges","addRange"])){B.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),o(this)};var q=function(t,i){var n=k.getRangeDocument(i),s=e.createRange(n);s.collapseToPoint(i.endContainer,i.endOffset),t.nativeSelection.addRange(a(s)),t.nativeSelection.extend(i.startContainer,i.startOffset),t.refresh()};B.addRange=L?function(t,i){if(j&&I&&this.docSelection.type==$)f(this,t);else if(i&&R)q(this,t);else{var n;if(F?n=this.rangeCount:(this.removeAllRanges(),n=0),this.nativeSelection.addRange(a(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(e.config.checkSelectionRanges){var r=W(this.nativeSelection,this.rangeCount-1);r&&!k.rangesEqual(r,t)&&(t=new S(r))}this._ranges[this.rangeCount-1]=t,s(this,t,Y(this.nativeSelection)),this.isCollapsed=b(this)}else this.refresh()}}:function(e,t){t&&R?q(this,e):(this.nativeSelection.addRange(a(e)),this.refresh())},B.setRanges=function(e){if(j&&e.length>1)m(this,e);else{this.removeAllRanges();for(var t=0,i=e.length;i>t;++t)this.addRange(e[t])}}}else{if(!(C.isHostMethod(A,"empty")&&C.isHostMethod(M,"select")&&j&&N))return t.fail("No means of selecting a Range or TextRange was found"),!1;B.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=x.getDocument(this.anchorNode);else if(this.docSelection.type==$){var t=this.docSelection.createRange();t.length&&(e=x.getDocument(t.item(0)).body.createTextRange())}if(e){var i=e.body.createTextRange();i.select(),this.docSelection.empty()}}}catch(n){}o(this)},B.addRange=function(e){this.docSelection.type==$?f(this,e):(S.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,e,!1))},B.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?m(this,e):t&&this.addRange(e[0])}}B.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new T("INDEX_SIZE_ERR");return this._ranges[e]};var U;if(N)U=function(t){var i;e.isSelectionValid(t.win)?i=t.docSelection.createRange():(i=x.getBody(t.win.document).createTextRange(),i.collapse(!0)),t.docSelection.type==$?h(t):u(i)?d(t,i):o(t)};else if(C.isHostMethod(A,"getRangeAt")&&"number"==typeof A.rangeCount)U=function(t){if(j&&I&&t.docSelection.type==$)h(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var i=0,n=t.rangeCount;n>i;++i)t._ranges[i]=new e.WrappedRange(t.nativeSelection.getRangeAt(i));s(t,t._ranges[t.rangeCount-1],Y(t.nativeSelection)),t.isCollapsed=b(t)}else o(t)};else{if(!O||typeof A.isCollapsed!=_||typeof M.collapsed!=_||!e.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;U=function(e){var t,i=e.nativeSelection;i.anchorNode?(t=W(i,0),e._ranges=[t],e.rangeCount=1,r(e),e.isCollapsed=b(e)):o(e)}}B.refresh=function(e){var t=e?this._ranges.slice(0):null;if(U(this),e){var i=t.length;if(i!=this._ranges.length)return!1;for(;i--;)if(!k.rangesEqual(t[i],this._ranges[i]))return!1;return!0}};var V=function(e,t){var i=e.getAllRanges(),n=!1;e.removeAllRanges();for(var s=0,r=i.length;r>s;++s)n||t!==i[s]?e.addRange(i[s]):n=!0;e.rangeCount||o(e)};B.removeRange=j?function(e){if(this.docSelection.type==$){for(var t,i=this.docSelection.createRange(),n=c(e),s=x.getDocument(i.item(0)),r=x.getBody(s).createControlRange(),o=!1,a=0,l=i.length;l>a;++a)t=i.item(a),t!==n||o?r.add(i.item(a)):o=!0;r.select(),h(this)}else V(this,e)}:function(e){V(this,e)};var Y;!N&&O&&e.features.implementsDomRange?(Y=function(e){var t=!1;return e.anchorNode&&(t=1==x.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},B.isBackwards=function(){return Y(this)}):Y=B.isBackwards=function(){return!1},B.toString=function(){for(var e=[],t=0,i=this.rangeCount;i>t;++t)e[t]=""+this._ranges[t];return e.join("")},B.collapse=function(t,i){g(this,t);var n=e.createRange(x.getDocument(t));n.collapseToPoint(t,i),this.removeAllRanges(),this.addRange(n),this.isCollapsed=!0},B.collapseToStart=function(){if(!this.rangeCount)throw new T("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},B.collapseToEnd=function(){if(!this.rangeCount)throw new T("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},B.selectAllChildren=function(t){g(this,t);var i=e.createRange(x.getDocument(t));i.selectNodeContents(t),this.removeAllRanges(),this.addRange(i)},B.deleteFromDocument=function(){if(j&&I&&this.docSelection.type==$){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var i=this.getAllRanges();this.removeAllRanges();for(var n=0,s=i.length;s>n;++n)i[n].deleteContents();this.addRange(i[s-1])}},B.getAllRanges=function(){return this._ranges.slice(0)},B.setSingleRange=function(e){this.setRanges([e])},B.containsNode=function(e,t){for(var i=0,n=this._ranges.length;n>i;++i)if(this._ranges[i].containsNode(e,t))return!0;return!1},B.toHtml=function(){var e="";if(this.rangeCount){for(var t=k.getRangeDocument(this._ranges[0]).createElement("div"),i=0,n=this._ranges.length;n>i;++i)t.appendChild(this._ranges[i].cloneContents());e=t.innerHTML}return e},B.getName=function(){return"WrappedSelection"},B.inspect=function(){return v(this)},B.detach=function(){this.win[w]=null,this.win=this.anchorNode=this.focusNode=null},p.inspect=v,e.Selection=p,e.selectionPrototype=B,e.addCreateMissingNativeApiListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return e.getSelection(this)}),t=null})});/*
	Base.js, version 1.1a
	Copyright 2006-2010, Dean Edwards
	License: http://www.opensource.org/licenses/mit-license.php
*/
var Base=function(){};Base.extend=function(e,t){var i=Base.prototype.extend;Base._prototyping=!0;var n=new this;i.call(n,e),n.base=function(){},delete Base._prototyping;var s=n.constructor,r=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==r)this._constructing=!0,s.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||i).call(arguments[0],n)};return r.ancestor=this,r.extend=this.extend,r.forEach=this.forEach,r.implement=this.implement,r.prototype=n,r.toString=this.toString,r.valueOf=function(e){return"object"==e?r:s.valueOf()},i.call(r,t),"function"==typeof r.init&&r.init(),r},Base.prototype={extend:function(e,t){if(arguments.length>1){var i=this[e];if(i&&"function"==typeof t&&(!i.valueOf||i.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var n=t.valueOf();t=function(){var e=this.base||Base.prototype.base;this.base=i;var t=n.apply(this,arguments);return this.base=e,t},t.valueOf=function(e){return"object"==e?t:n},t.toString=Base.toString}this[e]=t}else if(e){var s=Base.prototype.extend;Base._prototyping||"function"==typeof this||(s=this.extend||s);for(var r={toSource:null},o=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=o[a++];)e[l]!=r[l]&&s.call(this,l,e[l]);for(var l in e)r[l]||s.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,i){for(var n in e)void 0===this.prototype[n]&&t.call(i,e[n],n,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function e(e){return(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[,0])[1]}var t=navigator.userAgent,i=document.createElement("div"),n=-1!==t.indexOf("MSIE")&&-1===t.indexOf("Opera"),s=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),r=-1!==t.indexOf("AppleWebKit/"),o=-1!==t.indexOf("Chrome/"),a=-1!==t.indexOf("Opera/");return{USER_AGENT:t,supported:function(){var t=this.USER_AGENT.toLowerCase(),n="contentEditable"in i,s=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,r=document.querySelector&&document.querySelectorAll,o=this.isIos()&&e(t)<5||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return n&&s&&r&&!o},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var e=this.USER_AGENT.toLowerCase();return-1!==e.indexOf("webkit")&&-1!==e.indexOf("mobile")},supportsSandboxedIframes:function(){return n},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!s},hasCurrentStyleProperty:function(){return"currentStyle"in i},insertsLineBreaksOnReturn:function(){return s},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in i||function(){return i.setAttribute("on"+e,"return;"),"function"==typeof i["on"+e]}()},supportsEventsInIframeCorrectly:function(){return!a},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return r||s},supportsDataTransfer:function(){try{return r&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(e){return!1}},supportsHTML5Tags:function(e){var t=e.createElement("div"),i="<article>foo</article>";return t.innerHTML=i,t.innerHTML.toLowerCase()===i},supportsCommand:function(){var e={formatBlock:n,insertUnorderedList:n||a||r,insertOrderedList:n||a||r},t={insertHTML:s};return function(i,n){var s=e[n];if(!s){try{return i.queryCommandSupported(n)}catch(r){}try{return i.queryCommandEnabled(n)}catch(o){return!!t[n]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return s||a||r},supportsGetAttributeCorrectly:function(){var e=document.createElement("td");return"1"!=e.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return s||n||a},clearsListsInContentEditableCorrectly:function(){return s||n||r},autoScrollsToCaret:function(){return!r},autoClosesUnclosedTags:function(){var e,t,n=i.cloneNode(!1);return n.innerHTML="<p><div></div>",t=n.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in i},needsSpaceAfterLineBreak:function(){return a},supportsSpeechApiOn:function(e){var i=t.match(/Chrome\/(\d+)/)||[,0];return i[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return n&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return n},hasProblemsSettingCaretAfterImg:function(){return n},hasUndoInContextMenu:function(){return s||o||a}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(e.indexOf)return-1!==e.indexOf(t);for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return!0;return!1},without:function(t){t=wysihtml5.lang.array(t);for(var i=[],n=0,s=e.length;s>n;n++)t.contains(e[n])||i.push(e[n]);return i},get:function(){for(var t=0,i=e.length,n=[];i>t;t++)n.push(e[t]);return n}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(e,t){this.events=this.events||{};for(var i=this.events[e]||[],n=0;n<i.length;n++)i[n].call(this,t);return this},stopObserving:function(e,t){this.events=this.events||{};var i,n,s=0;if(e){for(i=this.events[e]||[],n=[];s<i.length;s++)i[s]!==t&&t&&n.push(i[s]);this.events[e]=n}else this.events={};return this}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var i in t)e[i]=t[i];return this},get:function(){return e},clone:function(){var t,i={};for(t in e)i[t]=e[t];return i},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,t=/\s+$/;wysihtml5.lang.string=function(i){return i=String(i),{trim:function(){return i.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)i=this.replace("#{"+t+"}").by(e[t]);return i},replace:function(e){return{by:function(t){return i.split(e).join(t)}}}}}}(),function(e){function t(e){return r(e)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),o(e))}function i(e){return e.replace(l,function(e,t){var i=(t.match(c)||[])[1]||"",n=d[i];t=t.replace(c,""),t.split(n).length>t.split(i).length&&(t+=i,i="");var s=t,r=t;return t.length>u&&(r=r.substr(0,u)+"..."),"www."===s.substr(0,4)&&(s="http://"+s),'<a href="'+s+'">'+r+"</a>"+i})}function n(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}function s(e){var t=e.parentNode,s=n(t.ownerDocument);for(s.innerHTML="<span></span>"+i(e.data),s.removeChild(s.firstChild);s.firstChild;)t.insertBefore(s.firstChild,e);t.removeChild(e)}function r(e){for(var t;e.parentNode;){if(e=e.parentNode,t=e.nodeName,a.contains(t))return!0;if("body"===t)return!1}return!1}function o(t){if(!a.contains(t.nodeName)){if(t.nodeType===e.TEXT_NODE&&t.data.match(l))return s(t),void 0;for(var i=e.lang.array(t.childNodes).get(),n=i.length,r=0;n>r;r++)o(i[r]);return t}}var a=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,u=100,d={")":"(","]":"[","}":"{"};e.dom.autoLink=t,e.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(e){var t=e.browser.supportsClassList(),i=e.dom;i.addClass=function(e,n){return t?e.classList.add(n):(i.hasClass(e,n)||(e.className+=" "+n),void 0)},i.removeClass=function(e,i){return t?e.classList.remove(i):(e.className=e.className.replace(new RegExp("(^|\\s+)"+i+"(\\s+|$)")," "),void 0)},i.hasClass=function(e,i){if(t)return e.classList.contains(i);var n=e.className;return n.length>0&&(n==i||new RegExp("(^|\\s)"+i+"(\\s|$)").test(n))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var i=e.createElement("li");return t.appendChild(i),i}function t(e,t){return e.createElement(t)}function i(i,n){if("UL"===i.nodeName||"OL"===i.nodeName||"MENU"===i.nodeName)return i;var s,r,o,a,l,c,u,d,h,f=i.ownerDocument,p=t(f,n),m=i.querySelectorAll("br"),g=m.length;for(h=0;g>h;h++)for(a=m[h];(l=a.parentNode)&&l!==i&&l.lastChild===a;){if("block"===wysihtml5.dom.getStyle("display").from(l)){l.removeChild(a);break}wysihtml5.dom.insert(a).after(a.parentNode)}for(s=wysihtml5.lang.array(i.childNodes).get(),r=s.length,h=0;r>h;h++)d=d||e(f,p),o=s[h],c="block"===wysihtml5.dom.getStyle("display").from(o),u="BR"===o.nodeName,c?(d=d.firstChild?e(f,p):d,d.appendChild(o),d=null):u?d=d.firstChild?null:d:d.appendChild(o);return i.parentNode.replaceChild(p,i),p}return i}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(i){for(var n,s=0,r=e.length;r>s;s++)n=e[s],"undefined"!=typeof t[n]&&""!==t[n]&&(i[n]=t[n]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],i=function(t){return n(t)?parseInt(e.getStyle("width").from(t),10)<t.offsetWidth:!1},n=function(i){for(var n=0,s=t.length;s>n;n++)if("border-box"===e.getStyle(t[n]).from(i))return t[n]};e.copyStyles=function(n){return{from:function(s){i(s)&&(n=wysihtml5.lang.array(n).without(t));for(var r,o="",a=n.length,l=0;a>l;l++)r=n[l],o+=r+":"+e.getStyle(r).from(s)+";";return{to:function(t){return e.setStyles(o).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,i,n,s){return e.dom.observe(t,n,function(n){for(var r=n.target,o=e.lang.array(t.querySelectorAll(i));r&&r!==t;){if(o.contains(r)){s.call(r,n);break}r=r.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=function(e,t){var i=t.createElement("div");i.style.display="none",t.body.appendChild(i);try{i.innerHTML=e}catch(n){}return t.body.removeChild(i),i},t=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,n=i.length;n>t;t++)e.createElement(i[t]);e._wysihtml5_supportsHTML5Tags=!0}},i=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(i,n){n=n||document;var s;return"object"==typeof i&&i.nodeType?(s=n.createElement("div"),s.appendChild(i)):wysihtml5.browser.supportsHTML5Tags(n)?(s=n.createElement("div"),s.innerHTML=i):(t(n),s=e(i,n)),s}}(),wysihtml5.dom.getParentElement=function(){function e(e,t){return t&&t.length?"string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e):!0}function t(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function i(e,t,i){var n=(e.className||"").match(i)||[];return t?n[n.length-1]===t:!!n.length}function n(t,i,n){for(;n--&&t&&"BODY"!==t.nodeName;){if(e(t.nodeName,i))return t;t=t.parentNode}return null}function s(n,s,r,o,a){for(;a--&&n&&"BODY"!==n.nodeName;){if(t(n)&&e(n.nodeName,s)&&i(n,r,o))return n;n=n.parentNode}return null}return function(e,t,i){return i=i||50,t.className||t.classRegExp?s(e,t.nodeName,t.className,t.classRegExp,i):n(e,t.nodeName,i)}}(),wysihtml5.dom.getStyle=function(){function e(e){return e.replace(i,function(e){return e.charAt(1).toUpperCase()})}var t={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},i=/\-[a-z]/g;return function(i){return{from:function(n){if(n.nodeType===wysihtml5.ELEMENT_NODE){var s=n.ownerDocument,r=t[i]||e(i),o=n.style,a=n.currentStyle,l=o[r];if(l)return l;if(a)try{return a[r]}catch(c){}var u,d,h=s.defaultView||s.parentWindow,f=("height"===i||"width"===i)&&"TEXTAREA"===n.nodeName;return h.getComputedStyle?(f&&(u=o.overflow,o.overflow="hidden"),d=h.getComputedStyle(n,null).getPropertyValue(i),f&&(o.overflow=u||""),d):void 0}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){function e(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=i++)}var t={},i=1;return function(i,n){var s=e(i)+":"+n,r=t[s];return r||(r=t[s]=i.getElementsByTagName(n)),r.length>0}}(),function(e){function t(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=n++)}var i={},n=1;e.dom.hasElementWithClassName=function(n,s){if(!e.browser.supportsNativeGetElementsByClassName())return!!n.querySelector("."+s);var r=t(n)+":"+s,o=i[r];return o||(o=i[r]=n.getElementsByClassName(s)),o.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var i=t.head||t.getElementsByTagName("head")[0],n=t.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e)),i&&i.appendChild(n)}}},wysihtml5.dom.observe=function(e,t,i){t="string"==typeof t?[t]:t;for(var n,s,r=0,o=t.length;o>r;r++)s=t[r],e.addEventListener?e.addEventListener(s,i,!1):(n=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},i.call(e,t)},e.attachEvent("on"+s,n));return{stop:function(){for(var s,r=0,o=t.length;o>r;r++)s=t[r],e.removeEventListener?e.removeEventListener(s,i,!1):e.detachEvent("on"+s,n)}}},wysihtml5.dom.parse=function(){function e(e,i,n,s){wysihtml5.lang.object(d).merge(u).merge(i).get(),n=n||e.ownerDocument||document;var r,o,a,l=n.createDocumentFragment(),c="string"==typeof e;for(r=c?wysihtml5.dom.getAsDom(e,n):e;r.firstChild;)a=r.firstChild,r.removeChild(a),o=t(a,s),o&&l.appendChild(o);return r.innerHTML="",r.appendChild(l),c?wysihtml5.quirks.getCorrectInnerHTML(r):r}function t(e,i){var n,s=e.nodeType,r=e.childNodes,o=r.length,c=a[s],u=0;if(n=c&&c(e),!n)return null;for(u=0;o>u;u++)newChild=t(r[u],i),newChild&&n.appendChild(newChild);return i&&n.childNodes.length<=1&&n.nodeName.toLowerCase()===l&&!n.attributes.length?n.firstChild:n}function i(e){var t,i,s=d.tags,r=e.nodeName.toLowerCase(),o=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(o&&"HTML"!=o&&(r=o+":"+r),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(r="div")),r in s){if(t=s[r],!t||t.remove)return null;t="string"==typeof t?{rename_tag:t}:t}else{if(!e.firstChild)return null;t={rename_tag:l}}return i=e.ownerDocument.createElement(t.rename_tag||r),n(e,i,t),e=null,i}function n(e,t,i){var n,r,o,a,l,u,h,m={},g=i.set_class,v=i.add_class,y=i.set_attributes,b=i.check_attributes,_=d.classes,w=0,x=[],C=[],k=[],S=[];if(y&&(m=wysihtml5.lang.object(y).clone()),b)for(l in b)h=f[b[l]],h&&(u=h(s(e,l)),"string"==typeof u&&(m[l]=u));if(g&&x.push(g),v)for(l in v)h=p[v[l]],h&&(a=h(s(e,l)),"string"==typeof a&&x.push(a));for(_["_wysihtml5-temp-placeholder"]=1,S=e.getAttribute("class"),S&&(x=x.concat(S.split(c))),n=x.length;n>w;w++)o=x[w],_[o]&&C.push(o);for(r=C.length;r--;)o=C[r],wysihtml5.lang.array(k).contains(o)||k.unshift(o);k.length&&(m["class"]=k.join(" "));for(l in m)try{t.setAttribute(l,m[l])}catch(T){}m.src&&("undefined"!=typeof m.width&&t.setAttribute("width",m.width),"undefined"!=typeof m.height&&t.setAttribute("height",m.height))}function s(e,t){t=t.toLowerCase();var i=e.nodeName;if("IMG"==i&&"src"==t&&r(e)===!0)return e.src;if(h&&"outerHTML"in e){var n=e.outerHTML.toLowerCase(),s=-1!=n.indexOf(" "+t+"=");return s?e.getAttribute(t):null}return e.getAttribute(t)}function r(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}}function o(e){return e.ownerDocument.createTextNode(e.data)}var a={1:i,3:o},l="span",c=/\s+/,u={tags:{},classes:{}},d={},h=!wysihtml5.browser.supportsGetAttributeCorrectly(),f={url:function(){var e=/^https?:\/\//i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){return t?t.replace(e,""):""}}(),numbers:function(){var e=/\D/g;return function(t){return t=(t||"").replace(e,""),t||null}}()},p={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[String(t).toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[String(t).toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[String(t).toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[String(t).charAt(0)]}}()};return e}(),wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,i=wysihtml5.lang.array(e.childNodes).get(),n=i.length,s=0;n>s;s++)t=i[s],t.nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var i,n=e.ownerDocument.createElement(t);i=e.firstChild;)n.appendChild(i);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(n),e.parentNode.replaceChild(n,e),n},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){if(!e.firstChild)return e.parentNode.removeChild(e),void 0;for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function i(e){return"BR"===e.nodeName}function n(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function s(e){if("MENU"===e.nodeName||"UL"===e.nodeName||"OL"===e.nodeName){var s,r,o,a,l,c=e.ownerDocument,u=c.createDocumentFragment(),d=e.previousElementSibling||e.previousSibling;for(d&&!t(d)&&n(u);l=e.firstChild;){for(r=l.lastChild;s=l.firstChild;)o=s===r,a=o&&!t(s)&&!i(s),u.appendChild(s),a&&n(u);l.parentNode.removeChild(l)}e.parentNode.replaceChild(u,e)}}e.resolveList=s}(wysihtml5.dom),function(e){var t=document,i=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],n=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],s=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,i){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(i).get(),this.iframe=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var i=this,n=t.createElement("iframe");return n.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(n),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(n.src="javascript:'<html></html>'"),n.onload=function(){n.onreadystatechange=n.onload=null,i._onLoadIframe(n)},n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&(n.onreadystatechange=n.onload=null,i._onLoadIframe(n))},n},_onLoadIframe:function(r){if(e.dom.contains(t.documentElement,r)){var o=this,a=r.contentWindow,l=r.contentWindow.document,c=t.characterSet||t.charset||"utf-8",u=this._getHtml({charset:c,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(u),l.close(),this.getWindow=function(){return r.contentWindow},this.getDocument=function(){return r.contentWindow.document},a.onerror=function(e,t,i){throw new Error("wysihtml5.Sandbox: "+e,t,i)},!e.browser.supportsSandboxedIframes()){var d,h;for(d=0,h=i.length;h>d;d++)this._unset(a,i[d]);for(d=0,h=n.length;h>d;d++)this._unset(a,n[d],e.EMPTY_FUNCTION);for(d=0,h=s.length;h>d;d++)this._unset(l,s[d]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){o.callback(o)},0)}},_getHtml:function(t){var i,n=t.stylesheets,s="",r=0;if(n="string"==typeof n?[n]:n)for(i=n.length;i>r;r++)s+='<link rel="stylesheet" href="'+n[r]+'">';return t.stylesheets=s,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,i,n,s){try{t[i]=n}catch(r){}try{t.__defineGetter__(i,function(){return n})}catch(r){}if(s)try{t.__defineSetter__(i,function(){})}catch(r){}if(!e.browser.crashesWhenDefineProperty(i))try{var o={get:function(){return n}};s&&(o.set=function(){}),Object.defineProperty(t,i,o)}catch(r){}}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(i){for(var n in t)i.setAttribute(e[n]||n,t[n])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var i=t.style;if("string"==typeof e)return i.cssText+=";"+e,void 0;for(var n in e)"float"===n?(i.cssFloat=e[n],i.styleFloat=e[n]):i[n]=e[n]}}},function(e){e.simulatePlaceholder=function(t,i,n){var s="placeholder",r=function(){i.hasPlaceholderSet()&&i.clear(),e.removeClass(i.element,s)},o=function(){i.isEmpty()&&(i.setValue(n),e.addClass(i.element,s))};t.observe("set_placeholder",o).observe("unset_placeholder",r).observe("focus:composer",r).observe("paste:composer",r).observe("blur:composer",o),o()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){function e(e,i,n){i=i||t,n=n||e.ownerDocument||document;var s,r,o,a,l,c="string"==typeof e,u=0;s=c?wysihtml5.dom.getAsDom(e,n):e;for(l in i)for(o=s.querySelectorAll(l),r=i[l],a=o.length;a>u;u++)r(o[u]);return o=e=i=null,c?s.innerHTML:s}var t={"a u":wysihtml5.dom.replaceWithChildNodes};return e}(),function(e){var t=e.dom;e.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();("<p>&nbsp;</p>"==t||"<p>&nbsp;</p><p>&nbsp;</p>"==t)&&(e.innerHTML="")},0)};return function(i){t.observe(i.element,["cut","keydown"],e)}}(),e.quirks.ensureProperClearingOfLists=function(){var i=["OL","UL","MENU"],n=function(n,s){if(s.firstChild&&e.lang.array(i).contains(s.firstChild.nodeName)){var r=t.getParentElement(n,{nodeName:i});if(r){var o=r==s.firstChild;if(o){var a=r.childNodes.length<=1;if(a){var l=r.firstChild?""===r.firstChild.innerHTML:!0;l&&r.parentNode.removeChild(r)}}}}};return function(i){t.observe(i.element,"keydown",function(t){if(t.keyCode===e.BACKSPACE_KEY){var s=i.selection.getSelectedNode();n(s,i.element)}})}}()}(wysihtml5),function(e){var t="%7E";e.quirks.getCorrectInnerHTML=function(i){var n=i.innerHTML;if(-1===n.indexOf(t))return n;var s,r,o,a,l=i.querySelectorAll("[href*='~'], [src*='~']");for(a=0,o=l.length;o>a;a++)s=l[a].href||l[a].src,r=e.lang.string(s).replace("~").by(t),n=e.lang.string(n).replace(r).by(s);return n}}(wysihtml5),function(e){var t=e.dom,i=["LI","P","H1","H2","H3","H4","H5","H6"],n=["UL","OL","MENU"];e.quirks.insertLineBreakOnReturn=function(s){function r(i){var n=t.getParentElement(i,{nodeName:["P","DIV"]},2);if(n){var r=document.createTextNode(e.INVISIBLE_SPACE);t.insert(r).before(n),t.replaceWithChildNodes(n),s.selection.selectNode(r)}}function o(o){var a=o.keyCode;if(!(o.shiftKey||a!==e.ENTER_KEY&&a!==e.BACKSPACE_KEY)){var l=(o.target,s.selection.getSelectedNode()),c=t.getParentElement(l,{nodeName:i},4);return c?("LI"!==c.nodeName||a!==e.ENTER_KEY&&a!==e.BACKSPACE_KEY?c.nodeName.match(/H[1-6]/)&&a===e.ENTER_KEY&&setTimeout(function(){r(s.selection.getSelectedNode())},0):setTimeout(function(){var e,i=s.selection.getSelectedNode();i&&(e=t.getParentElement(i,{nodeName:n},2),e||r(i))},0),void 0):(a!==e.ENTER_KEY||e.browser.insertsLineBreaksOnReturn()||(s.commands.exec("insertLineBreak"),o.preventDefault()),void 0)}}t.observe(s.element.ownerDocument,"keydown",o)}}(wysihtml5),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(i){e.dom.addClass(i,t),e.dom.removeClass(i,t);try{var n=i.ownerDocument;n.execCommand("italic",!1,null),n.execCommand("italic",!1,null)}catch(s){}}}(wysihtml5),function(e){function t(e){var t=0;if(e.parentNode)do t+=e.offsetTop||0,e=e.offsetParent;while(e);return t}var i=e.dom;e.Selection=Base.extend({constructor:function(e){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},getBookmark:function(){var e=this.getRange();return e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(t){var n=rangy.createRange(this.doc),s=t.nodeType===e.ELEMENT_NODE,r="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,o=s?t.innerHTML:t.data,a=""===o||o===e.INVISIBLE_SPACE,l=i.getStyle("display").from(t),c="block"===l||"list-item"===l;if(a&&s&&r)try{t.innerHTML=e.INVISIBLE_SPACE}catch(u){}r?n.selectNodeContents(t):n.selectNode(t),r&&a&&s?n.collapse(c):r&&a&&(n.setStartAfter(t),n.setEndAfter(t)),this.setSelection(n)},getSelectedNode:function(e){var t,i;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(i=this.doc.selection.createRange(),i&&i.length)?i.item(0):(t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(i=this.getRange(this.doc),i?i.commonAncestorContainer:this.doc.body))},executeAndRestore:function(t,i){var n,s=this.doc.body,r=i&&s.scrollTop,o=i&&s.scrollLeft,a="_wysihtml5-temp-placeholder",l='<span class="'+a+'">'+e.INVISIBLE_SPACE+"</span>",c=this.getRange(this.doc);if(!c)return t(s,s),void 0;var u=c.createContextualFragment(l);c.insertNode(u);try{t(c.startContainer,c.endContainer)}catch(d){setTimeout(function(){throw d},0)}caretPlaceholder=this.doc.querySelector("."+a),caretPlaceholder?(n=rangy.createRange(this.doc),n.selectNode(caretPlaceholder),n.deleteContents(),this.setSelection(n)):s.focus(),i&&(s.scrollTop=r,s.scrollLeft=o);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(h){}},executeAndRestoreSimple:function(e){var t,i,n,s,r,o=this.getRange(),a=this.doc.body;if(!o)return e(a,a),void 0;s=o.getNodes([3]),i=s[0]||o.startContainer,n=s[s.length-1]||o.endContainer,r={collapsed:o.collapsed,startContainer:i,startOffset:i===o.startContainer?o.startOffset:0,endContainer:n,endOffset:n===o.endContainer?o.endOffset:n.length};try{e(o.startContainer,o.endContainer)}catch(l){setTimeout(function(){throw l},0)}t=rangy.createRange(this.doc);try{t.setStart(r.startContainer,r.startOffset)}catch(c){}try{t.setEnd(r.endContainer,r.endOffset)}catch(u){}try{this.setSelection(t)}catch(d){}},insertHTML:function(e){var t=rangy.createRange(this.doc),i=t.createContextualFragment(e),n=i.lastChild;this.insertNode(i),n&&this.setAfter(n)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t=this.getRange();if(t)try{t.surroundContents(e),this.selectNode(e)}catch(i){e.appendChild(t.extractContents()),t.insertNode(e)}},scrollIntoView:function(){var i,n=this.doc,s=n.documentElement.scrollHeight>n.documentElement.offsetHeight,r=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||function(){var t=n.createElement("span");return t.innerHTML=e.INVISIBLE_SPACE,t}();s&&(this.insertNode(r),i=t(r),r.parentNode.removeChild(r),i>n.body.scrollTop&&(n.body.scrollTop=i))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView,t=e.getSelection();t.modify("extend","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,i,n,s,r=this.doc.selection.createRange(),o=r.boundingTop,a=(r.boundingHeight,this.doc.body.scrollWidth);if(r.moveToPoint){for(0===o&&(i=this.doc.createElement("span"),this.insertNode(i),o=i.offsetTop,i.parentNode.removeChild(i)),o+=1,n=-10;a>n;n+=2)try{r.moveToPoint(n,o);break}catch(l){}for(e=o,t=this.doc.selection.createRange(),s=a;s>=0;s--)try{t.moveToPoint(s,e);break}catch(c){}r.setEndPoint("EndToEnd",t),r.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var i=this.getRange();return i?i.getNodes([e],t):[]},getRange:function(){var e=this.getSelection();return e&&e.rangeCount&&e.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow,i=rangy.getSelection(t);return i.setSingleRange(e)}})}(wysihtml5),function(e,t){function i(e,t,i){if(!e.className)return!1;var n=e.className.match(i)||[];return n[n.length-1]===t}function n(e,t,i){e.className?(s(e,i),e.className+=" "+t):e.className=t}function s(e,t){e.className&&(e.className=e.className.replace(t,""))}function r(e,t){return e.className.replace(f," ")==t.className.replace(f," ")}function o(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function a(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var i,n,s,r=0,o=e.attributes.length;o>r;++r)if(i=e.attributes[r],s=i.name,"class"!=s){if(n=t.attributes.getNamedItem(s),i.specified!=n.specified)return!1;if(i.specified&&i.nodeValue!==n.nodeValue)return!1}return!0}function l(e,i){return t.dom.isCharacterDataNode(e)?0==i?!!e.previousSibling:i==e.length?!!e.nextSibling:!0:i>0&&i<e.childNodes.length}function c(e,i,n){var s;if(t.dom.isCharacterDataNode(i)&&(0==n?(n=t.dom.getNodeIndex(i),i=i.parentNode):n==i.length?(n=t.dom.getNodeIndex(i)+1,i=i.parentNode):s=t.dom.splitDataNode(i,n)),!s){s=i.cloneNode(!1),s.id&&s.removeAttribute("id");for(var r;r=i.childNodes[n];)s.appendChild(r);t.dom.insertAfter(s,i)}return i==e?s:c(e,s.parentNode,t.dom.getNodeIndex(s))}function u(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function d(e,t,i,n){this.tagNames=e||[h],this.cssClass=t||"",this.similarClassRegExp=i,this.normalize=n,this.applyToAnyTagName=!1}var h="span",f=/\s+/g;u.prototype={doMerge:function(){for(var e,t,i,n=[],s=0,r=this.textNodes.length;r>s;++s)e=this.textNodes[s],t=e.parentNode,n[s]=e.data,s&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=i=n.join(""),i},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,i=this.textNodes.length;i>t;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},d.prototype={getAncestorWithClass:function(n){for(var s;n;){if(s=this.cssClass?i(n,this.cssClass,this.similarClassRegExp):!0,n.nodeType==e.ELEMENT_NODE&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&s)return n;n=n.parentNode}return!1},postApply:function(e,t){for(var i,n,s,r=e[0],o=e[e.length-1],a=[],l=r,c=o,d=0,h=o.length,f=0,p=e.length;p>f;++f)n=e[f],s=this.getAdjacentMergeableTextNode(n.parentNode,!1),s?(i||(i=new u(s),a.push(i)),i.textNodes.push(n),n===r&&(l=i.firstTextNode,d=l.length),n===o&&(c=i.firstTextNode,h=i.getLength())):i=null;
var m=this.getAdjacentMergeableTextNode(o.parentNode,!0);if(m&&(i||(i=new u(o),a.push(i)),i.textNodes.push(m)),a.length){for(f=0,p=a.length;p>f;++f)a[f].doMerge();t.setStart(l,d),t.setEnd(c,h)}},getAdjacentMergeableTextNode:function(t,i){var n,s=t.nodeType==e.TEXT_NODE,r=s?t.parentNode:t,o=i?"nextSibling":"previousSibling";if(s){if(n=t[o],n&&n.nodeType==e.TEXT_NODE)return n}else if(n=r[o],n&&this.areElementsMergeable(t,n))return n[i?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,i){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(i.tagName||"").toLowerCase())&&r(e,i)&&a(e,i)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),t},applyToTextNode:function(e){var i=e.parentNode;if(1==i.childNodes.length&&t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase()))this.cssClass&&n(i,this.cssClass,this.similarClassRegExp);else{var s=this.createContainer(t.dom.getDocument(e));e.parentNode.insertBefore(s,e),s.appendChild(e)}},isRemovable:function(i){return t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&e.lang.string(i.className).trim()==this.cssClass},undoToTextNode:function(e,t,i){if(!t.containsNode(i)){var n=t.cloneRange();n.selectNode(i),n.isPointInRange(t.endContainer,t.endOffset)&&l(t.endContainer,t.endOffset)&&(c(i,t.endContainer,t.endOffset),t.setEndAfter(i)),n.isPointInRange(t.startContainer,t.startOffset)&&l(t.startContainer,t.startOffset)&&(i=c(i,t.startContainer,t.startOffset))}this.similarClassRegExp&&s(i,this.similarClassRegExp),this.isRemovable(i)&&o(i)},applyToRange:function(t){var i=t.getNodes([e.TEXT_NODE]);if(!i.length)try{var n=this.createContainer(t.endContainer.ownerDocument);return t.surroundContents(n),this.selectNode(t,n),void 0}catch(s){}if(t.splitBoundaries(),i=t.getNodes([e.TEXT_NODE]),i.length){for(var r,o=0,a=i.length;a>o;++o)r=i[o],this.getAncestorWithClass(r)||this.applyToTextNode(r);t.setStart(i[0],0),r=i[i.length-1],t.setEnd(r,r.length),this.normalize&&this.postApply(i,t)}},undoToRange:function(t){var i,n,s=t.getNodes([e.TEXT_NODE]);if(s.length)t.splitBoundaries(),s=t.getNodes([e.TEXT_NODE]);else{var r=t.endContainer.ownerDocument,o=r.createTextNode(e.INVISIBLE_SPACE);t.insertNode(o),t.selectNode(o),s=[o]}for(var a=0,l=s.length;l>a;++a)i=s[a],n=this.getAncestorWithClass(i),n&&this.undoToTextNode(i,t,n);1==l?this.selectNode(t,s[0]):(t.setStart(s[0],0),i=s[s.length-1],t.setEnd(i,i.length),this.normalize&&this.postApply(s,t))},selectNode:function(t,i){var n=i.nodeType===e.ELEMENT_NODE,s="canHaveHTML"in i?i.canHaveHTML:!0,r=n?i.innerHTML:i.data,o=""===r||r===e.INVISIBLE_SPACE;if(o&&n&&s)try{i.innerHTML=e.INVISIBLE_SPACE}catch(a){}t.selectNodeContents(i),o&&n?t.collapse(!1):o&&(t.setStartAfter(i),t.setEndAfter(i))},getTextSelectedByRange:function(e,t){var i=t.cloneRange();i.selectNodeContents(e);var n=i.intersection(t),s=n?n.toString():"";return i.detach(),s},isAppliedToRange:function(t){var i,n=[],s=t.getNodes([e.TEXT_NODE]);if(!s.length)return i=this.getAncestorWithClass(t.startContainer),i?[i]:!1;for(var r,o=0,a=s.length;a>o;++o){if(r=this.getTextSelectedByRange(s[o],t),i=this.getAncestorWithClass(s[o]),""!=r&&!i)return!1;n.push(i)}return n},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)}},e.selection.HTMLApplier=d}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var i=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),s=i&&i.exec,r=null;if(this.editor.fire("beforecommand:composer"),s)n.unshift(this.composer),r=s.apply(i,n);else try{r=this.doc.execCommand(e,!1,t)}catch(o){}return this.editor.fire("aftercommand:composer"),r},state:function(e){var t=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),n=t&&t.state;if(n)return i.unshift(this.composer),n.apply(t,i);try{return this.doc.queryCommandState(e)}catch(s){return!1}},value:function(e){var t=wysihtml5.commands[e],i=t&&t.value;if(i)return i.call(t,this.composer,e);try{return this.doc.queryCommandValue(e)}catch(n){return null}}}),function(e){var t;e.commands.bold={exec:function(t,i){return e.commands.formatInline.exec(t,i,"b")},state:function(t,i){return e.commands.formatInline.state(t,i,"b")},value:function(){return t}}}(wysihtml5),function(e){function t(e,t){for(var i,n,s,o=t.length,a=0;o>a;a++)i=t[a],n=r.getParentElement(i,{nodeName:"code"}),s=r.getTextContent(i),s.match(r.autoLink.URL_REG_EXP)&&!n?n=r.renameElement(i,"code"):r.replaceWithChildNodes(i)}function i(t,i){var o,a,l,c,u,d,h,f,p,m=t.doc,g="_wysihtml5-temp-"+ +new Date,v=/non-matching-class/g,y=0;for(e.commands.formatInline.exec(t,n,s,g,v),a=m.querySelectorAll(s+"."+g),o=a.length;o>y;y++){l=a[y],l.removeAttribute("class");for(p in i)l.setAttribute(p,i[p])}d=l,1===o&&(h=r.getTextContent(l),c=!!l.querySelector("*"),u=""===h||h===e.INVISIBLE_SPACE,!c&&u&&(r.setTextContent(l,i.text||l.href),f=m.createTextNode(" "),t.selection.setAfter(l),t.selection.insertNode(f),d=f)),t.selection.setAfter(d)}var n,s="A",r=e.dom;e.commands.createLink={exec:function(e,n,s){var r=this.state(e,n);r?e.selection.executeAndRestore(function(){t(e,r)}):(s="object"==typeof s?s:{href:s},i(e,s))},state:function(t,i){return e.commands.formatInline.state(t,i,"A")},value:function(){return n}}}(wysihtml5),function(e){var t,i=/wysiwyg-font-size-[a-z\-]+/g;e.commands.fontSize={exec:function(t,n,s){return e.commands.formatInline.exec(t,n,"span","wysiwyg-font-size-"+s,i)},state:function(t,n,s){return e.commands.formatInline.state(t,n,"span","wysiwyg-font-size-"+s,i)},value:function(){return t}}}(wysihtml5),function(e){var t,i=/wysiwyg-color-[a-z]+/g;e.commands.foreColor={exec:function(t,n,s){return e.commands.formatInline.exec(t,n,"span","wysiwyg-color-"+s,i)},state:function(t,n,s){return e.commands.formatInline.state(t,n,"span","wysiwyg-color-"+s,i)},value:function(){return t}}}(wysihtml5),function(e){function t(e,t,n){e.className?(i(e,n),e.className+=" "+t):e.className=t}function i(e,t){e.className=e.className.replace(t,"")}function n(t){return t.nodeType===e.TEXT_NODE&&!e.lang.string(t.data).trim()}function s(e){for(var t=e.previousSibling;t&&n(t);)t=t.previousSibling;return t}function r(e){for(var t=e.nextSibling;t&&n(t);)t=t.nextSibling;return t}function o(e){var t=e.ownerDocument,i=r(e),n=s(e);i&&!u(i)&&e.parentNode.insertBefore(t.createElement("br"),i),n&&!u(n)&&e.parentNode.insertBefore(t.createElement("br"),e)}function a(e){var t=r(e),i=s(e);t&&c(t)&&t.parentNode.removeChild(t),i&&c(i)&&i.parentNode.removeChild(i)}function l(e){var t=e.lastChild;t&&c(t)&&t.parentNode.removeChild(t)}function c(e){return"BR"===e.nodeName}function u(e){return c(e)?!0:"block"===m.getStyle("display").from(e)?!0:!1}function d(t,i,n,s){if(s)var r=m.observe(t,"DOMNodeInserted",function(t){var i,n=t.target;n.nodeType===e.ELEMENT_NODE&&(i=m.getStyle("display").from(n),"inline"!==i.substr(0,6)&&(n.className+=" "+s))});t.execCommand(i,!1,n),r&&r.stop()}function h(e,t){e.selection.selectLine(),e.selection.surround(t),a(t),l(t),e.selection.selectNode(t)}function f(t){return!!e.lang.string(t.className).trim()}var p,m=e.dom,g="DIV",v=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE",g];e.commands.formatBlock={exec:function(n,s,r,a,l){var c,u=n.doc,p=this.state(n,s,r,a,l);return r="string"==typeof r?r.toUpperCase():r,p?(n.selection.executeAndRestoreSimple(function(){l&&i(p,l);var e=f(p);e||p.nodeName!==(r||g)?e&&m.renameElement(p,g):(o(p),m.replaceWithChildNodes(p))}),void 0):(null===r||e.lang.array(v).contains(r))&&(c=n.selection.getSelectedNode(),p=m.getParentElement(c,{nodeName:v}))?(n.selection.executeAndRestoreSimple(function(){r&&(p=m.renameElement(p,r)),a&&t(p,a,l)}),void 0):n.commands.support(s)?(d(u,s,r||g,a),void 0):(p=u.createElement(r||g),a&&(p.className=a),h(n,p),void 0)},state:function(e,t,i,n,s){i="string"==typeof i?i.toUpperCase():i;var r=e.selection.getSelectedNode();return m.getParentElement(r,{nodeName:i,className:n,classRegExp:s})},value:function(){return p}}}(wysihtml5),function(e){function t(e){var t=s[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function i(i,n,s){var o=i+":"+n;return r[o]||(r[o]=new e.selection.HTMLApplier(t(i),n,s,!0)),r[o]}var n,s={strong:"b",em:"i",b:"strong",i:"em"},r={};e.commands.formatInline={exec:function(e,t,n,s,r){var o=e.selection.getRange();return o?(i(n,s,r).toggleRange(o),e.selection.setSelection(o),void 0):!1},state:function(t,n,r,o,a){var l,c=t.doc,u=s[r]||r;return e.dom.hasElementWithTagName(c,r)||e.dom.hasElementWithTagName(c,u)?o&&!e.dom.hasElementWithClassName(c,o)?!1:(l=t.selection.getRange(),l?i(r,o,a).isAppliedToRange(l):!1):!1},value:function(){return n}}}(wysihtml5),function(e){var t;e.commands.insertHTML={exec:function(e,t,i){e.commands.support(t)?e.doc.execCommand(t,!1,i):e.selection.insertHTML(i)},state:function(){return!1},value:function(){return t}}}(wysihtml5),function(e){var t="IMG";e.commands.insertImage={exec:function(i,n,s){s="object"==typeof s?s:{src:s};var r,o,a,l=i.doc,c=this.state(i);if(c)return i.selection.setBefore(c),a=c.parentNode,a.removeChild(c),e.dom.removeEmptyTextNodes(a),"A"!==a.nodeName||a.firstChild||(i.selection.setAfter(a),a.parentNode.removeChild(a)),e.quirks.redraw(i.element),void 0;c=l.createElement(t);for(o in s)c[o]=s[o];i.selection.insertNode(c),e.browser.hasProblemsSettingCaretAfterImg()?(r=l.createTextNode(e.INVISIBLE_SPACE),i.selection.insertNode(r),i.selection.setAfter(r)):i.selection.setAfter(c)},state:function(i){var n,s,r,o=i.doc;return e.dom.hasElementWithTagName(o,t)?(n=i.selection.getSelectedNode())?n.nodeName===t?n:n.nodeType!==e.ELEMENT_NODE?!1:(s=i.selection.getText(),(s=e.lang.string(s).trim())?!1:(r=i.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName}),1!==r.length?!1:r[0])):!1:!1},value:function(e){var t=this.state(e);return t&&t.src}}}(wysihtml5),function(e){var t,i="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(t,n){t.commands.support(n)?(t.doc.execCommand(n,!1,null),e.browser.autoScrollsToCaret()||t.selection.scrollIntoView()):t.commands.exec("insertHTML",i)},state:function(){return!1},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.insertOrderedList={exec:function(t,i){var n,s,r=t.doc,o=t.selection.getSelectedNode(),a=e.dom.getParentElement(o,{nodeName:"OL"}),l=e.dom.getParentElement(o,{nodeName:"UL"}),c="_wysihtml5-temp-"+(new Date).getTime();return t.commands.support(i)?(r.execCommand(i,!1,null),void 0):(a?t.selection.executeAndRestoreSimple(function(){e.dom.resolveList(a)}):l?t.selection.executeAndRestoreSimple(function(){e.dom.renameElement(l,"ol")}):(t.commands.exec("formatBlock","div",c),s=r.querySelector("."+c),n=""===s.innerHTML||s.innerHTML===e.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){a=e.dom.convertToList(s,"ol")}),n&&t.selection.selectNode(a.querySelector("li"))),void 0)},state:function(t){var i=t.selection.getSelectedNode();return e.dom.getParentElement(i,{nodeName:"OL"})},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.insertUnorderedList={exec:function(t,i){var n,s,r=t.doc,o=t.selection.getSelectedNode(),a=e.dom.getParentElement(o,{nodeName:"UL"}),l=e.dom.getParentElement(o,{nodeName:"OL"}),c="_wysihtml5-temp-"+(new Date).getTime();return t.commands.support(i)?(r.execCommand(i,!1,null),void 0):(a?t.selection.executeAndRestoreSimple(function(){e.dom.resolveList(a)}):l?t.selection.executeAndRestoreSimple(function(){e.dom.renameElement(l,"ul")}):(t.commands.exec("formatBlock","div",c),s=r.querySelector("."+c),n=""===s.innerHTML||s.innerHTML===e.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){a=e.dom.convertToList(s,"ul")}),n&&t.selection.selectNode(a.querySelector("li"))),void 0)},state:function(t){var i=t.selection.getSelectedNode();return e.dom.getParentElement(i,{nodeName:"UL"})},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.italic={exec:function(t,i){return e.commands.formatInline.exec(t,i,"i")},state:function(t,i){return e.commands.formatInline.state(t,i,"i")},value:function(){return t}}}(wysihtml5),function(e){var t,i="wysiwyg-text-align-center",n=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyCenter={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,i,n)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,i,n)},value:function(){return t}}}(wysihtml5),function(e){var t,i="wysiwyg-text-align-left",n=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyLeft={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,i,n)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,i,n)},value:function(){return t}}}(wysihtml5),function(e){var t,i="wysiwyg-text-align-right",n=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyRight={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,i,n)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,i,n)},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.underline={exec:function(t,i){return e.commands.formatInline.exec(t,i,"u")},state:function(t,i){return e.commands.formatInline.state(t,i,"u")},value:function(){return t}}}(wysihtml5),function(e){function t(e){for(var t;t=e.querySelector("._wysihtml5-temp");)t.parentNode.removeChild(t)}var i=90,n=89,s=8,r=46,o=40,a='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",l='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",c=e.dom;e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var o,u=this,d=this.composer.sandbox.getDocument();if(c.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var t=e.keyCode,s=t===i&&!e.shiftKey,r=t===i&&e.shiftKey||t===n;s?(u.undo(),e.preventDefault()):r&&(u.redo(),e.preventDefault())}}),c.observe(this.element,"keydown",function(e){var t=e.keyCode;t!==o&&(o=t,(t===s||t===r)&&u.transact())}),e.browser.hasUndoInContextMenu()){var h,f,p=function(){t(d),clearInterval(h)};c.observe(this.element,"contextmenu",function(){p(),u.composer.selection.executeAndRestoreSimple(function(){u.element.lastChild&&u.composer.selection.setAfter(u.element.lastChild),d.execCommand("insertHTML",!1,a),d.execCommand("insertHTML",!1,l),d.execCommand("undo",!1,null)}),h=setInterval(function(){d.getElementById("_wysihtml5-redo")?(p(),u.redo()):d.getElementById("_wysihtml5-undo")||(p(),u.undo())},400),f||(f=!0,c.observe(document,"mousedown",p),c.observe(d,["mousedown","paste","cut","copy"],p))})}this.editor.observe("newword:composer",function(){u.transact()}).observe("beforecommand:composer",function(){u.transact()})},transact:function(){var e=this.history[this.position-1],t=this.composer.getValue();if(t!=e){var i=this.history.length=this.position;i>o&&(this.history.shift(),this.position--),this.position++,this.history.push(t)}},undo:function(){this.transact(),this.position<=1||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(e){this.composer.setValue(e),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,i){this.parent=e,this.element=t,this.config=i,this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.observe("beforeload",function(){e.parent.observe("change_view",function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,i=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,i){this.base(e,t,i),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=i.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t){var i=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return t&&(i=this.parent.parse(i)),i=e.lang.string(i).replace(e.INVISIBLE_SPACE).by("")},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.innerHTML=e},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=t.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var i=this.element.lastChild;t&&i&&("BR"===i.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var e=this.element.innerHTML,t="blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea";return""===e||e===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector(t)},_initSandbox:function(){var e=this;this.sandbox=new t.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var i=document.createElement("input");i.type="hidden",i.name="_wysihtml5_mode",i.value=1;var n=this.textarea.element;t.insert(this.iframe).after(n),t.insert(i).after(n)},_create:function(){var n=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new e.Selection(this.parent),this.commands=new e.Commands(this.parent),t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var s=this.config.name;s&&(t.addClass(this.element,s),t.addClass(this.iframe,s));var r="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");r&&t.simulatePlaceholder(this.parent,this,r),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){n.focus()},100),e.quirks.insertLineBreakOnReturn(this),i.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),i.clearsListsInContentEditableCorrectly()||e.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var n=this,s=i.canDisableAutoLinking(),r=i.doesAutoLinkingInContentEditable();if(s&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!r||r&&s)&&this.parent.observe("newword:composer",function(){n.selection.executeAndRestore(function(e,i){t.autoLink(i.parentNode)})});var o=this.sandbox.getDocument().getElementsByTagName("a"),a=t.autoLink.URL_REG_EXP,l=function(i){var n=e.lang.string(t.getTextContent(i)).trim();return"www."===n.substr(0,4)&&(n="http://"+n),n};t.observe(this.element,"keydown",function(e){if(o.length){var i,s=n.selection.getSelectedNode(e.target.ownerDocument),r=t.getParentElement(s,{nodeName:"A"},4);r&&(i=l(r),setTimeout(function(){var e=l(r);e!==i&&e.match(a)&&r.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){var n=["width","height"],s=n.length,r=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?i.supportsEvent("resizeend")&&t.observe(r,"resizeend",function(t){for(var i,o=t.target||t.srcElement,a=o.style,l=0;s>l;l++)i=n[l],a[i]&&(o.setAttribute(i,parseInt(a[i],10)),a[i]="");e.quirks.redraw(r)}):i.supportsEvent("resizestart")&&t.observe(r,"resizestart",function(e){e.preventDefault()})},_initUndoManager:function(){new e.UndoManager(this.parent)}})}(wysihtml5),function(e){var t=e.dom,i=document,n=window,s=i.createElement("div"),r=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],o=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],a=["width","height","top","left","right","bottom"],l=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],c=function(e){if(e.setActive)try{e.setActive()}catch(s){}else{var r=e.style,o=i.documentElement.scrollTop||i.body.scrollTop,a=i.documentElement.scrollLeft||i.body.scrollLeft,l={position:r.position,top:r.top,left:r.left,WebkitUserSelect:r.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(l).on(e),n.scrollTo&&n.scrollTo(a,o)}};e.views.Composer.prototype.style=function(){var u=this,d=i.querySelector(":focus"),h=this.textarea.element,f=h.hasAttribute("placeholder"),p=f&&h.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||s.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||s.cloneNode(!1),f&&h.removeAttribute("placeholder"),h===d&&h.blur(),t.copyStyles(o).from(h).to(this.iframe).andTo(this.blurStylesHost),t.copyStyles(r).from(h).to(this.element).andTo(this.blurStylesHost),t.insertCSS(l).into(this.element.ownerDocument),c(h),t.copyStyles(o).from(h).to(this.focusStylesHost),t.copyStyles(r).from(h).to(this.focusStylesHost);var m=e.lang.array(o).without(["display"]);if(d?d.focus():h.blur(),f&&h.setAttribute("placeholder",p),!e.browser.hasCurrentStyleProperty())var g=t.observe(n,"resize",function(){if(!t.contains(document.documentElement,u.iframe))return g.stop(),void 0;var e=t.getStyle("display").from(h),i=t.getStyle("display").from(u.iframe);h.style.display="",u.iframe.style.display="none",t.copyStyles(a).from(h).to(u.iframe).andTo(u.focusStylesHost).andTo(u.blurStylesHost),u.iframe.style.display=i,h.style.display=e});return this.parent.observe("focus:composer",function(){t.copyStyles(m).from(u.focusStylesHost).to(u.iframe),t.copyStyles(r).from(u.focusStylesHost).to(u.element)}),this.parent.observe("blur:composer",function(){t.copyStyles(m).from(u.blurStylesHost).to(u.iframe),t.copyStyles(r).from(u.blurStylesHost).to(u.element)}),this}}(wysihtml5),function(e){var t=e.dom,i=e.browser,n={66:"bold",73:"italic",85:"underline"};e.views.Composer.prototype.observe=function(){var s=this,r=this.getValue(),o=this.sandbox.getIframe(),a=this.element,l=i.supportsEventsInIframeCorrectly()?a:this.sandbox.getWindow(),c=i.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];t.observe(o,"DOMNodeRemoved",function(){clearInterval(u),s.parent.fire("destroy:composer")});var u=setInterval(function(){t.contains(document.documentElement,o)||(clearInterval(u),s.parent.fire("destroy:composer"))},250);t.observe(l,"focus",function(){s.parent.fire("focus").fire("focus:composer"),setTimeout(function(){r=s.getValue()},0)}),t.observe(l,"blur",function(){r!==s.getValue()&&s.parent.fire("change").fire("change:composer"),s.parent.fire("blur").fire("blur:composer")}),e.browser.isIos()&&t.observe(a,"blur",function(){var e=a.ownerDocument.createElement("input"),t=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.scrollLeft||document.body.scrollLeft;try{s.selection.insertNode(e)}catch(n){a.appendChild(e)}e.focus(),e.parentNode.removeChild(e),window.scrollTo(i,t)}),t.observe(a,"dragenter",function(){s.parent.fire("unset_placeholder")}),i.firesOnDropOnlyWhenOnDragOverIsCancelled()&&t.observe(a,["dragover","dragenter"],function(e){e.preventDefault()}),t.observe(a,c,function(e){var t,n=e.dataTransfer;console.log("PASTED",e),n&&i.supportsDataTransfer()&&(t=n.getData("text/html")||n.getData("text/plain")),t?(a.focus(),s.commands.exec("insertHTML",t),s.parent.fire("paste").fire("paste:composer"),e.stopPropagation(),e.preventDefault()):setTimeout(function(){s.parent.fire("paste").fire("paste:composer")},0)}),t.observe(a,"keyup",function(t){var i=t.keyCode;(i===e.SPACE_KEY||i===e.ENTER_KEY)&&s.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){s.parent.fire("newword:composer")},0)}),i.canSelectImagesInContentEditable()||t.observe(a,"mousedown",function(e){var t=e.target;"IMG"===t.nodeName&&(s.selection.selectNode(t),e.preventDefault())}),t.observe(a,"keydown",function(e){var t=e.keyCode,i=n[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&i&&(s.commands.exec(i),e.preventDefault())}),t.observe(a,"keydown",function(t){var i,n=s.selection.getSelectedNode(!0),r=t.keyCode;!n||"IMG"!==n.nodeName||r!==e.BACKSPACE_KEY&&r!==e.DELETE_KEY||(i=n.parentNode,i.removeChild(n),"A"!==i.nodeName||i.firstChild||i.parentNode.removeChild(i),setTimeout(function(){e.quirks.redraw(a)},0),t.preventDefault())});var d={IMG:"Image: ",A:"Link: "};t.observe(a,"mouseover",function(e){var t,i=e.target,n=i.nodeName;if("A"===n||"IMG"===n){var s=i.hasAttribute("title");s||(t=d[n]+(i.getAttribute("href")||i.getAttribute("src")),i.setAttribute("title",t))}})}}(wysihtml5),function(e){var t=400;e.views.Synchronizer=Base.extend({constructor:function(e,t,i){this.editor=e,this.textarea=t,this.composer=i,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue()).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue();t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var i,n=this,s=this.textarea.element.form,r=function(){i=setInterval(function(){n.fromComposerToTextarea()},t)},o=function(){clearInterval(i),i=null};r(),s&&(e.dom.observe(s,"submit",function(){n.sync(!0)}),e.dom.observe(s,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(e){"composer"!==e||i?"textarea"===e&&(n.fromComposerToTextarea(!0),o()):(n.fromTextareaToComposer(!0),r())}),this.editor.observe("destroy:composer",o)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,i){this.base(e,t,i),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,i=this.element.value,n=!i;return e&&n||i===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,i={focusin:"focus",focusout:"blur"},n=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.observe("beforeload",function(){wysihtml5.dom.observe(e,n,function(e){var n=i[e.type]||e.type;t.fire(n).fire(n+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(e){var t=e.dom,i="wysihtml5-command-dialog-opened",n="input, select, textarea",s="[data-wysihtml5-dialog-field]",r="data-wysihtml5-dialog-field";e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var s=this,r=function(e){var t=s._serialize();t==s.elementToChange?s.fire("edit",t):s.fire("save",t),s.hide(),e.preventDefault(),e.stopPropagation()};t.observe(s.link,"click",function(){t.hasClass(s.link,i)&&setTimeout(function(){s.hide()},0)}),t.observe(this.container,"keydown",function(t){var i=t.keyCode;i===e.ENTER_KEY&&r(t),i===e.ESCAPE_KEY&&s.hide()}),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",r),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){s.fire("cancel"),s.hide(),e.preventDefault(),e.stopPropagation()});for(var o=this.container.querySelectorAll(n),a=0,l=o.length,c=function(){clearInterval(s.interval)};l>a;a++)t.observe(o[a],"change",c);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(s),i=t.length,n=0;i>n;n++)e[t[n].getAttribute(r)]=t[n].value;return e},_interpolate:function(e){for(var t,i,n,o=document.querySelector(":focus"),a=this.container.querySelectorAll(s),l=a.length,c=0;l>c;c++)t=a[c],t!==o&&(e&&"hidden"===t.type||(i=t.getAttribute(r),n=this.elementToChange?this.elementToChange[i]||"":t.defaultValue,t.value=n))},show:function(e){var s=this,r=this.container.querySelector(n);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){s._interpolate(!0)},500)),t.addClass(this.link,i),this.container.style.display="",this.fire("show"),r&&!e)try{r.focus()}catch(o){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,i),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,i={position:"relative"},n={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},s={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},r={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(o,a){var l=document.createElement("input");if(!e.browser.supportsSpeechApiOn(l))return a.style.display="none",void 0;var c=document.createElement("div");e.lang.object(n).merge({width:a.offsetWidth+"px",height:a.offsetHeight+"px"}),t.insert(l).into(c),t.insert(c).into(a),t.setStyles(s).on(l),t.setAttributes(r).on(l),t.setStyles(n).on(c),t.setStyles(i).on(a);var u="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";t.observe(l,u,function(){o.execCommand("insertText",l.value),l.value=""}),t.observe(l,"click",function(e){t.hasClass(a,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}}(wysihtml5),function(e){var t="wysihtml5-command-disabled",i="wysihtml5-commands-disabled",n="wysihtml5-command-active",s="wysihtml5-action-active",r=e.dom;
e.toolbar.Toolbar=Base.extend({constructor:function(t,i){this.editor=t,this.container="string"==typeof i?document.getElementById(i):i,this.composer=t.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var n=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),s=n.length,r=0;s>r;r++)new e.toolbar.Speech(this,n[r])},_getLinks:function(t){for(var i,n,s,r,o,a=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),l=a.length,c=0,u=this[t+"Mapping"]={};l>c;c++)i=a[c],s=i.getAttribute("data-wysihtml5-"+t),r=i.getAttribute("data-wysihtml5-"+t+"-value"),n=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+s+"']"),o=this._getDialog(i,s),u[s+":"+r]={link:i,group:n,name:s,value:r,dialog:o,state:!1}},_getDialog:function(t,i){var n,s,r=this,o=this.container.querySelector("[data-wysihtml5-dialog='"+i+"']");return o&&(n=new e.toolbar.Dialog(t,o),n.observe("show",function(){s=r.composer.selection.getBookmark(),r.editor.fire("show:dialog",{command:i,dialogContainer:o,commandLink:t})}),n.observe("save",function(e){s&&r.composer.selection.setBookmark(s),r._execCommand(i,e),r.editor.fire("save:dialog",{command:i,dialogContainer:o,commandLink:t})}),n.observe("cancel",function(){r.editor.focus(!1),r.editor.fire("cancel:dialog",{command:i,dialogContainer:o,commandLink:t})})),n},execCommand:function(e,t){if(!this.commandsDisabled){var i=this.commandMapping[e+":"+t];i&&i.dialog&&!i.state?i.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;switch(e){case"change_view":t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")}},_observe:function(){for(var e=this,t=this.editor,n=this.container,s=this.commandLinks.concat(this.actionLinks),o=s.length,a=0;o>a;a++)r.setAttributes({href:"javascript:;",unselectable:"on"}).on(s[a]);r.delegate(n,"[data-wysihtml5-command]","mousedown",function(e){e.preventDefault()}),r.delegate(n,"[data-wysihtml5-command]","click",function(t){var i=this,n=i.getAttribute("data-wysihtml5-command"),s=i.getAttribute("data-wysihtml5-command-value");e.execCommand(n,s),t.preventDefault()}),r.delegate(n,"[data-wysihtml5-action]","click",function(t){var i=this.getAttribute("data-wysihtml5-action");e.execAction(i),t.preventDefault()}),t.observe("focus:composer",function(){e.bookmark=null,clearInterval(e.interval),e.interval=setInterval(function(){e._updateLinkStates()},500)}),t.observe("blur:composer",function(){clearInterval(e.interval)}),t.observe("destroy:composer",function(){clearInterval(e.interval)}),t.observe("change_view",function(t){setTimeout(function(){e.commandsDisabled="composer"!==t,e._updateLinkStates(),e.commandsDisabled?r.addClass(n,i):r.removeClass(n,i)},0)})},_updateLinkStates:function(){var i,o,a,l,c=(this.composer.element,this.commandMapping),u=this.actionMapping;for(i in c)l=c[i],this.commandsDisabled?(o=!1,r.removeClass(l.link,n),l.group&&r.removeClass(l.group,n),l.dialog&&l.dialog.hide()):(o=this.composer.commands.state(l.name,l.value),e.lang.object(o).isArray()&&(o=1===o.length?o[0]:!0),r.removeClass(l.link,t),l.group&&r.removeClass(l.group,t)),l.state!==o&&(l.state=o,o?(r.addClass(l.link,n),l.group&&r.addClass(l.group,n),l.dialog&&("object"==typeof o?l.dialog.show(o):l.dialog.hide())):(r.removeClass(l.link,n),l.group&&r.removeClass(l.group,n),l.dialog&&l.dialog.hide()));for(i in u)a=u[i],"change_view"===a.name&&(a.state=this.editor.currentView===this.editor.textarea,a.state?r.addClass(a.link,s):r.removeClass(a.link,s))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){var t,i={name:t,style:!0,toolbar:t,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:t,allowObjectResizing:!0,supportTouchDevices:!0};e.Editor=e.lang.Dispatcher.extend({constructor:function(t,n){if(this.textareaElement="string"==typeof t?document.getElementById(t):t,this.config=e.lang.object({}).merge(i).merge(n).get(),this.textarea=new e.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=e.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var s=this;return setTimeout(function(){s.fire("beforeload").fire("load")},0),void 0}e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(r){}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e){return this.currentView.getValue(e)},setValue:function(e,t){return e?(this.currentView.setValue(e,t),this):this.clear()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t){var i=this.config.parser(t,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof t&&e.quirks.redraw(t),i},_initParser:function(){this.observe("paste:composer",function(){var t=!0,i=this;i.composer.selection.executeAndRestore(function(){e.quirks.cleanPastedHTML(i.composer.element),i.parse(i.composer.element)},t)}),this.observe("paste:textarea",function(){var e,t=this.textarea.getValue();e=this.parse(t),this.textarea.setValue(e)})}})}(wysihtml5),!function(e,t){"use strict";var i={"font-styles":function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li class='dropdown'><a class='btn dropdown-toggle"+i+"' data-toggle='dropdown' href='#'>"+"<i class='icon-font'></i>&nbsp;<span class='current-font'>"+e.font_styles.normal+"</span>&nbsp;<b class='caret'></b>"+"</a>"+"<ul class='dropdown-menu'>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1'>"+e.font_styles.normal+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1'>"+e.font_styles.h1+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1'>"+e.font_styles.h2+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1'>"+e.font_styles.h3+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h4'>"+e.font_styles.h4+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h5'>"+e.font_styles.h5+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h6'>"+e.font_styles.h6+"</a></li>"+"</ul>"+"</li>"},emphasis:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li><div class='btn-group'><a class='btn"+i+"' data-wysihtml5-command='bold' title='CTRL+B' tabindex='-1'>"+e.emphasis.bold+"</a>"+"<a class='btn"+i+"' data-wysihtml5-command='italic' title='CTRL+I' tabindex='-1'>"+e.emphasis.italic+"</a>"+"<a class='btn"+i+"' data-wysihtml5-command='underline' title='CTRL+U' tabindex='-1'>"+e.emphasis.underline+"</a>"+"</div>"+"</li>"},lists:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li><div class='btn-group'><a class='btn"+i+"' data-wysihtml5-command='insertUnorderedList' title='"+e.lists.unordered+"' tabindex='-1'><i class='icon-list'></i></a>"+"<a class='btn"+i+"' data-wysihtml5-command='insertOrderedList' title='"+e.lists.ordered+"' tabindex='-1'><i class='icon-th-list'></i></a>"+"<a class='btn"+i+"' data-wysihtml5-command='Outdent' title='"+e.lists.outdent+"' tabindex='-1'><i class='icon-indent-right'></i></a>"+"<a class='btn"+i+"' data-wysihtml5-command='Indent' title='"+e.lists.indent+"' tabindex='-1'><i class='icon-indent-left'></i></a>"+"</div>"+"</li>"},link:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li><div class='bootstrap-wysihtml5-insert-link-modal modal hide fade'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>"+e.link.insert+"</h3>"+"</div>"+"<div class='modal-body'>"+"<input value='http://' class='bootstrap-wysihtml5-insert-link-url input-xlarge'>"+"<label class='checkbox'> <input type='checkbox' class='bootstrap-wysihtml5-insert-link-target' checked>"+e.link.target+"</label>"+"</div>"+"<div class='modal-footer'>"+"<a href='#' class='btn' data-dismiss='modal'>"+e.link.cancel+"</a>"+"<a href='#' class='btn btn-primary' data-dismiss='modal'>"+e.link.insert+"</a>"+"</div>"+"</div>"+"<a class='btn"+i+"' data-wysihtml5-command='createLink' title='"+e.link.insert+"' tabindex='-1'><i class='icon-share'></i></a>"+"</li>"},image:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li><div class='bootstrap-wysihtml5-insert-image-modal modal hide fade'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>"+e.image.insert+"</h3>"+"</div>"+"<div class='modal-body'>"+"<input value='http://' class='bootstrap-wysihtml5-insert-image-url input-xlarge'>"+"</div>"+"<div class='modal-footer'>"+"<a href='#' class='btn' data-dismiss='modal'>"+e.image.cancel+"</a>"+"<a href='#' class='btn btn-primary' data-dismiss='modal'>"+e.image.insert+"</a>"+"</div>"+"</div>"+"<a class='btn"+i+"' data-wysihtml5-command='insertImage' title='"+e.image.insert+"' tabindex='-1'><i class='icon-picture'></i></a>"+"</li>"},html:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li><div class='btn-group'><a class='btn"+i+"' data-wysihtml5-action='change_view' title='"+e.html.edit+"' tabindex='-1'><i class='icon-pencil'></i></a>"+"</div>"+"</li>"},color:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li class='dropdown'><a class='btn dropdown-toggle"+i+"' data-toggle='dropdown' href='#' tabindex='-1'>"+"<span class='current-color'>"+e.colours.black+"</span>&nbsp;<b class='caret'></b>"+"</a>"+"<ul class='dropdown-menu'>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black'>"+e.colours.black+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver'>"+e.colours.silver+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray'>"+e.colours.gray+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon'>"+e.colours.maroon+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red'>"+e.colours.red+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple'>"+e.colours.purple+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green'>"+e.colours.green+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive'>"+e.colours.olive+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy'>"+e.colours.navy+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue'>"+e.colours.blue+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange'>"+e.colours.orange+"</a></li>"+"</ul>"+"</li>"}},n=function(e,t,n){return i[e](t,n)},s=function(t,n){this.el=t;var s=n||o;for(var r in s.customTemplates)i[r]=s.customTemplates[r];this.toolbar=this.createToolbar(t,s),this.editor=this.createEditor(n),window.editor=this.editor,e("iframe.wysihtml5-sandbox").each(function(t,i){e(i.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){e("li.dropdown").removeClass("open")}})})};s.prototype={constructor:s,createEditor:function(i){i=i||{},i=e.extend(!0,{},i),i.toolbar=this.toolbar[0];var n=new t.Editor(this.el[0],i);if(i&&i.events)for(var s in i.events)n.on(s,i.events[s]);return n},createToolbar:function(t,i){var s=this,r=e("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),l=i.locale||o.locale||"en";for(var c in o){var u=!1;void 0!==i[c]?i[c]===!0&&(u=!0):u=o[c],u===!0&&(r.append(n(c,a[l],i)),"html"===c&&this.initHtml(r),"link"===c&&this.initInsertLink(r),"image"===c&&this.initInsertImage(r))}if(i.toolbar)for(c in i.toolbar)r.append(i.toolbar[c]);return r.find("a[data-wysihtml5-command='formatBlock']").click(function(t){var i=t.target||t.srcElement,n=e(i);s.toolbar.find(".current-font").text(n.html())}),r.find("a[data-wysihtml5-command='foreColor']").click(function(t){var i=t.target||t.srcElement,n=e(i);s.toolbar.find(".current-color").text(n.html())}),this.el.before(r),r},initHtml:function(e){var t="a[data-wysihtml5-action='change_view']";e.find(t).click(function(){e.find("a.btn").not(t).toggleClass("disabled")})},initInsertImage:function(t){var i,n=this,s=t.find(".bootstrap-wysihtml5-insert-image-modal"),r=s.find(".bootstrap-wysihtml5-insert-image-url"),o=s.find("a.btn-primary"),a=r.val(),l=function(){var e=r.val();r.val(a),n.editor.currentView.element.focus(),i&&(n.editor.composer.selection.setBookmark(i),i=null),n.editor.composer.commands.exec("insertImage",e)};r.keypress(function(e){13==e.which&&(l(),s.modal("hide"))}),o.click(l),s.on("shown",function(){r.focus()}),s.on("hide",function(){n.editor.currentView.element.focus()}),t.find("a[data-wysihtml5-command=insertImage]").click(function(){var t=e(this).hasClass("wysihtml5-command-active");return t?!0:(n.editor.currentView.element.focus(!1),i=n.editor.composer.selection.getBookmark(),s.appendTo("body").modal("show"),s.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1)})},initInsertLink:function(t){var i,n=this,s=t.find(".bootstrap-wysihtml5-insert-link-modal"),r=s.find(".bootstrap-wysihtml5-insert-link-url"),o=s.find(".bootstrap-wysihtml5-insert-link-target"),a=s.find("a.btn-primary"),l=r.val(),c=function(){var e=r.val();r.val(l),n.editor.currentView.element.focus(),i&&(n.editor.composer.selection.setBookmark(i),i=null);var t=o.prop("checked");n.editor.composer.commands.exec("createLink",{href:e,target:t?"_blank":"_self",rel:t?"nofollow":""})};r.keypress(function(e){13==e.which&&(c(),s.modal("hide"))}),a.click(c),s.on("shown",function(){r.focus()}),s.on("hide",function(){n.editor.currentView.element.focus()}),t.find("a[data-wysihtml5-command=createLink]").click(function(){var t=e(this).hasClass("wysihtml5-command-active");return t?!0:(n.editor.currentView.element.focus(!1),i=n.editor.composer.selection.getBookmark(),s.appendTo("body").modal("show"),s.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1)})}};var r={resetDefaults:function(){e.fn.wysihtml5.defaultOptions=e.extend(!0,{},e.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(t){return this.each(function(){var i=e(this);i.data("wysihtml5",new s(i,t))})},shallowExtend:function(t){var i=e.extend({},e.fn.wysihtml5.defaultOptions,t||{},e(this).data()),n=this;return r.bypassDefaults.apply(n,[i])},deepExtend:function(t){var i=e.extend(!0,{},e.fn.wysihtml5.defaultOptions,t||{}),n=this;return r.bypassDefaults.apply(n,[i])},init:function(e){var t=this;return r.shallowExtend.apply(t,[e])}};e.fn.wysihtml5=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.wysihtml5"),void 0):r.init.apply(this,arguments)},e.fn.wysihtml5.Constructor=s;var o=e.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url",target:"alt",rel:"alt"}},span:1,div:1,code:1,pre:1}},stylesheets:["/assets/bootstrap-wysihtml5/wysiwyg-color.css"],locale:"en"};"undefined"==typeof e.fn.wysihtml5.defaultOptionsCache&&(e.fn.wysihtml5.defaultOptionsCache=e.extend(!0,{},e.fn.wysihtml5.defaultOptions));var a=e.fn.wysihtml5.locale={en:{font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}}(window.jQuery,window.wysihtml5),function(e){var t,i=this,n=i.document,s=e(n),r=e(i),o=Array.prototype,a=1.27,l=!0,c=3e4,u=!1,d=navigator.userAgent.toLowerCase(),h=i.location.hash.replace(/#\//,""),f=function(){},p=function(){return!1},m=function(){var e=3,i=n.createElement("div"),s=i.getElementsByTagName("i");do i.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->";while(s[0]);return e>4?e:t}(),g=function(){return{html:n.documentElement,body:n.body,head:n.getElementsByTagName("head")[0],title:n.title}},v="data ready thumbnail loadstart loadfinish image play pause progress fullscreen_enter fullscreen_exit idle_enter idle_exit rescale lightbox_open lightbox_close lightbox_image",y=function(){var t=[];return e.each(v.split(" "),function(e,i){t.push(i),/_/.test(i)&&t.push(i.replace(/_/g,""))}),t}(),b=function(t){var i;return"object"!=typeof t?t:(e.each(t,function(n,s){/^[a-z]+_/.test(n)&&(i="",e.each(n.split("_"),function(e,t){i+=e>0?t.substr(0,1).toUpperCase()+t.substr(1):t}),t[i]=s,delete t[n])}),t)},_=function(t){return e.inArray(t,y)>-1?Galleria[t.toUpperCase()]:t},w={youtube:{reg:/https?:\/\/(?:[a-zA_Z]{2,3}.)?(?:youtube\.com\/watch\?)((?:[\w\d\-\_\=]+&amp;(?:amp;)?)*v(?:&lt;[A-Z]+&gt;)?=([0-9a-zA-Z\-\_]+))/i,embed:function(e){return"http://www.youtube.com/embed/"+e},getThumb:function(t,i,n){n=n||f,e.getJSON("http://gdata.youtube.com/feeds/api/videos/"+t+"?v=2&alt=json-in-script&callback=?",function(e){try{i(e.entry.media$group.media$thumbnail[0].url)}catch(t){n()}}).error(n)}},vimeo:{reg:/https?:\/\/(?:www\.)?(vimeo\.com)\/(?:hd#)?([0-9]+)/i,embed:function(e){return"http://player.vimeo.com/video/"+e},getThumb:function(t,i,n){n=n||f,e.getJSON("http://vimeo.com/api/v2/video/"+t+".json?callback=?",function(e){try{i(e[0].thumbnail_medium)}catch(t){n()}}).error(n)}},dailymotion:{reg:/https?:\/\/(?:www\.)?(dailymotion\.com)\/video\/([^_]+)/,embed:function(e){return"http://www.dailymotion.com/embed/video/"+e},getThumb:function(t,i,n){n=n||f,e.getJSON("https://api.dailymotion.com/video/"+t+"?fields=thumbnail_medium_url&callback=?",function(e){try{i(e.thumbnail_medium_url)}catch(t){n()}}).error(n)}}},x=function(e){var t;for(var i in w)if(t=e&&e.match(w[i].reg),t&&t.length)return{id:t[2],provider:i};return!1},C={trunk:{},add:function(e,t,n,s){if(e=e||(new Date).getTime(),s=s||!1,this.clear(e),s){var r=t;t=function(){r(),C.add(e,t,n)}}this.trunk[e]=i.setTimeout(t,n)},clear:function(e){var t,n=function(e){i.clearTimeout(this.trunk[e]),delete this.trunk[e]};if(e&&e in this.trunk)n.call(C,e);else if("undefined"==typeof e)for(t in this.trunk)this.trunk.hasOwnProperty(t)&&n.call(C,t)}},k=[],S=[],T=!1,D=!1,$=[],E=function(t){Galleria.theme=t,e.each($,function(e,t){t._initialized||t._init.call(t)})},I=function(){return{array:function(e){return o.slice.call(e,0)},create:function(e,t){t=t||"div";var i=n.createElement(t);return i.className=e,i},getScriptPath:function(t){t=t||e("script:last").attr("src");var i=t.split("/");return 1==i.length?"":(i.pop(),i.join("/")+"/")},animate:function(){var t,s,r,o,a,l,c,u=function(e){var t,n="transition WebkitTransition MozTransition OTransition".split(" ");if(i.opera)return!1;for(t=0;n[t];t++)if("undefined"!=typeof e[n[t]])return n[t];return!1}((n.body||n.documentElement).style),d={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[u],h={_default:[.25,.1,.25,1],galleria:[.645,.045,.355,1],galleriaIn:[.55,.085,.68,.53],galleriaOut:[.25,.46,.45,.94],ease:[.25,0,.25,1],linear:[.25,.25,.75,.75],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},p=function(t,i,n){var s={};n=n||"transition",e.each("webkit moz ms o".split(" "),function(){s["-"+this+"-"+n]=i}),t.css(s)},m=function(e){p(e,"none","transition"),Galleria.WEBKIT&&Galleria.TOUCH&&(p(e,"translate3d(0,0,0)","transform"),e.data("revert")&&(e.css(e.data("revert")),e.data("revert",null)))};return function(n,g,v){return v=e.extend({duration:400,complete:f,stop:!1},v),n=e(n),v.duration?u?(v.stop&&(n.unbind(d),m(n)),t=!1,e.each(g,function(e,i){c=n.css(e),I.parseValue(c)!=I.parseValue(i)&&(t=!0),n.css(e,c)}),t?(s=[],r=v.easing in h?h[v.easing]:h._default,o=" "+v.duration+"ms"+" cubic-bezier("+r.join(",")+")",i.setTimeout(function(t,i,n,r){return function(){t.one(i,function(e){return function(){m(e),v.complete.call(e[0])}}(t)),Galleria.WEBKIT&&Galleria.TOUCH&&(a={},l=[0,0,0],e.each(["left","top"],function(e,i){i in n&&(l[e]=I.parseValue(n[i])-I.parseValue(t.css(i))+"px",a[i]=n[i],delete n[i])}),(l[0]||l[1])&&(t.data("revert",a),s.push("-webkit-transform"+r),p(t,"translate3d("+l.join(",")+")","transform"))),e.each(n,function(e){s.push(e+r)}),p(t,s.join(",")),t.css(n)}}(n,d,g,o),2),void 0):(i.setTimeout(function(){v.complete.call(n[0])},v.duration),void 0)):(n.animate(g,v),void 0):(n.css(g),v.complete.call(n[0]),void 0)}}(),removeAlpha:function(e){if(9>m&&e){var t=e.style,i=e.currentStyle,n=i&&i.filter||t.filter||"";/alpha/.test(n)&&(t.filter=n.replace(/alpha\([^)]*\)/i,""))}},forceStyles:function(t,i){t=e(t),t.attr("style")&&t.data("styles",t.attr("style")).removeAttr("style"),t.css(i)},revertStyles:function(){e.each(I.array(arguments),function(t,i){i=e(i),i.removeAttr("style"),i.attr("style",""),i.data("styles")&&i.attr("style",i.data("styles")).data("styles",null)})},moveOut:function(e){I.forceStyles(e,{position:"absolute",left:-1e4})},moveIn:function(){I.revertStyles.apply(I,I.array(arguments))},elem:function(t){return t instanceof e?{$:t,dom:t[0]}:{$:e(t),dom:t}},hide:function(e,t,i){i=i||f;var n=I.elem(e),s=n.$;e=n.dom,s.data("opacity")||s.data("opacity",s.css("opacity"));var r={opacity:0};if(t){var o=9>m&&e?function(){I.removeAlpha(e),e.style.visibility="hidden",i.call(e)}:i;I.animate(e,r,{duration:t,complete:o,stop:!0})}else 9>m&&e?(I.removeAlpha(e),e.style.visibility="hidden"):s.css(r)},show:function(e,t,i){i=i||f;var n=I.elem(e),s=n.$;e=n.dom;var r=parseFloat(s.data("opacity"))||1,o={opacity:r};if(t){9>m&&(s.css("opacity",0),e.style.visibility="visible");var a=9>m&&e?function(){1==o.opacity&&I.removeAlpha(e),i.call(e)}:i;I.animate(e,o,{duration:t,complete:a,stop:!0})}else 9>m&&1==o.opacity&&e?(I.removeAlpha(e),e.style.visibility="visible"):s.css(o)},optimizeTouch:function(){var t,i,n,s,r={},o=function(t){t.preventDefault(),r=e.extend({},t,!0)},a=function(){this.evt=r},l=function(){this.handler.call(t,this.evt)};return function(r){e(r).bind("touchend",function(r){for(t=r.target,s=!0;t.parentNode&&t!=r.currentTarget&&s;)i=e(t).data("events"),n=e(t).data("fakes"),i&&"click"in i?(s=!1,r.preventDefault(),e(t).click(o).click(),i.click.pop(),e.each(i.click,a),e(t).data("fakes",i.click),delete i.click):n&&(s=!1,r.preventDefault(),e.each(n,l)),t=t.parentNode})}}(),addTimer:function(){return C.add.apply(C,I.array(arguments)),this},clearTimer:function(){return C.clear.apply(C,I.array(arguments)),this},wait:function(t){t=e.extend({until:p,success:f,error:function(){Galleria.raise("Could not complete wait function.")},timeout:3e3},t);var n,s,r=I.timestamp(),o=function(){return s=I.timestamp(),n=s-r,t.until(n)?(t.success(),!1):"number"==typeof t.timeout&&s>=r+t.timeout?(t.error(),!1):(i.setTimeout(o,10),void 0)};i.setTimeout(o,10)},toggleQuality:function(e,t){7!==m&&8!==m||!e||"IMG"!=e.nodeName.toUpperCase()||("undefined"==typeof t&&(t="nearest-neighbor"===e.style.msInterpolationMode),e.style.msInterpolationMode=t?"bicubic":"nearest-neighbor")},insertStyleTag:function(e){var t=n.createElement("style");if(g().head.appendChild(t),t.styleSheet)t.styleSheet.cssText=e;else{var i=n.createTextNode(e);t.appendChild(i)}},loadScript:function(t,i){var n=!1,s=e("<script>").attr({src:t,async:!0}).get(0);s.onload=s.onreadystatechange=function(){!n&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&(n=!0,s.onload=s.onreadystatechange=null,"function"==typeof i&&i.call(this,this))},g().head.appendChild(s)},parseValue:function(e){if("number"==typeof e)return e;if("string"==typeof e){var t=e.match(/\-?\d|\./g);return t&&t.constructor===Array?1*t.join(""):0}return 0},timestamp:function(){return(new Date).getTime()},loadCSS:function(s,r,o){var a,l,c=!1,u=function(){var e=new Image;e.onload=e.onerror=function(){e=null,c=!0},e.src=s};return e("link[rel=stylesheet]").each(function(){return new RegExp(s).test(this.href)?(a=this,!1):void 0}),"function"==typeof r&&(o=r,r=t),o=o||f,a?(o.call(a,a),a):(l=n.styleSheets.length,e("#"+r).length?(e("#"+r).attr("href",s),l--,c=!0):(a=e("<link>").attr({rel:"stylesheet",href:s,id:r}).get(0),i.setTimeout(function(){var t=e('link[rel="stylesheet"], style');if(t.length?t.get(0).parentNode.insertBefore(a,t[0]):g().head.appendChild(a),m){if(l>=31)return Galleria.raise("You have reached the browser stylesheet limit (31)",!0),void 0;a.onreadystatechange=function(){!c&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&(c=!0)}}else{var r=n.createElement("a"),o=i.location;r.href=s,/file/.test(o.protocol)||o.hostname!=r.hostname||o.port!=r.port||o.protocol!=r.protocol?u():e.ajax({url:s,success:function(){c=!0},error:u})}},10)),"function"==typeof o&&I.wait({until:function(){return c&&n.styleSheets.length>l},success:function(){i.setTimeout(function(){o.call(a,a)},100)},error:function(){Galleria.raise("Theme CSS could not load",!0)},timeout:1e4}),a)}}}(),N=function(){var t=function(t,i,n,s){var r=this.getOptions("easing"),o=this.getStageWidth(),a={left:o*(t.rewind?-1:1)},l={left:0};n?(a.opacity=0,l.opacity=1):a.opacity=1,e(t.next).css(a),I.animate(t.next,l,{duration:t.speed,complete:function(e){return function(){i(),e.css({left:0})}}(e(t.next).add(t.prev)),queue:!1,easing:r}),s&&(t.rewind=!t.rewind),t.prev&&(a={left:0},l={left:o*(t.rewind?1:-1)},n&&(a.opacity=1,l.opacity=0),e(t.prev).css(a),I.animate(t.prev,l,{duration:t.speed,queue:!1,easing:r,complete:function(){e(this).css("opacity",0)}}))};return{fade:function(t,i){e(t.next).css({opacity:0,left:0}).show(),I.animate(t.next,{opacity:1},{duration:t.speed,complete:i}),t.prev&&(e(t.prev).css("opacity",1).show(),I.animate(t.prev,{opacity:0},{duration:t.speed}))},flash:function(t,i){e(t.next).css({opacity:0,left:0}),t.prev?I.animate(t.prev,{opacity:0},{duration:t.speed/2,complete:function(){I.animate(t.next,{opacity:1},{duration:t.speed,complete:i})}}):I.animate(t.next,{opacity:1},{duration:t.speed,complete:i})},pulse:function(t,i){t.prev&&e(t.prev).hide(),e(t.next).css({opacity:0,left:0}).show(),I.animate(t.next,{opacity:1},{duration:t.speed,complete:i})},slide:function(){t.apply(this,I.array(arguments))},fadeslide:function(){t.apply(this,I.array(arguments).concat([!0]))},doorslide:function(){t.apply(this,I.array(arguments).concat([!1,!0]))}}}();Galleria=function(){var o=this;this._options={},this._playing=!1,this._playtime=5e3,this._active=null,this._queue={length:0},this._data=[],this._dom={},this._thumbnails=[],this._layers=[],this._initialized=!1,this._firstrun=!1,this._stageWidth=0,this._stageHeight=0,this._target=t,this._id=parseInt(1e4*Math.random(),10);var a="container stage images image-nav image-nav-left image-nav-right info info-text info-title info-description thumbnails thumbnails-list thumbnails-container thumb-nav-left thumb-nav-right loader counter tooltip",l="current total";e.each(a.split(" "),function(e,t){o._dom[t]=I.create("galleria-"+t)}),e.each(l.split(" "),function(e,t){o._dom[t]=I.create("galleria-"+t,"span")});var c=this._keyboard={keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39,RETURN:13,ESCAPE:27,BACKSPACE:8,SPACE:32},map:{},bound:!1,press:function(e){var t=e.keyCode||e.which;t in c.map&&"function"==typeof c.map[t]&&c.map[t].call(o,e)},attach:function(e){var t,i;for(t in e)e.hasOwnProperty(t)&&(i=t.toUpperCase(),i in c.keys?c.map[c.keys[i]]=e[t]:c.map[i]=e[t]);c.bound||(c.bound=!0,s.bind("keydown",c.press))},detach:function(){c.bound=!1,c.map={},s.unbind("keydown",c.press)}},u=this._controls={0:t,1:t,active:0,swap:function(){u.active=u.active?0:1},getActive:function(){return u[u.active]},getNext:function(){return u[1-u.active]}},d=this._carousel={next:o.$("thumb-nav-right"),prev:o.$("thumb-nav-left"),width:0,current:0,max:0,hooks:[],update:function(){var t=0,i=0,n=[0];e.each(o._thumbnails,function(s,r){r.ready&&(t+=r.outerWidth||e(r.container).outerWidth(!0),n[s+1]=t,i=Math.max(i,r.outerHeight||e(r.container).outerHeight(!0)))}),o.$("thumbnails").css({width:t,height:i}),d.max=t,d.hooks=n,d.width=o.$("thumbnails-list").width(),d.setClasses(),o.$("thumbnails-container").toggleClass("galleria-carousel",t>d.width),d.width=o.$("thumbnails-list").width()},bindControls:function(){var e;d.next.bind("click",function(t){if(t.preventDefault(),"auto"===o._options.carouselSteps){for(e=d.current;e<d.hooks.length;e++)if(d.hooks[e]-d.hooks[d.current]>d.width){d.set(e-2);break}}else d.set(d.current+o._options.carouselSteps)}),d.prev.bind("click",function(t){if(t.preventDefault(),"auto"===o._options.carouselSteps)for(e=d.current;e>=0;e--){if(d.hooks[d.current]-d.hooks[e]>d.width){d.set(e+2);break}if(0===e){d.set(0);break}}else d.set(d.current-o._options.carouselSteps)})},set:function(e){for(e=Math.max(e,0);d.hooks[e-1]+d.width>=d.max&&e>=0;)e--;d.current=e,d.animate()},getLast:function(e){return(e||d.current)-1},follow:function(e){if(0===e||e===d.hooks.length-2)return d.set(e),void 0;for(var t=d.current;d.hooks[t]-d.hooks[d.current]<d.width&&t<=d.hooks.length;)t++;e-1<d.current?d.set(e-1):e+2>t&&d.set(e-t+d.current+2)},setClasses:function(){d.prev.toggleClass("disabled",!d.current),d.next.toggleClass("disabled",d.hooks[d.current]+d.width>=d.max)},animate:function(){d.setClasses();var e=-1*d.hooks[d.current];isNaN(e)||I.animate(o.get("thumbnails"),{left:e},{duration:o._options.carouselSpeed,easing:o._options.easing,queue:!1})}},h=this._tooltip={initialized:!1,open:!1,timer:"tooltip"+o._id,swapTimer:"swap"+o._id,init:function(){h.initialized=!0;var e=".galleria-tooltip{padding:3px 8px;max-width:50%;background:#ffe;color:#000;z-index:3;position:absolute;font-size:11px;line-height:1.3opacity:0;box-shadow:0 0 2px rgba(0,0,0,.4);-moz-box-shadow:0 0 2px rgba(0,0,0,.4);-webkit-box-shadow:0 0 2px rgba(0,0,0,.4);}";I.insertStyleTag(e),o.$("tooltip").css("opacity",.8),I.hide(o.get("tooltip"))
},move:function(e){var t=o.getMousePosition(e).x,i=o.getMousePosition(e).y,n=o.$("tooltip"),s=t,r=i,a=n.outerHeight(!0)+1,l=n.outerWidth(!0),c=a+15,u=o.$("container").width()-l-2,d=o.$("container").height()-a-2;!isNaN(s)&&!isNaN(r)&&(s+=10,r-=30,s=Math.max(0,Math.min(u,s)),r=Math.max(0,Math.min(d,r)),c>i&&(r=c),n.css({left:s,top:r}))},bind:function(t,i){if(!Galleria.TOUCH){h.initialized||h.init();var n=function(t,i){h.define(t,i),e(t).hover(function(){I.clearTimer(h.swapTimer),o.$("container").unbind("mousemove",h.move).bind("mousemove",h.move).trigger("mousemove"),h.show(t),I.addTimer(h.timer,function(){o.$("tooltip").stop().show().animate({opacity:1}),h.open=!0},h.open?0:500)},function(){o.$("container").unbind("mousemove",h.move),I.clearTimer(h.timer),o.$("tooltip").stop().animate({opacity:0},200,function(){o.$("tooltip").hide(),I.addTimer(h.swapTimer,function(){h.open=!1},1e3)})}).click(function(){e(this).trigger("mouseout")})};"string"==typeof i?n(t in o._dom?o.get(t):t,i):e.each(t,function(e,t){n(o.get(e),t)})}},show:function(t){t=e(t in o._dom?o.get(t):t);var n=t.data("tt"),s=function(e){i.setTimeout(function(e){return function(){h.move(e)}}(e),10),t.unbind("mouseup",s)};n="function"==typeof n?n():n,n&&(o.$("tooltip").html(n.replace(/\s/,"&nbsp;")),t.bind("mouseup",s))},define:function(t,i){if("function"!=typeof i){var n=i;i=function(){return n}}t=e(t in o._dom?o.get(t):t).data("tt",i),h.show(t)}},p=this._fullscreen={scrolled:0,crop:t,transition:t,active:!1,keymap:o._keyboard.map,os:{callback:f,support:function(){var e=g().html;return e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen}(),enter:function(e){p.os.callback=e||f;var t=g().html;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()},exit:function(e){p.os.callback=e||f,n.exitFullscreen?n.exitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitCancelFullScreen&&n.webkitCancelFullScreen()},listen:function(){if(p.os.support){var e=function(){n.fullscreen||n.mozFullScreen||n.webkitIsFullScreen?p._enter(p.os.callback):p._exit(p.os.callback)};n.addEventListener("fullscreenchange",e,!1),n.addEventListener("mozfullscreenchange",e,!1),n.addEventListener("webkitfullscreenchange",e,!1)}}},enter:function(e){o._options.trueFullscreen&&p.os.support?p.os.enter(e):p._enter(e)},_enter:function(i){p.active=!0,I.hide(o.getActiveImage()),o.$("container").addClass("fullscreen"),p.scrolled=r.scrollTop(),I.forceStyles(o.get("container"),{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1e4});var n={height:"100%",overflow:"hidden",margin:0,padding:0},s=o.getData(),a=o._options;if(I.forceStyles(g().html,n),I.forceStyles(g().body,n),p.keymap=e.extend({},o._keyboard.map),o.attachKeyboard({escape:o.exitFullscreen,right:o.next,left:o.prev}),p.crop=a.imageCrop,a.fullscreenCrop!=t&&(a.imageCrop=a.fullscreenCrop),s&&s.big&&s.image!==s.big){var l=new Galleria.Picture,c=l.isCached(s.big),u=o.getIndex(),d=o._thumbnails[u];o.trigger({type:Galleria.LOADSTART,cached:c,rewind:!1,index:u,imageTarget:o.getActiveImage(),thumbTarget:d,galleriaData:s}),l.load(s.big,function(t){o._scaleImage(t,{complete:function(t){o.trigger({type:Galleria.LOADFINISH,cached:c,index:u,rewind:!1,imageTarget:t.image,thumbTarget:d});var i=o._controls.getActive().image;i&&e(i).width(t.image.width).height(t.image.height).attr("style",e(t.image).attr("style")).attr("src",t.image.src)}})})}o.rescale(function(){I.addTimer(!1,function(){I.show(o.getActiveImage()),"function"==typeof i&&i.call(o)},100),o.trigger(Galleria.FULLSCREEN_ENTER)}),r.resize(function(){p.scale()})},scale:function(){o.rescale()},exit:function(e){o._options.trueFullscreen&&p.os.support?p.os.exit(e):p._exit(e)},_exit:function(e){p.active=!1,I.hide(o.getActiveImage()),o.$("container").removeClass("fullscreen"),I.revertStyles(o.get("container"),g().html,g().body),i.scrollTo(0,p.scrolled),o.detachKeyboard(),o.attachKeyboard(p.keymap),o._options.imageCrop=p.crop;var t=o.getData().big,n=o._controls.getActive().image;!o.getData().iframe&&n&&t&&t==n.src&&i.setTimeout(function(e){return function(){n.src=e}}(o.getData().image),1),o.rescale(function(){I.addTimer(!1,function(){I.show(o.getActiveImage()),"function"==typeof e&&e.call(o),r.trigger("resize")},50),o.trigger(Galleria.FULLSCREEN_EXIT)}),r.unbind("resize",p.scale)}};p.os.listen();var v=this._idle={timer:"idle"+o._id,trunk:[],bound:!1,add:function(t,i){if(t){v.bound||v.addEvent(),t=e(t);var n,s={};for(n in i)i.hasOwnProperty(n)&&(s[n]=t.css(n));t.data("idle",{from:s,to:i,complete:!0,busy:!1}),v.addTimer(),v.trunk.push(t)}},remove:function(t){t=jQuery(t),e.each(v.trunk,function(e,i){i&&i.length&&!i.not(t).length&&(o._idle.show(t),o._idle.trunk.splice(e,1))}),v.trunk.length||(v.removeEvent(),I.clearTimer(v.timer))},addEvent:function(){v.bound=!0,o.$("container").bind("mousemove click",v.showAll)},removeEvent:function(){v.bound=!1,o.$("container").unbind("mousemove click",v.showAll)},addTimer:function(){I.addTimer(v.timer,function(){v.hide()},o._options.idleTime)},hide:function(){o._options.idleMode&&o.getIndex()!==!1&&!o.getData().iframe&&(o.trigger(Galleria.IDLE_ENTER),e.each(v.trunk,function(e,t){var i=t.data("idle");i&&(t.data("idle").complete=!1,I.animate(t,i.to,{duration:o._options.idleSpeed}))}))},showAll:function(){I.clearTimer(v.timer),e.each(v.trunk,function(e,t){v.show(t)})},show:function(t){var i=t.data("idle");!i.busy&&!i.complete&&(i.busy=!0,o.trigger(Galleria.IDLE_EXIT),I.clearTimer(v.timer),I.animate(t,i.from,{duration:o._options.idleSpeed/2,complete:function(){e(this).data("idle").busy=!1,e(this).data("idle").complete=!0}})),v.addTimer()}},y=this._lightbox={width:0,height:0,initialized:!1,active:null,image:null,elems:{},keymap:!1,init:function(){if(o.trigger(Galleria.LIGHTBOX_OPEN),!y.initialized){y.initialized=!0;var t="overlay box content shadow title info close prevholder prev nextholder next counter image",i={},n=o._options,s="",r="position:absolute;",a="lightbox-",l={overlay:"position:fixed;display:none;opacity:"+n.overlayOpacity+";filter:alpha(opacity="+100*n.overlayOpacity+");top:0;left:0;width:100%;height:100%;background:"+n.overlayBackground+";z-index:99990",box:"position:fixed;display:none;width:400px;height:400px;top:50%;left:50%;margin-top:-200px;margin-left:-200px;z-index:99991",shadow:r+"background:#000;width:100%;height:100%;",content:r+"background-color:#fff;top:10px;left:10px;right:10px;bottom:10px;overflow:hidden",info:r+"bottom:10px;left:10px;right:10px;color:#444;font:11px/13px arial,sans-serif;height:13px",close:r+"top:10px;right:10px;height:20px;width:20px;background:#fff;text-align:center;cursor:pointer;color:#444;font:16px/22px arial,sans-serif;z-index:99999",image:r+"top:10px;left:10px;right:10px;bottom:30px;overflow:hidden;display:block;",prevholder:r+"width:50%;top:0;bottom:40px;cursor:pointer;",nextholder:r+"width:50%;top:0;bottom:40px;right:-1px;cursor:pointer;",prev:r+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;left:20px;display:none;text-align:center;color:#000;font:bold 16px/36px arial,sans-serif",next:r+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;right:20px;left:auto;display:none;font:bold 16px/36px arial,sans-serif;text-align:center;color:#000",title:"float:left",counter:"float:right;margin-left:8px;"},c=function(t){return t.hover(function(){e(this).css("color","#bbb")},function(){e(this).css("color","#444")})},u={};m&&m>7&&(l.nextholder+="background:#000;filter:alpha(opacity=0);",l.prevholder+="background:#000;filter:alpha(opacity=0);"),e.each(l,function(e,t){s+=".galleria-"+a+e+"{"+t+"}"}),s+=".galleria-"+a+"box.iframe .galleria-"+a+"prevholder,"+".galleria-"+a+"box.iframe .galleria-"+a+"nextholder{"+"width:100px;height:100px;top:50%;margin-top:-70px}",I.insertStyleTag(s),e.each(t.split(" "),function(e,t){o.addElement("lightbox-"+t),i[t]=y.elems[t]=o.get("lightbox-"+t)}),y.image=new Galleria.Picture,e.each({box:"shadow content close prevholder nextholder",info:"title counter",content:"info image",prevholder:"prev",nextholder:"next"},function(t,i){var n=[];e.each(i.split(" "),function(e,t){n.push(a+t)}),u[a+t]=n}),o.append(u),e(i.image).append(y.image.container),e(g().body).append(i.overlay,i.box),I.optimizeTouch(i.box),c(e(i.close).bind("click",y.hide).html("&#215;")),e.each(["Prev","Next"],function(t,n){var s=e(i[n.toLowerCase()]).html(/v/.test(n)?"&#8249;&nbsp;":"&nbsp;&#8250;"),r=e(i[n.toLowerCase()+"holder"]);return r.bind("click",function(){y["show"+n]()}),8>m||Galleria.TOUCH?(s.show(),void 0):(r.hover(function(){s.show()},function(){s.stop().fadeOut(200)}),void 0)}),e(i.overlay).bind("click",y.hide),Galleria.IPAD&&(o._options.lightboxTransitionSpeed=0)}},rescale:function(t){var i=Math.min(r.width()-40,y.width),n=Math.min(r.height()-60,y.height),s=Math.min(i/y.width,n/y.height),a=Math.round(y.width*s)+40,l=Math.round(y.height*s)+60,c={width:a,height:l,"margin-top":-1*Math.ceil(l/2),"margin-left":-1*Math.ceil(a/2)};t?e(y.elems.box).css(c):e(y.elems.box).animate(c,{duration:o._options.lightboxTransitionSpeed,easing:o._options.easing,complete:function(){var t=y.image,i=o._options.lightboxFadeSpeed;o.trigger({type:Galleria.LIGHTBOX_IMAGE,imageTarget:t.image}),e(t.container).show(),e(t.image).animate({opacity:1},i),I.show(y.elems.info,i)}})},hide:function(){y.image.image=null,r.unbind("resize",y.rescale),e(y.elems.box).hide(),I.hide(y.elems.info),o.detachKeyboard(),o.attachKeyboard(y.keymap),y.keymap=!1,I.hide(y.elems.overlay,200,function(){e(this).hide().css("opacity",o._options.overlayOpacity),o.trigger(Galleria.LIGHTBOX_CLOSE)})},showNext:function(){y.show(o.getNext(y.active))},showPrev:function(){y.show(o.getPrev(y.active))},show:function(t){y.active=t="number"==typeof t?t:o.getIndex()||0,y.initialized||y.init(),y.keymap||(y.keymap=e.extend({},o._keyboard.map),o.attachKeyboard({escape:y.hide,right:y.showNext,left:y.showPrev})),r.unbind("resize",y.rescale);var n,s,a,l=o.getData(t),c=o.getDataLength(),u=o.getNext(t);I.hide(y.elems.info);try{for(a=o._options.preload;a>0;a--)s=new Galleria.Picture,n=o.getData(u),s.preload("big"in n?n.big:n.image),u=o.getNext(u)}catch(d){}y.image.isIframe=!!l.iframe,e(y.elems.box).toggleClass("iframe",!!l.iframe),y.image.load(l.iframe||l.big||l.image,function(n){y.width=n.isIframe?e(i).width():n.original.width,y.height=n.isIframe?e(i).height():n.original.height,e(n.image).css({width:n.isIframe?"100%":"100.1%",height:n.isIframe?"100%":"100.1%",top:0,zIndex:99998,opacity:0,visibility:"visible"}),y.elems.title.innerHTML=l.title||"",y.elems.counter.innerHTML=t+1+" / "+c,r.resize(y.rescale),y.rescale()}),e(y.elems.overlay).show().css("visibility","visible"),e(y.elems.box).show()}};return this},Galleria.prototype={constructor:Galleria,init:function(i,n){return n=b(n),this._original={target:i,options:n,data:null},this._target=this._dom.target=i.nodeName?i:e(i).get(0),this._original.html=this._target.innerHTML,S.push(this),this._target?(this._options={autoplay:!1,carousel:!0,carouselFollow:!0,carouselSpeed:400,carouselSteps:"auto",clicknext:!1,dailymotion:{foreground:"%23EEEEEE",highlight:"%235BCEC5",background:"%23222222",logo:0,hideInfos:1},dataConfig:function(){return{}},dataSelector:"img",dataSource:this._target,debug:t,dummy:t,easing:"galleria",extend:function(){},fullscreenCrop:t,fullscreenDoubleTap:!0,fullscreenTransition:t,height:0,idleMode:!0,idleTime:3e3,idleSpeed:200,imageCrop:!1,imageMargin:0,imagePan:!1,imagePanSmoothness:12,imagePosition:"50%",imageTimeout:t,initialTransition:t,keepSource:!1,layerFollow:!0,lightbox:!1,lightboxFadeSpeed:200,lightboxTransitionSpeed:200,linkSourceImages:!0,maxScaleRatio:t,minScaleRatio:t,overlayOpacity:.85,overlayBackground:"#0b0b0b",pauseOnInteraction:!0,popupLinks:!1,preload:2,queue:!0,responsive:!1,show:0,showInfo:!0,showCounter:!0,showImagenav:!0,swipe:!0,thumbCrop:!0,thumbEventType:"click",thumbFit:!0,thumbMargin:0,thumbQuality:"auto",thumbnails:!0,touchTransition:t,transition:"fade",transitionInitial:t,transitionSpeed:400,trueFullscreen:!0,useCanvas:!1,vimeo:{title:0,byline:0,portrait:0,color:"aaaaaa"},wait:5e3,width:"auto",youtube:{modestbranding:1,autohide:1,color:"white",hd:1,rel:0,showinfo:0}},this._options.initialTransition=this._options.initialTransition||this._options.transitionInitial,n&&n.debug===!1&&(l=!1),n&&"number"==typeof n.imageTimeout&&(c=n.imageTimeout),n&&"string"==typeof n.dummy&&(u=n.dummy),e(this._target).children().hide(),"object"==typeof Galleria.theme?this._init():$.push(this),this):(Galleria.raise("Target not found",!0),void 0)},_init:function(){var t=this,s=this._options;if(this._initialized)return Galleria.raise("Init failed: Gallery instance already initialized."),this;if(this._initialized=!0,!Galleria.theme)return Galleria.raise("Init failed: No theme found.",!0),this;if(e.extend(!0,s,Galleria.theme.defaults,this._original.options,Galleria.configure.options),function(e){return"getContext"in e?(D=D||{elem:e,context:e.getContext("2d"),cache:{},length:0},void 0):(e=null,void 0)}(n.createElement("canvas")),this.bind(Galleria.DATA,function(){Galleria.QUIRK&&Galleria.raise("Your page is in Quirks mode, Galleria may not render correctly. Please validate your HTML."),this._original.data=this._data,this.get("total").innerHTML=this.getDataLength();var e=this.$("container"),n={width:0,height:0},s=function(){return t.$("stage").height()};I.wait({until:function(){return n=t._getWH(),e.width(n.width).height(n.height),s()&&n.width&&n.height>50},success:function(){t._width=n.width,t._height=n.height,Galleria.WEBKIT?i.setTimeout(function(){t._run()},1):t._run()},error:function(){s()?Galleria.raise("Could not extract sufficient width/height of the gallery container. Traced measures: width:"+n.width+"px, height: "+n.height+"px.",!0):Galleria.raise("Could not extract a stage height from the CSS. Traced height: "+s()+"px.",!0)},timeout:"number"==typeof this._options.wait?this._options.wait:!1})}),this.append({"info-text":["info-title","info-description"],info:["info-text"],"image-nav":["image-nav-right","image-nav-left"],stage:["images","loader","counter","image-nav"],"thumbnails-list":["thumbnails"],"thumbnails-container":["thumb-nav-left","thumbnails-list","thumb-nav-right"],container:["stage","thumbnails-container","info","tooltip"]}),I.hide(this.$("counter").append(this.get("current"),n.createTextNode(" / "),this.get("total"))),this.setCounter("&#8211;"),I.hide(t.get("tooltip")),this.$("container").addClass(Galleria.TOUCH?"touch":"notouch"),e.each(new Array(2),function(i){var n=new Galleria.Picture;e(n.container).css({position:"absolute",top:0,left:0}).prepend(t._layers[i]=e(I.create("galleria-layer")).css({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2})[0]),t.$("images").append(n.container),t._controls[i]=n}),this.$("images").css({position:"relative",top:0,left:0,width:"100%",height:"100%"}),this.$("thumbnails, thumbnails-list").css({overflow:"hidden",position:"relative"}),this.$("image-nav-right, image-nav-left").bind("click",function(e){s.clicknext&&e.stopPropagation(),s.pauseOnInteraction&&t.pause();var i=/right/.test(this.className)?"next":"prev";t[i]()}),e.each(["info","counter","image-nav"],function(e,i){s["show"+i.substr(0,1).toUpperCase()+i.substr(1).replace(/-/,"")]===!1&&I.moveOut(t.get(i.toLowerCase()))}),this.load(),!s.keepSource&&!m&&(this._target.innerHTML=""),this.get("errors")&&this.appendChild("target","errors"),this.appendChild("target","container"),s.carousel){var o=0,a=s.show;this.bind(Galleria.THUMBNAIL,function(){this.updateCarousel(),++o==this.getDataLength()&&"number"==typeof a&&a>0&&this._carousel.follow(a)})}return s.responsive&&r.bind("resize",function(){t.isFullscreen()||t.resize()}),s.swipe&&(function(e){var i,n=[0,0],s=[0,0],r=30,o=100,a=!1,l=0,c={start:"touchstart",move:"touchmove",stop:"touchend"},u=function(e){return e.originalEvent.touches?e.originalEvent.touches[0]:e},d=function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1||(i=u(e),s=[i.pageX,i.pageY],n[0]||(n=s),Math.abs(n[0]-s[0])>10&&e.preventDefault())},h=function(i){return e.unbind(c.move,d),i.originalEvent.touches&&i.originalEvent.touches.length||a?(a=!a,void 0):(I.timestamp()-l<1e3&&Math.abs(n[0]-s[0])>r&&Math.abs(n[1]-s[1])<o&&(i.preventDefault(),t[n[0]>s[0]?"next":"prev"]()),n=s=[0,0],void 0)};e.bind(c.start,function(t){t.originalEvent.touches&&t.originalEvent.touches.length>1||(i=u(t),l=I.timestamp(),n=s=[i.pageX,i.pageY],e.bind(c.move,d).one(c.stop,h))})}(t.$("images")),s.fullscreenDoubleTap&&this.$("stage").bind("touchstart",function(){var e,i,n,s,r,o,a=function(e){return e.originalEvent.touches?e.originalEvent.touches[0]:e};return function(l){return o=Galleria.utils.timestamp(),i=a(l).pageX,n=a(l).pageY,500>o-e&&20>i-s&&20>n-r?(t.toggleFullscreen(),l.preventDefault(),t.$("stage").unbind("touchend",arguments.callee),void 0):(e=o,s=i,r=n,void 0)}}())),I.optimizeTouch(this.get("container")),e.each(Galleria.on.binds,function(e,i){t.bind(i.type,i.callback)}),this},_getWH:function(){var t,i=this.$("container"),n=this.$("target"),s=this,r={};return e.each(["width","height"],function(e,o){s._options[o]&&"number"==typeof s._options[o]?r[o]=s._options[o]:(t=[I.parseValue(i.css(o)),I.parseValue(n.css(o)),i[o](),n[o]()],s["_"+o]||t.splice(t.length,I.parseValue(i.css("min-"+o)),I.parseValue(n.css("min-"+o))),r[o]=Math.max.apply(Math,t))}),s._options.height&&s._options.height<2&&(r.height=r.width*s._options.height),r},_createThumbnails:function(){this.get("total").innerHTML=this.getDataLength();var t,s,r,o,a,l,c=this,u=this._options,d=function(){var e=c.$("thumbnails").find(".active");return e.length?e.find("img").attr("src"):!1}(),h="string"==typeof u.thumbnails?u.thumbnails.toLowerCase():null,f=function(e){return n.defaultView&&n.defaultView.getComputedStyle?n.defaultView.getComputedStyle(r.container,null)[e]:l.css(e)},p=function(t,i,n){return function(){e(n).append(t),c.trigger({type:Galleria.THUMBNAIL,thumbTarget:t,index:i,galleriaData:c.getData(i)})}},m=function(t){u.pauseOnInteraction&&c.pause();var i=e(t.currentTarget).data("index");c.getIndex()!==i&&c.show(i),t.preventDefault()},g=function(t){t.scale({width:t.data.width,height:t.data.height,crop:u.thumbCrop,margin:u.thumbMargin,canvas:u.useCanvas,complete:function(t){var i,n,s=["left","top"],r=["Width","Height"],o=c.getData(t.index),a=o.thumb.split(":");e.each(r,function(r,o){i=o.toLowerCase(),(u.thumbCrop!==!0||u.thumbCrop===i)&&u.thumbFit&&(n={},n[i]=t[i],e(t.container).css(n),n={},n[s[r]]=0,e(t.image).css(n)),t["outer"+o]=e(t.container)["outer"+o](!0)}),I.toggleQuality(t.image,u.thumbQuality===!0||"auto"===u.thumbQuality&&t.original.width<3*t.width),o.iframe&&2==a.length&&a[0]in w&&w[a[0]].getThumb(a[1],function(e){return function(t){e.src=t}}(t.image)),c.trigger({type:Galleria.THUMBNAIL,thumbTarget:t.image,index:t.data.order,galleriaData:c.getData(t.data.order)})}})};for(this._thumbnails=[],this.$("thumbnails").empty(),t=0;this._data[t];t++)o=this._data[t],u.thumbnails===!0&&(o.thumb||o.image)?(r=new Galleria.Picture(t),r.index=t,s=o.thumb||o.image,this.$("thumbnails").append(r.container),l=e(r.container),r.data={width:I.parseValue(f("width")),height:I.parseValue(f("height")),order:t},u.thumbFit&&u.thumbCrop!==!0?l.css({width:"auto",height:"auto"}):l.css({width:r.data.width,height:r.data.height}),a=s.split(":"),2==a.length&&a[0]in w?r.load("data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D",{height:r.data.height,width:1.25*r.data.height},g):r.load(s,g),"all"===u.preload&&r.preload(o.image)):o.iframe||"empty"===h||"numbers"===h?(r={container:I.create("galleria-image"),image:I.create("img","span"),ready:!0},"numbers"===h&&e(r.image).text(t+1),o.iframe&&e(r.image).addClass("iframe"),this.$("thumbnails").append(r.container),i.setTimeout(p(r.image,t,r.container),50+20*t)):r={container:null,image:null},e(r.container).add(u.keepSource&&u.linkSourceImages?o.original:null).data("index",t).bind(u.thumbEventType,m),d===s&&e(r.container).addClass("active"),this._thumbnails.push(r)},_run:function(){var n=this;n._createThumbnails(),I.wait({timeout:1e4,until:function(){return Galleria.OPERA&&n.$("stage").css("display","inline-block"),n._stageWidth=n.$("stage").width(),n._stageHeight=n.$("stage").height(),n._stageWidth&&n._stageHeight>50},success:function(){return k.push(n),I.show(n.get("counter")),n._options.carousel&&n._carousel.bindControls(),n._options.autoplay&&(n.pause(),"number"==typeof n._options.autoplay&&(n._playtime=n._options.autoplay),n.trigger(Galleria.PLAY),n._playing=!0),n._firstrun?("number"==typeof n._options.show&&n.show(n._options.show),void 0):(n._firstrun=!0,Galleria.History&&Galleria.History.change(function(e){isNaN(e)?i.history.go(-1):n.show(e,t,!0)}),n.trigger(Galleria.READY),Galleria.theme.init.call(n,n._options),e.each(Galleria.ready.callbacks,function(){this.call(n,n._options)}),n._options.extend.call(n,n._options),/^[0-9]{1,4}$/.test(h)&&Galleria.History?n.show(h,t,!0):n._data[n._options.show]&&n.show(n._options.show),void 0)},error:function(){Galleria.raise("Stage width or height is too small to show the gallery. Traced measures: width:"+n._stageWidth+"px, height: "+n._stageHeight+"px.",!0)}})},load:function(t,i,n){var s=this;return this._data=[],this._thumbnails=[],this.$("thumbnails").empty(),"function"==typeof i&&(n=i,i=null),t=t||this._options.dataSource,i=i||this._options.dataSelector,n=n||this._options.dataConfig,/^function Object/.test(t.constructor)&&(t=[t]),t.constructor===Array?(this.validate(t)?(this._data=t,this._parseData().trigger(Galleria.DATA)):Galleria.raise("Load failed: JSON Array not valid."),this):(i+=",.video,.iframe",e(t).find(i).each(function(t,i){i=e(i);var r={},o=i.parent(),a=o.attr("href"),l=o.attr("rel");a&&("IMG"==i[0].nodeName||i.hasClass("video"))&&x(a)?r.video=a:a&&i.hasClass("iframe")?r.iframe=a:r.image=r.big=a,l&&(r.big=l),e.each("big title description link layer".split(" "),function(e,t){i.data(t)&&(r[t]=i.data(t))}),s._data.push(e.extend({title:i.attr("title")||"",thumb:i.attr("src"),image:i.attr("src"),big:i.attr("src"),description:i.attr("alt")||"",link:i.attr("longdesc"),original:i.get(0)},r,n(i)))}),this.getDataLength()?this._parseData().trigger(Galleria.DATA):Galleria.raise("Load failed: no data found."),this)},_parseData:function(){var t,i=this;return e.each(this._data,function(n,s){if(t=i._data[n],0=="thumb"in s&&(t.thumb=s.image),!1 in s&&(t.big=s.image),"video"in s){var r=x(s.video);r&&(t.iframe=w[r.provider].embed(r.id)+function(){if("object"==typeof i._options[r.provider]){var t="?",n=[];return e.each(i._options[r.provider],function(e,t){n.push(e+"="+t)}),"youtube"==r.provider&&(n=["wmode=opaque"].concat(n)),t+n.join("&")}return""}(),delete t.video,"thumb"in t&&t.thumb||(t.thumb=r.provider+":"+r.id))}}),this},destroy:function(){return this.get("target").innerHTML=this._original.html,this},splice:function(){var e=this,t=I.array(arguments);return i.setTimeout(function(){o.splice.apply(e._data,t),e._parseData()._createThumbnails()},2),e},push:function(){var e=this,t=I.array(arguments);return i.setTimeout(function(){o.push.apply(e._data,t),e._parseData()._createThumbnails()},2),e},_getActive:function(){return this._controls.getActive()},validate:function(){return!0},bind:function(e,t){return e=_(e),this.$("container").bind(e,this.proxy(t)),this},unbind:function(e){return e=_(e),this.$("container").unbind(e),this},trigger:function(t){return t="object"==typeof t?e.extend(t,{scope:this}):{type:_(t),scope:this},this.$("container").trigger(t),this},addIdleState:function(){return this._idle.add.apply(this._idle,I.array(arguments)),this},removeIdleState:function(){return this._idle.remove.apply(this._idle,I.array(arguments)),this},enterIdleMode:function(){return this._idle.hide(),this},exitIdleMode:function(){return this._idle.showAll(),this},enterFullscreen:function(){return this._fullscreen.enter.apply(this,I.array(arguments)),this},exitFullscreen:function(){return this._fullscreen.exit.apply(this,I.array(arguments)),this},toggleFullscreen:function(){return this._fullscreen[this.isFullscreen()?"exit":"enter"].apply(this,I.array(arguments)),this},bindTooltip:function(){return this._tooltip.bind.apply(this._tooltip,I.array(arguments)),this},defineTooltip:function(){return this._tooltip.define.apply(this._tooltip,I.array(arguments)),this},refreshTooltip:function(){return this._tooltip.show.apply(this._tooltip,I.array(arguments)),this},openLightbox:function(){return this._lightbox.show.apply(this._lightbox,I.array(arguments)),this},closeLightbox:function(){return this._lightbox.hide.apply(this._lightbox,I.array(arguments)),this},getActiveImage:function(){return this._getActive().image||t},getActiveThumb:function(){return this._thumbnails[this._active].image||t},getMousePosition:function(e){return{x:e.pageX-this.$("container").offset().left,y:e.pageY-this.$("container").offset().top}},addPan:function(t){if(this._options.imageCrop!==!1){t=e(t||this.getActiveImage());var i=this,n=t.width()/2,s=t.height()/2,r=parseInt(t.css("left"),10),o=parseInt(t.css("top"),10),a=r||0,l=o||0,c=0,u=0,d=!1,h=I.timestamp(),f=0,p=0,g=function(e,i,n){if(e>0&&(p=Math.round(Math.max(-1*e,Math.min(0,i))),f!==p))if(f=p,8===m)t.parent()["scroll"+n](-1*p);else{var s={};s[n.toLowerCase()]=p,t.css(s)}},v=function(e){I.timestamp()-h<50||(d=!0,n=i.getMousePosition(e).x,s=i.getMousePosition(e).y)},y=function(){d&&(c=t.width()-i._stageWidth,u=t.height()-i._stageHeight,r=-1*n/i._stageWidth*c,o=-1*s/i._stageHeight*u,a+=(r-a)/i._options.imagePanSmoothness,l+=(o-l)/i._options.imagePanSmoothness,g(u,l,"Top"),g(c,a,"Left"))};return 8===m&&(t.parent().scrollTop(-1*l).scrollLeft(-1*a),t.css({top:0,left:0})),this.$("stage").unbind("mousemove",v).bind("mousemove",v),I.addTimer("pan"+i._id,y,50,!0),this}},proxy:function(e,t){return"function"!=typeof e?f:(t=t||this,function(){return e.apply(t,I.array(arguments))})},removePan:function(){return this.$("stage").unbind("mousemove"),I.clearTimer("pan"+this._id),this},addElement:function(){var t=this._dom;return e.each(I.array(arguments),function(e,i){t[i]=I.create("galleria-"+i)}),this},attachKeyboard:function(){return this._keyboard.attach.apply(this._keyboard,I.array(arguments)),this},detachKeyboard:function(){return this._keyboard.detach.apply(this._keyboard,I.array(arguments)),this},appendChild:function(e,t){return this.$(e).append(this.get(t)||t),this},prependChild:function(e,t){return this.$(e).prepend(this.get(t)||t),this},remove:function(){return this.$(I.array(arguments).join(",")).remove(),this},append:function(e){var t,i;for(t in e)if(e.hasOwnProperty(t))if(e[t].constructor===Array)for(i=0;e[t][i];i++)this.appendChild(t,e[t][i]);else this.appendChild(t,e[t]);return this},_scaleImage:function(t,i){if(t=t||this._controls.getActive()){var n,s=function(t){e(t.container).children(":first").css({top:Math.max(0,I.parseValue(t.image.style.top)),left:Math.max(0,I.parseValue(t.image.style.left)),width:I.parseValue(t.image.width),height:I.parseValue(t.image.height)})};return i=e.extend({width:this._stageWidth,height:this._stageHeight,crop:this._options.imageCrop,max:this._options.maxScaleRatio,min:this._options.minScaleRatio,margin:this._options.imageMargin,position:this._options.imagePosition},i),this._options.layerFollow&&this._options.imageCrop!==!0?"function"==typeof i.complete?(n=i.complete,i.complete=function(){n.call(t,t),s(t)}):i.complete=s:e(t.container).children(":first").css({top:0,left:0}),t.scale(i),this}},updateCarousel:function(){return this._carousel.update(),this},resize:function(i,n){"function"==typeof i&&(n=i,i=t),i=e.extend({width:0,height:0},i);var s,r=this,o=this.$("container"),a=!("aspect"!=this._options.responsive||i.width&&i.height);return e.each(i,function(e,t){t||(o[e]("auto"),i[e]=r._getWH()[e])}),a&&(s=Math.min(i.width/this._width,i.height/this._height)),e.each(i,function(e,t){o[e](s?s*r["_"+e]:t)}),this.rescale(n)},rescale:function(e,i,n){var s=this;"function"==typeof e&&(n=e,e=t);var r=function(){s._stageWidth=e||s.$("stage").width(),s._stageHeight=i||s.$("stage").height(),s._scaleImage(),s._options.carousel&&s.updateCarousel(),s.trigger(Galleria.RESCALE),"function"==typeof n&&n.call(s)};return!Galleria.WEBKIT||Galleria.TOUCH||e||i?r.call(s):I.addTimer(!1,r,10),this},refreshImage:function(){return this._scaleImage(),this._options.imagePan&&this.addPan(),this},show:function(e,t,i){return e===!1||!this._options.queue&&this._queue.stalled?void 0:(e=Math.max(0,Math.min(parseInt(e,10),this.getDataLength()-1)),t="undefined"!=typeof t?!!t:e<this.getIndex(),i=i||!1,!i&&Galleria.History?(Galleria.History.set(e.toString()),void 0):(this._active=e,o.push.call(this._queue,{index:e,rewind:t}),this._queue.stalled||this._show(),this))},_show:function(){var n=this,s=this._queue[0],r=this.getData(s.index);if(r){var a=r.iframe||(this.isFullscreen()&&"big"in r?r.big:r.image),l=this._controls.getActive(),c=this._controls.getNext(),u=c.isCached(a),d=this._thumbnails[s.index],h=function(){e(c.image).trigger("mouseup")},f=function(t,s,r,a,l){return function(){var c;n._queue.stalled=!1,I.toggleQuality(s.image,n._options.imageQuality),n._layers[n._controls.active].innerHTML="",e(r.container).css({zIndex:0,opacity:0}).show(),r.isIframe&&e(r.container).find("iframe").remove(),n.$("container").toggleClass("iframe",!!t.iframe),e(s.container).css({zIndex:1,left:0,top:0}).show(),n._controls.swap(),n._options.imagePan&&n.addPan(s.image),(t.link||n._options.lightbox||n._options.clicknext)&&e(s.image).css({cursor:"pointer"}).bind("mouseup",function(){return n._options.clicknext&&!Galleria.TOUCH?(n._options.pauseOnInteraction&&n.pause(),n.next(),void 0):t.link?(n._options.popupLinks?c=i.open(t.link,"_blank"):i.location.href=t.link,void 0):(n._options.lightbox&&n.openLightbox(),void 0)}),o.shift.call(n._queue),n._queue.length&&n._show(),n._playCheck(),n.trigger({type:Galleria.IMAGE,index:a.index,imageTarget:s.image,thumbTarget:l.image,galleriaData:t})}}(r,c,l,s,d);if(this._options.carousel&&this._options.carouselFollow&&this._carousel.follow(s.index),this._options.preload){var p,m,g,v=this.getNext();try{for(m=this._options.preload;m>0;m--)p=new Galleria.Picture,g=n.getData(v),p.preload(this.isFullscreen()&&"big"in g?g.big:g.image),v=n.getNext(v)}catch(y){}}I.show(c.container),c.isIframe=!!r.iframe,e(n._thumbnails[s.index].container).addClass("active").siblings(".active").removeClass("active"),n.trigger({type:Galleria.LOADSTART,cached:u,index:s.index,rewind:s.rewind,imageTarget:c.image,thumbTarget:d.image,galleriaData:r}),c.load(a,function(i){var o=e(n._layers[1-n._controls.active]).html(r.layer||"").hide();n._scaleImage(i,{complete:function(i){"image"in l&&I.toggleQuality(l.image,!1),I.toggleQuality(i.image,!1),n._queue.stalled=!0,n.removePan(),n.setInfo(s.index),n.setCounter(s.index),r.layer&&(o.show(),(r.link||n._options.lightbox||n._options.clicknext)&&o.css("cursor","pointer").unbind("mouseup").mouseup(h)),n.trigger({type:Galleria.LOADFINISH,cached:u,index:s.index,rewind:s.rewind,imageTarget:i.image,thumbTarget:n._thumbnails[s.index].image,galleriaData:n.getData(s.index)});var a=n._options.transition;if(e.each({initial:null===l.image,touch:Galleria.TOUCH,fullscreen:n.isFullscreen()},function(e,i){return i&&n._options[e+"Transition"]!==t?(a=n._options[e+"Transition"],!1):void 0}),0==a in N)f();else{var c={prev:l.container,next:i.container,rewind:s.rewind,speed:n._options.transitionSpeed||400};N[a].call(n,c,f)}}})})}},getNext:function(e){return e="number"==typeof e?e:this.getIndex(),e===this.getDataLength()-1?0:e+1},getPrev:function(e){return e="number"==typeof e?e:this.getIndex(),0===e?this.getDataLength()-1:e-1},next:function(){return this.getDataLength()>1&&this.show(this.getNext(),!1),this},prev:function(){return this.getDataLength()>1&&this.show(this.getPrev(),!0),this},get:function(e){return e in this._dom?this._dom[e]:null},getData:function(e){return e in this._data?this._data[e]:this._data[this._active]},getDataLength:function(){return this._data.length},getIndex:function(){return"number"==typeof this._active?this._active:!1},getStageHeight:function(){return this._stageHeight},getStageWidth:function(){return this._stageWidth},getOptions:function(e){return"undefined"==typeof e?this._options:this._options[e]},setOptions:function(t,i){return"object"==typeof t?e.extend(this._options,t):this._options[t]=i,this},play:function(e){return this._playing=!0,this._playtime=e||this._playtime,this._playCheck(),this.trigger(Galleria.PLAY),this},pause:function(){return this._playing=!1,this.trigger(Galleria.PAUSE),this},playToggle:function(e){return this._playing?this.pause():this.play(e)},isPlaying:function(){return this._playing},isFullscreen:function(){return this._fullscreen.active
},_playCheck:function(){var e=this,t=0,i=20,n=I.timestamp(),s="play"+this._id;if(this._playing){I.clearTimer(s);var r=function(){return t=I.timestamp()-n,t>=e._playtime&&e._playing?(I.clearTimer(s),e.next(),void 0):(e._playing&&(e.trigger({type:Galleria.PROGRESS,percent:Math.ceil(100*(t/e._playtime)),seconds:Math.floor(t/1e3),milliseconds:t}),I.addTimer(s,r,i)),void 0)};I.addTimer(s,r,i)}},setPlaytime:function(e){return this._playtime=e,this},setIndex:function(e){return this._active=e,this},setCounter:function(e){if("number"==typeof e?e++:"undefined"==typeof e&&(e=this.getIndex()+1),this.get("current").innerHTML=e,m){var t=this.$("counter"),i=t.css("opacity");1===parseInt(i,10)?I.removeAlpha(t[0]):this.$("counter").css("opacity",i)}return this},setInfo:function(t){var i=this,n=this.getData(t);return e.each(["title","description"],function(e,t){var s=i.$("info-"+t);n[t]?s[n[t].length?"show":"hide"]().html(n[t]):s.empty().hide()}),this},hasInfo:function(e){var t,i="title description".split(" ");for(t=0;i[t];t++)if(this.getData(e)[i[t]])return!0;return!1},jQuery:function(t){var i=this,n=[];e.each(t.split(","),function(t,s){s=e.trim(s),i.get(s)&&n.push(s)});var s=e(i.get(n.shift()));return e.each(n,function(e,t){s=s.add(i.get(t))}),s},$:function(){return this.jQuery.apply(this,I.array(arguments))}},e.each(y,function(e,t){var i=/_/.test(t)?t.replace(/_/g,""):t;Galleria[t.toUpperCase()]="galleria."+i}),e.extend(Galleria,{IE9:9===m,IE8:8===m,IE7:7===m,IE6:6===m,IE:m,WEBKIT:/webkit/.test(d),CHROME:/chrome/.test(d),SAFARI:/safari/.test(d)&&!/chrome/.test(d),QUIRK:m&&n.compatMode&&"BackCompat"===n.compatMode,MAC:/mac/.test(navigator.platform.toLowerCase()),OPERA:!!i.opera,IPHONE:/iphone/.test(d),IPAD:/ipad/.test(d),ANDROID:/android/.test(d),TOUCH:"ontouchstart"in n}),Galleria.addTheme=function(t){t.name||Galleria.raise("No theme name specified"),t.defaults="object"!=typeof t.defaults?{}:b(t.defaults);var i,n=!1;return"string"==typeof t.css?(e("link").each(function(e,s){return i=new RegExp(t.css),i.test(s.href)?(n=!0,E(t),!1):void 0}),n||e("script").each(function(e,s){i=new RegExp("galleria\\."+t.name.toLowerCase()+"\\."),i.test(s.src)&&(n=s.src.replace(/[^\/]*$/,"")+t.css,I.addTimer("css",function(){I.loadCSS(n,"galleria-theme",function(){E(t)})},1))}),n||Galleria.raise("No theme CSS loaded")):E(t),t},Galleria.loadTheme=function(n,s){var r=k.length,o=i.setTimeout(function(){Galleria.raise("Theme at "+n+" could not load, check theme path.",!0)},5e3);return Galleria.theme=t,I.loadScript(n,function(){if(i.clearTimeout(o),r){var t=[];e.each(Galleria.get(),function(i,n){var r=e.extend(n._original.options,{data_source:n._data},s);n.$("container").remove();var o=new Galleria;o._id=n._id,o.init(n._original.target,r),t.push(o)}),k=t}}),Galleria},Galleria.get=function(e){return S[e]?S[e]:"number"!=typeof e?S:(Galleria.raise("Gallery index "+e+" not found"),void 0)},Galleria.configure=function(t,i){var n={};return"string"==typeof t&&i?(n[t]=i,t=n):e.extend(n,t),Galleria.configure.options=n,e.each(Galleria.get(),function(e,t){t.setOptions(n)}),Galleria},Galleria.configure.options={},Galleria.on=function(t,i){return t?(Galleria.on.binds.push({type:t,callback:i||f}),e.each(Galleria.get(),function(e,n){n.bind(t,i)}),Galleria):void 0},Galleria.on.binds=[],Galleria.run=function(t,i){return e(t||"#galleria").galleria(i),Galleria},Galleria.addTransition=function(e,t){return N[e]=t,Galleria},Galleria.utils=I,Galleria.log=function(){return"console"in i&&"log"in i.console?i.console.log:function(){i.alert(I.array(arguments).join(", "))}}(),Galleria.ready=function(t){return e.each(k,function(e,i){t.call(i,i._options)}),Galleria.ready.callbacks.push(t),Galleria},Galleria.ready.callbacks=[],Galleria.raise=function(t,i){var n=i?"Fatal error":"Error",s={color:"#fff",position:"absolute",top:0,left:0,zIndex:1e5},r=function(t){var r='<div style="padding:4px;margin:0 0 2px;background:#'+(i?"811":"222")+'";>'+(i?"<strong>"+n+": </strong>":"")+t+"</div>";e.each(S,function(){var e=this.$("errors"),t=this.$("target");e.length||(t.css("position","relative"),e=this.addElement("errors").appendChild("target","errors").$("errors").css(s)),e.append(r)}),S.length||e("<div>").css(e.extend(s,{position:"fixed"})).append(r).appendTo(g().body)};if(l){if(r(t),i)throw new Error(n+": "+t)}else if(i){if(T)return;T=!0,i=!1,r("Gallery could not load.")}},Galleria.version=a,Galleria.requires=function(e,t){return t=t||"You need to upgrade Galleria to version "+e+" to use one or more components.",Galleria.version<e&&Galleria.raise(t,!0),Galleria},Galleria.Picture=function(t){this.id=t||null,this.image=null,this.container=I.create("galleria-image"),e(this.container).css({overflow:"hidden",position:"relative"}),this.original={width:0,height:0},this.ready=!1,this.isIframe=!1},Galleria.Picture.prototype={cache:{},show:function(){I.show(this.image)},hide:function(){I.moveOut(this.image)},clear:function(){this.image=null},isCached:function(e){return!!this.cache[e]},preload:function(t){e(new Image).load(function(e,t){return function(){t[e]=e}}(t,this.cache)).attr("src",t)},load:function(t,n,s){if("function"==typeof n&&(s=n,n=null),this.isIframe){var r="if"+(new Date).getTime();return this.image=e("<iframe>",{src:t,frameborder:0,id:r,allowfullscreen:!0,css:{visibility:"hidden"}})[0],e(this.container).find("iframe,img").remove(),this.container.appendChild(this.image),e("#"+r).load(function(t,n){return function(){i.setTimeout(function(){e(t.image).css("visibility","visible"),"function"==typeof n&&n.call(t,t)},10)}}(this,s)),this.container}this.image=new Image;var o=!1,a=!1,l=e(this.container),c=e(this.image),d=function(t,s,r){return function(){var o=function(){e(this).unbind("load"),t.original=n||{height:this.height,width:this.width},t.container.appendChild(this),t.cache[r]=r,"function"==typeof s&&i.setTimeout(function(){s.call(t,t)},1)};this.width&&this.height?o.call(this):i.setTimeout(function(t){return function(){t.width&&t.height?o.call(t):a?Galleria.raise("Could not extract width/height from image: "+t.src+". Traced measures: width:"+t.width+"px, height: "+t.height+"px."):(e(new Image).load(d).attr("src",t.src),a=!0)}}(this),2)}}(this,s,t);return l.find("iframe,img").remove(),c.css("display","block"),I.hide(this.image),e.each("minWidth minHeight maxWidth maxHeight".split(" "),function(e,t){c.css(t,/min/.test(t)?"0":"none")}),this.cache[t]?(c.load(d).attr("src",t),this.container):(c.load(d).error(function(){o?u?e(this).attr("src",u):Galleria.raise("Image not found: "+t):(o=!0,i.setTimeout(function(e,t){return function(){e.attr("src",t+"?"+I.timestamp())}}(e(this),t),50))}).attr("src",t),this.container)},scale:function(i){var n=this;if(i=e.extend({width:0,height:0,min:t,max:t,margin:0,complete:f,position:"center",crop:!1,canvas:!1},i),this.isIframe){e(this.image).width(i.width).height(i.height).removeAttr("width").removeAttr("height"),e(this.container).width(i.width).height(i.height),i.complete.call(n,n);try{this.image.contentWindow&&e(this.image.contentWindow).trigger("resize")}catch(s){}return this.container}if(!this.image)return this.container;var r,o,a,l=e(n.container);return I.wait({until:function(){return r=i.width||l.width()||I.parseValue(l.css("width")),o=i.height||l.height()||I.parseValue(l.css("height")),r&&o},success:function(){var t=(r-2*i.margin)/n.original.width,s=(o-2*i.margin)/n.original.height,l=Math.min(t,s),c=Math.max(t,s),u={"true":c,width:t,height:s,"false":l,landscape:n.original.width>n.original.height?c:l,portrait:n.original.width<n.original.height?c:l},d=u[i.crop.toString()],h="";i.max&&(d=Math.min(i.max,d)),i.min&&(d=Math.max(i.min,d)),e.each(["width","height"],function(t,i){e(n.image)[i](n[i]=n.image[i]=Math.round(n.original[i]*d))}),e(n.container).width(r).height(o),i.canvas&&D&&(D.elem.width=n.width,D.elem.height=n.height,h=n.image.src+":"+n.width+"x"+n.height,n.image.src=D.cache[h]||function(e){D.context.drawImage(n.image,0,0,n.original.width*d,n.original.height*d);try{return a=D.elem.toDataURL(),D.length+=a.length,D.cache[e]=a,a}catch(t){return n.image.src}}(h));var f={},p={},m=function(t,i,s){var r=0;if(/\%/.test(t)){var o=parseInt(t,10)/100,a=n.image[i]||e(n.image)[i]();r=Math.ceil(-1*a*o+s*o)}else r=I.parseValue(t);return r},g={top:{top:0},left:{left:0},right:{left:"100%"},bottom:{top:"100%"}};e.each(i.position.toLowerCase().split(" "),function(e,t){"center"===t&&(t="50%"),f[e?"top":"left"]=t}),e.each(f,function(t,i){g.hasOwnProperty(i)&&e.extend(p,g[i])}),f=f.top?e.extend(f,p):p,f=e.extend({top:"50%",left:"50%"},f),e(n.image).css({position:"absolute",top:m(f.top,"height",o),left:m(f.left,"width",r)}),n.show(),n.ready=!0,i.complete.call(n,n)},error:function(){Galleria.raise("Could not scale image: "+n.image.src)},timeout:1e3}),this}},e.extend(e.easing,{galleria:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},galleriaIn:function(e,t,i,n,s){return n*(t/=s)*t+i},galleriaOut:function(e,t,i,n,s){return-n*(t/=s)*(t-2)+i}}),e.fn.galleria=function(t){var i=this.selector;return e(this).length?this.each(function(){e.data(this,"galleria")||e.data(this,"galleria",(new Galleria).init(this,t))}):(e(function(){e(i).length?e(i).galleria(t):Galleria.utils.wait({until:function(){return e(i).length},success:function(){e(i).galleria(t)},error:function(){Galleria.raise('Init failed: Galleria could not find the element "'+i+'".')},timeout:5e3})}),this)}}(jQuery),function(e){Galleria.addTheme({name:"classic",author:"Galleria",defaults:{transition:"slide",thumbCrop:"height",_toggleInfo:!1},init:function(t){Galleria.requires(1.25,"This version of Classic theme requires Galleria 1.2.5 or later"),this.addElement("info-link","info-close"),this.append({info:["info-link","info-close"]});var i=this.$("info-link,info-close,info-text"),n=Galleria.TOUCH,s=n?"touchstart":"click";this.$("loader,counter").show().css("opacity",.4),n||(this.addIdleState(this.get("image-nav-left"),{left:-50}),this.addIdleState(this.get("image-nav-right"),{right:-50}),this.addIdleState(this.get("counter"),{opacity:0})),t._toggleInfo===!0?i.bind(s,function(){i.toggle()}):(i.show(),this.$("info-link, info-close").hide()),this.bind("thumbnail",function(t){n?e(t.thumbTarget).css("opacity",this.getIndex()?1:.6):(e(t.thumbTarget).css("opacity",.6).parent().hover(function(){e(this).not(".active").children().stop().fadeTo(100,1)},function(){e(this).not(".active").children().stop().fadeTo(400,.6)}),t.index===this.getIndex()&&e(t.thumbTarget).css("opacity",1))}),this.bind("loadstart",function(t){t.cached||this.$("loader").show().fadeTo(200,.4),this.$("info").toggle(this.hasInfo()),e(t.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",.6)}),this.bind("loadfinish",function(){this.$("loader").fadeOut(200)})}})}(jQuery),function(e){function t(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}e.fn.ajaxSubmit=function(i){function n(t){for(var n=new FormData,s=0;s<t.length;s++)"file"!=t[s].type&&n.append(t[s].name,t[s].value);if(l.find("input:file:enabled").each(function(){var t=e(this).attr("name"),i=this.files;if(t)for(var s=0;s<i.length;s++)n.append(t,i[s])}),i.extraData)for(var r in i.extraData)n.append(r,i.extraData[r]);i.data=null;var o=i.beforeSend;i.beforeSend=function(e,t){t.data=n,e.upload&&(e.upload.onprogress=function(e){t.progress(e.position,e.total)}),o&&o.call(t,e,t)},e.ajax(i)}function s(n){function s(e){var t=e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document;return t}function o(){function i(){try{var e=s(m).readyState;t("state = "+e),"uninitialized"==e.toLowerCase()&&setTimeout(i,50)}catch(n){t("Server abort: ",n," (",n.name,")"),a(k),_&&clearTimeout(_),_=void 0}}var n=l.attr("target"),o=l.attr("action");w.setAttribute("target",f),r||w.setAttribute("method","POST"),o!=d.url&&w.setAttribute("action",d.url),d.skipEncodingOverride||r&&!/post/i.test(r)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(_=setTimeout(function(){b=!0,a(C)},d.timeout));var c=[];try{if(d.extraData)for(var u in d.extraData)c.push(e('<input type="hidden" name="'+u+'">').attr("value",d.extraData[u]).appendTo(w)[0]);d.iframeTarget||(p.appendTo("body"),m.attachEvent?m.attachEvent("onload",a):m.addEventListener("load",a,!1)),setTimeout(i,15),w.submit()}finally{w.setAttribute("action",o),n?w.setAttribute("target",n):l.removeAttr("target"),e(c).remove()}}function a(i){if(!g.aborted&&!E){try{$=s(m)}catch(n){t("cannot access response document: ",n),i=k}if(i===C&&g)return g.abort("timeout"),void 0;if(i==k&&g)return g.abort("server abort"),void 0;if($&&$.location.href!=d.iframeSrc||b){m.detachEvent?m.detachEvent("onload",a):m.removeEventListener("load",a,!1);var r,o="success";try{if(b)throw"timeout";var l="xml"==d.dataType||$.XMLDocument||e.isXMLDoc($);if(t("isXml="+l),!l&&window.opera&&(null==$.body||""==$.body.innerHTML)&&--I)return t("requeing onLoad callback, DOM not available"),setTimeout(a,250),void 0;var c=$.body?$.body:$.documentElement;g.responseText=c?c.innerHTML:null,g.responseXML=$.XMLDocument?$.XMLDocument:$,l&&(d.dataType="xml"),g.getResponseHeader=function(e){var t={"content-type":d.dataType};return t[e]},c&&(g.status=Number(c.getAttribute("status"))||g.status,g.statusText=c.getAttribute("statusText")||g.statusText);var u=(d.dataType||"").toLowerCase(),f=/(json|script|text)/.test(u);if(f||d.textarea){var v=$.getElementsByTagName("textarea")[0];if(v)g.responseText=v.value,g.status=Number(v.getAttribute("status"))||g.status,g.statusText=v.getAttribute("statusText")||g.statusText;else if(f){var y=$.getElementsByTagName("pre")[0],w=$.getElementsByTagName("body")[0];y?g.responseText=y.textContent?y.textContent:y.innerText:w&&(g.responseText=w.textContent?w.textContent:w.innerText)}}else"xml"!=u||g.responseXML||null==g.responseText||(g.responseXML=N(g.responseText));try{D=M(g,u,d)}catch(i){o="parsererror",g.error=r=i||o}}catch(i){t("error caught: ",i),o="error",g.error=r=i||o}g.aborted&&(t("upload aborted"),o=null),g.status&&(o=g.status>=200&&g.status<300||304===g.status?"success":"error"),"success"===o?(d.success&&d.success.call(d.context,D,"success",g),h&&e.event.trigger("ajaxSuccess",[g,d])):o&&(void 0==r&&(r=g.statusText),d.error&&d.error.call(d.context,g,o,r),h&&e.event.trigger("ajaxError",[g,d,r])),h&&e.event.trigger("ajaxComplete",[g,d]),h&&!--e.active&&e.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,g,o),E=!0,d.timeout&&clearTimeout(_),setTimeout(function(){d.iframeTarget||p.remove(),g.responseXML=null},100)}}}var c,u,d,h,f,p,m,g,v,y,b,_,w=l[0],x=!!e.fn.prop;if(n)if(x)for(u=0;u<n.length;u++)c=e(w[n[u].name]),c.prop("disabled",!1);else for(u=0;u<n.length;u++)c=e(w[n[u].name]),c.removeAttr("disabled");if(e(":input[name=submit],:input[id=submit]",w).length)return alert('Error: Form elements must not have name or id of "submit".'),void 0;if(d=e.extend(!0,{},e.ajaxSettings,i),d.context=d.context||d,f="jqFormIO"+(new Date).getTime(),d.iframeTarget?(p=e(d.iframeTarget),y=p.attr("name"),null==y?p.attr("name",f):f=y):(p=e('<iframe name="'+f+'" src="'+d.iframeSrc+'" />'),p.css({position:"absolute",top:"-1000px",left:"-1000px"})),m=p[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var n="timeout"===i?"timeout":"aborted";t("aborting upload... "+n),this.aborted=1,p.attr("src",d.iframeSrc),g.error=n,d.error&&d.error.call(d.context,g,n,i),h&&e.event.trigger("ajaxError",[g,d,n]),d.complete&&d.complete.call(d.context,g,n)}},h=d.global,h&&!e.active++&&e.event.trigger("ajaxStart"),h&&e.event.trigger("ajaxSend",[g,d]),d.beforeSend&&d.beforeSend.call(d.context,g,d)===!1)return d.global&&e.active--,void 0;if(!g.aborted){v=w.clk,v&&(y=v.name,y&&!v.disabled&&(d.extraData=d.extraData||{},d.extraData[y]=v.value,"image"==v.type&&(d.extraData[y+".x"]=w.clk_x,d.extraData[y+".y"]=w.clk_y)));var C=1,k=2,S=e("meta[name=csrf-token]").attr("content"),T=e("meta[name=csrf-param]").attr("content");T&&S&&(d.extraData=d.extraData||{},d.extraData[T]=S),d.forceSync?o():setTimeout(o,10);var D,$,E,I=50,N=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},A=e.parseJSON||function(e){return window.eval("("+e+")")},M=function(t,i,n){var s=t.getResponseHeader("content-type")||"",r="xml"===i||!i&&s.indexOf("xml")>=0,o=r?t.responseXML:t.responseText;return r&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),n&&n.dataFilter&&(o=n.dataFilter(o,i)),"string"==typeof o&&("json"===i||!i&&s.indexOf("json")>=0?o=A(o):("script"===i||!i&&s.indexOf("javascript")>=0)&&e.globalEval(o)),o}}}if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;var r,o,a,l=this;"function"==typeof i&&(i={success:i}),r=this.attr("method"),o=this.attr("action"),a="string"==typeof o?e.trim(o):"",a=a||window.location.href||"",a&&(a=(a.match(/^([^#]+)/)||[])[1]),i=e.extend(!0,{url:a,success:e.ajaxSettings.success,type:r||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},i);var c={};if(this.trigger("form-pre-serialize",[this,i,c]),c.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(i.beforeSerialize&&i.beforeSerialize(this,i)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var u=i.traditional;void 0===u&&(u=e.ajaxSettings.traditional);var d,h=this.formToArray(i.semantic);if(i.data&&(i.extraData=i.data,d=e.param(i.data,u)),i.beforeSubmit&&i.beforeSubmit(h,this,i)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[h,this,i,c]),c.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var f=e.param(h,u);d&&(f=f?f+"&"+d:d),"GET"==i.type.toUpperCase()?(i.url+=(i.url.indexOf("?")>=0?"&":"?")+f,i.data=null):i.data=f;var p=[];if(i.resetForm&&p.push(function(){l.resetForm()}),i.clearForm&&p.push(function(){l.clearForm(i.includeHidden)}),!i.dataType&&i.target){var m=i.success||function(){};p.push(function(t){var n=i.replaceTarget?"replaceWith":"html";e(i.target)[n](t).each(m,arguments)})}else i.success&&p.push(i.success);i.success=function(e,t,n){for(var s=i.context||i,r=0,o=p.length;o>r;r++)p[r].apply(s,[e,t,n||l,l])};var g=e("input:file:enabled[value]",this),v=g.length>0,y="multipart/form-data",b=l.attr("enctype")==y||l.attr("encoding")==y,_=!!(v&&g.get(0).files&&window.FormData);t("fileAPI :"+_);var w=(v||b)&&!_;return i.iframe!==!1&&(i.iframe||w)?i.closeKeepAlive?e.get(i.closeKeepAlive,function(){s(h)}):s(h):(v||b)&&_?(i.progress=i.progress||e.noop,n(h)):e.ajax(i),this.trigger("form-submit-notify",[this,i]),this},e.fn.ajaxForm=function(i){if(0===this.length){var n={s:this.selector,c:this.context};return!e.isReady&&n.s?(t("DOM not ready, queuing ajaxForm"),e(function(){e(n.s,n.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(t){t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(i))}).bind("click.form-plugin",function(t){var i=t.target,n=e(i);if(!n.is(":submit,input:image")){var s=n.closest(":submit");if(0==s.length)return;i=s[0]}var r=this;if(r.clk=i,"image"==i.type)if(void 0!=t.offsetX)r.clk_x=t.offsetX,r.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=n.offset();r.clk_x=t.pageX-o.left,r.clk_y=t.pageY-o.top}else r.clk_x=t.pageX-i.offsetLeft,r.clk_y=t.pageY-i.offsetTop;setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)})},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t){var i=[];if(0===this.length)return i;var n=this[0],s=t?n.getElementsByTagName("*"):n.elements;if(!s)return i;var r,o,a,l,c,u,d;for(r=0,u=s.length;u>r;r++)if(c=s[r],a=c.name)if(t&&n.clk&&"image"==c.type)c.disabled||n.clk!=c||(i.push({name:a,value:e(c).val(),type:c.type}),i.push({name:a+".x",value:n.clk_x},{name:a+".y",value:n.clk_y}));else if(l=e.fieldValue(c,!0),l&&l.constructor==Array)for(o=0,d=l.length;d>o;o++)i.push({name:a,value:l[o]});else null!==l&&"undefined"!=typeof l&&i.push({name:a,value:l,type:c.type});if(!t&&n.clk){var h=e(n.clk),f=h[0];a=f.name,a&&!f.disabled&&"image"==f.type&&(i.push({name:a,value:h.val()}),i.push({name:a+".x",value:n.clk_x},{name:a+".y",value:n.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var n=this.name;if(n){var s=e.fieldValue(this,t);if(s&&s.constructor==Array)for(var r=0,o=s.length;o>r;r++)i.push({name:n,value:s[r]});else null!==s&&"undefined"!=typeof s&&i.push({name:this.name,value:s})}}),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],n=0,s=this.length;s>n;n++){var r=this[n],o=e.fieldValue(r,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(i,o):i.push(o))}return i},e.fieldValue=function(t,i){var n=t.name,s=t.type,r=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||t.disabled||"reset"==s||"button"==s||("checkbox"==s||"radio"==s)&&!t.checked||("submit"==s||"image"==s)&&t.form&&t.form.clk!=t||"select"==r&&-1==t.selectedIndex))return null;if("select"==r){var o=t.selectedIndex;if(0>o)return null;for(var a=[],l=t.options,c="select-one"==s,u=c?o+1:l.length,d=c?o:0;u>d;d++){var h=l[d];if(h.selected){var f=h.value;if(f||(f=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return f;a.push(f)}}return a}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(e){var t=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,n=this.tagName.toLowerCase();t.test(i)||"textarea"==n||e&&/hidden/.test(i)?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==n&&(this.selectedIndex=-1)})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var n=e(this).parent("select");t&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}(jQuery),function($){$.extend({tablesorter:new function(){function benchmark(e,t){log(e+","+((new Date).getTime()-t.getTime())+"ms")}function log(e){"undefined"!=typeof console&&"undefined"!=typeof console.debug?console.log(e):alert(e)}function buildParserCache(e,t){if(e.config.debug)var i="";if(0!=e.tBodies.length){var n=e.tBodies[0].rows;if(n[0])for(var s=[],r=n[0].cells,o=r.length,a=0;o>a;a++){var l=!1;$.metadata&&$(t[a]).metadata()&&$(t[a]).metadata().sorter?l=getParserById($(t[a]).metadata().sorter):e.config.headers[a]&&e.config.headers[a].sorter&&(l=getParserById(e.config.headers[a].sorter)),l||(l=detectParserForColumn(e,n,-1,a)),e.config.debug&&(i+="column:"+a+" parser:"+l.id+"\n"),s.push(l)}return e.config.debug&&log(i),s}}function detectParserForColumn(e,t,i,n){for(var s=parsers.length,r=!1,o=!1,a=!0;""==o&&a;)i++,t[i]?(r=getNodeFromRowAndCellIndex(t,i,n),o=trimAndGetNodeText(e.config,r),e.config.debug&&log("Checking if value was empty on row:"+i)):a=!1;for(var l=1;s>l;l++)if(parsers[l].is(o,e,r))return parsers[l];return parsers[0]}function getNodeFromRowAndCellIndex(e,t,i){return e[t].cells[i]}function trimAndGetNodeText(e,t){return $.trim(getElementText(e,t))}function getParserById(e){for(var t=parsers.length,i=0;t>i;i++)if(parsers[i].id.toLowerCase()==e.toLowerCase())return parsers[i];return!1}function buildCache(e){if(e.config.debug)var t=new Date;for(var i=e.tBodies[0]&&e.tBodies[0].rows.length||0,n=e.tBodies[0].rows[0]&&e.tBodies[0].rows[0].cells.length||0,s=e.config.parsers,r={row:[],normalized:[]},o=0;i>o;++o){var a=$(e.tBodies[0].rows[o]),l=[];if(a.hasClass(e.config.cssChildRow))r.row[r.row.length-1]=r.row[r.row.length-1].add(a);else{r.row.push(a);for(var c=0;n>c;++c)l.push(s[c].format(getElementText(e.config,a[0].cells[c]),e,a[0].cells[c]));l.push(r.normalized.length),r.normalized.push(l),l=null}}return e.config.debug&&benchmark("Building cache for "+i+" rows:",t),r}function getElementText(e,t){var i="";return t?(e.supportsTextContent||(e.supportsTextContent=t.textContent||!1),i="simple"==e.textExtraction?e.supportsTextContent?t.textContent:t.childNodes[0]&&t.childNodes[0].hasChildNodes()?t.childNodes[0].innerHTML:t.innerHTML:"function"==typeof e.textExtraction?e.textExtraction(t):$(t).text()):""}function appendToTable(e,t){if(e.config.debug)var i=new Date;for(var n=t,s=n.row,r=n.normalized,o=r.length,a=r[0].length-1,l=$(e.tBodies[0]),c=[],u=0;o>u;u++){var d=r[u][a];if(c.push(s[d]),!e.config.appender)for(var h=s[d].length,f=0;h>f;f++)l[0].appendChild(s[d][f])}e.config.appender&&e.config.appender(e,c),c=null,e.config.debug&&benchmark("Rebuilt table:",i),applyWidget(e),setTimeout(function(){$(e).trigger("sortEnd")},0)}function buildHeaders(e){if(e.config.debug)var t=new Date;$.metadata?!0:!1;var i=computeTableHeaderCellIndexes(e);return $tableHeaders=$(e.config.selectorHeaders,e).each(function(t){if(this.column=i[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(e.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(e,t))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(e,t)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(e,t)),!this.sortDisabled){var n=$(this).addClass(e.config.cssHeader);e.config.onRenderHeader&&e.config.onRenderHeader.apply(n)}e.config.headerList[t]=this}),e.config.debug&&(benchmark("Built headers:",t),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(e){for(var t=[],i={},n=e.getElementsByTagName("THEAD")[0],s=n.getElementsByTagName("TR"),r=0;r<s.length;r++)for(var o=s[r].cells,a=0;a<o.length;a++){var l,c=o[a],u=c.parentNode.rowIndex,d=u+"-"+c.cellIndex,h=c.rowSpan||1,f=c.colSpan||1;"undefined"==typeof t[u]&&(t[u]=[]);for(var p=0;p<t[u].length+1;p++)if("undefined"==typeof t[u][p]){l=p;break}i[d]=l;for(var p=u;u+h>p;p++){"undefined"==typeof t[p]&&(t[p]=[]);for(var m=t[p],g=l;l+f>g;g++)m[g]="x"}}return i}function checkCellColSpan(e,t,i){for(var n=[],s=e.tHead.rows,r=s[i].cells,o=0;o<r.length;o++){var a=r[o];a.colSpan>1?n=n.concat(checkCellColSpan(e,headerArr,i++)):(1==e.tHead.length||a.rowSpan>1||!s[i+1])&&n.push(a)}return n}function checkHeaderMetadata(e){return $.metadata&&$(e).metadata().sorter===!1?!0:!1}function checkHeaderOptions(e,t){return e.config.headers[t]&&e.config.headers[t].sorter===!1?!0:!1}function checkHeaderOptionsSortingLocked(e,t){return e.config.headers[t]&&e.config.headers[t].lockedOrder?e.config.headers[t].lockedOrder:!1}function applyWidget(e){for(var t=e.config.widgets,i=t.length,n=0;i>n;n++)getWidgetById(t[n]).format(e)}function getWidgetById(e){for(var t=widgets.length,i=0;t>i;i++)if(widgets[i].id.toLowerCase()==e.toLowerCase())return widgets[i]}function formatSortingOrder(e){return"Number"!=typeof e?"desc"==e.toLowerCase()?1:0:1==e?1:0}function isValueInArray(e,t){for(var i=t.length,n=0;i>n;n++)if(t[n][0]==e)return!0;return!1}function setHeadersCss(e,t,i,n){t.removeClass(n[0]).removeClass(n[1]);var s=[];t.each(function(){this.sortDisabled||(s[this.column]=$(this))});for(var r=i.length,o=0;r>o;o++)s[i[o][0]].addClass(n[i[o][1]])}function fixColumnWidth(e){var t=e.config;if(t.widthFixed){var i=$("<colgroup>");$("tr:first td",e.tBodies[0]).each(function(){i.append($("<col>").css("width",$(this).width()))}),$(e).prepend(i)}}function updateHeaderSortCount(e,t){for(var i=e.config,n=t.length,s=0;n>s;s++){var r=t[s],o=i.headerList[r[0]];o.count=r[1],o.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;for(var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length,i=0;l>i;i++){var c=sortList[i][0],order=sortList[i][1],s="text"==table.config.parsers[c].type?0==order?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):0==order?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c),e="e"+i;dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;l>i;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(e,t,i){var n="a["+i+"]",s="b["+i+"]";return"text"==e&&"asc"==t?"("+n+" == "+s+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : ("+n+" < "+s+") ? -1 : 1 )));":"text"==e&&"desc"==t?"("+n+" == "+s+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : ("+s+" < "+n+") ? -1 : 1 )));":"numeric"==e&&"asc"==t?"("+n+" === null && "+s+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : "+n+" - "+s+"));":"numeric"==e&&"desc"==t?"("+n+" === null && "+s+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : "+s+" - "+n+"));":void 0}function makeSortText(e){return"((a["+e+"] < b["+e+"]) ? -1 : ((a["+e+"] > b["+e+"]) ? 1 : 0));"}function makeSortTextDesc(e){return"((b["+e+"] < a["+e+"]) ? -1 : ((b["+e+"] > a["+e+"]) ? 1 : 0));"}function makeSortNumeric(e){return"a["+e+"]-b["+e+"];"}function makeSortNumericDesc(e){return"b["+e+"]-a["+e+"];"}function sortText(e,t){return table.config.sortLocaleCompare?e.localeCompare(t):t>e?-1:e>t?1:0}function sortTextDesc(e,t){return table.config.sortLocaleCompare?t.localeCompare(e):e>t?-1:t>e?1:0}function sortNumeric(e,t){return e-t}function sortNumericDesc(e,t){return t-e}function getCachedSortType(e,t){return e[t].type}var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark,this.construct=function(e){return this.each(function(){if(this.tHead&&this.tBodies){var t,i,n,s;this.config={},s=$.extend(this.config,$.tablesorter.defaults,e),t=$(this),$.data(this,"tablesorter",s),i=buildHeaders(this),this.config.parsers=buildParserCache(this,i),n=buildCache(this);var r=[s.cssDesc,s.cssAsc];fixColumnWidth(this),i.click(function(e){var o=t[0].tBodies[0]&&t[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&o>0){t.trigger("sortStart"),$(this);var a=this.column;if(this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder),e[s.sortMultiSortKey])if(isValueInArray(a,s.sortList))for(var l=0;l<s.sortList.length;l++){var c=s.sortList[l],u=s.headerList[c[0]];c[0]==a&&(u.count=c[1],u.count++,c[1]=u.count%2)}else s.sortList.push([a,this.order]);else{if(s.sortList=[],null!=s.sortForce)for(var d=s.sortForce,l=0;l<d.length;l++)d[l][0]!=a&&s.sortList.push(d[l]);s.sortList.push([a,this.order])}return setTimeout(function(){setHeadersCss(t[0],i,s.sortList,r),appendToTable(t[0],multisort(t[0],s.sortList,n))},1),!1}}).mousedown(function(){return s.cancelSelection?(this.onselectstart=function(){return!1},!1):void 0}),t.bind("update",function(){var e=this;setTimeout(function(){e.config.parsers=buildParserCache(e,i),n=buildCache(e)},1)}).bind("updateCell",function(e,t){var i=this.config,s=[t.parentNode.rowIndex-1,t.cellIndex];n.normalized[s[0]][s[1]]=i.parsers[s[1]].format(getElementText(i,t),t)}).bind("sorton",function(e,t){$(this).trigger("sortStart"),s.sortList=t;var o=s.sortList;updateHeaderSortCount(this,o),setHeadersCss(this,i,o,r),appendToTable(this,multisort(this,o,n))
}).bind("appendCache",function(){appendToTable(this,n)}).bind("applyWidgetId",function(e,t){getWidgetById(t).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(s.sortList=$(this).metadata().sortlist),s.sortList.length>0&&t.trigger("sorton",[s.sortList]),applyWidget(this)}})},this.addParser=function(e){for(var t=parsers.length,i=!0,n=0;t>n;n++)parsers[n].id.toLowerCase()==e.id.toLowerCase()&&(i=!1);i&&parsers.push(e)},this.addWidget=function(e){widgets.push(e)},this.formatFloat=function(e){var t=parseFloat(e);return isNaN(t)?0:t},this.formatInt=function(e){var t=parseInt(e);return isNaN(t)?0:t},this.isDigit=function(e){return/^[-+]?\d*$/.test($.trim(e.replace(/[,.']/g,"")))},this.clearTableBody=function(e){function t(){for(;this.firstChild;)this.removeChild(this.firstChild)}$.browser.msie?t.apply(e.tBodies[0]):e.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(){return!0},format:function(e){return $.trim(e.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(e,t){var i=t.config;return $.tablesorter.isDigit(e,i)},format:function(e){return $.tablesorter.formatFloat(e)},type:"numeric"}),ts.addParser({id:"currency",is:function(e){return/^[£$€?.]/.test(e)},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/[£$€]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(e){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(e)},format:function(e){for(var t=e.split("."),i="",n=t.length,s=0;n>s;s++){var r=t[s];i+=2==r.length?"0"+r:r}return $.tablesorter.formatFloat(i)},type:"numeric"}),ts.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\/$/.test(e)},format:function(e){return jQuery.trim(e.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},format:function(e){return $.tablesorter.formatFloat(""!=e?new Date(e.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(e){return/\%$/.test($.trim(e))},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(e){return e.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(e){return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(e){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(e)},format:function(e,t){var i=t.config;return e=e.replace(/\-/g,"/"),"us"==i.dateFormat?e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2"):"uk"==i.dateFormat?e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):("dd/mm/yy"==i.dateFormat||"dd-mm-yy"==i.dateFormat)&&(e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(e){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(e)},format:function(e){return $.tablesorter.formatFloat(new Date("2000/01/01 "+e).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(){return!1},format:function(e,t,i){var n=t.config,s=n.parserMetadataName?n.parserMetadataName:"sortValue";return $(i).metadata()[s]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(e){if(e.config.debug)var t=new Date;var i,n,s=-1;$("tr:visible",e.tBodies[0]).each(function(){i=$(this),i.hasClass(e.config.cssChildRow)||s++,n=0==s%2,i.removeClass(e.config.widgetZebra.css[n?0:1]).addClass(e.config.widgetZebra.css[n?1:0])}),e.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",t)}})}(jQuery),function(e){e.fn.extend({leanModal:function(t){function i(t){e("#lean_overlay").fadeOut(200),e(t).css({display:"none"})}var n={top:100,overlay:.5,closeButton:null},s=e("<div id='lean_overlay'></div>");return e("body").append(s),t=e.extend(n,t),this.each(function(){var n=t;e(this).click(function(t){var s=e(this).attr("href");e("#lean_overlay").click(function(){i(s)}),e(n.closeButton).click(function(){i(s)}),e(s).outerHeight();var r=e(s).outerWidth();e("#lean_overlay").css({display:"block",opacity:0}),e("#lean_overlay").fadeTo(200,n.overlay),e(s).css({display:"block",position:"fixed",opacity:0,"z-index":11e3,left:"50%","margin-left":-(r/2)+"px",top:n.top+"px"}),e(s).fadeTo(200,1),t.preventDefault()})})}})}(jQuery),function(e){e.fn.extend({counter:function(t){var i={type:"char",count:"down",goal:140,text:!0,msg:""},n="",s="",r=!1,t=e.extend({},i,t),o={init:function(t){var i=t.attr("id"),s=i+"_count";o.isLimitless(),e("<div/>").attr("id",i+"_counter").html("<span id="+s+' class="label label-info" /> '+o.setMsg()).insertAfter(t),n=e("#"+s),o.bind(t)},bind:function(e){e.bind("keypress.counter keydown.counter keyup.counter blur.counter focus.counter change.counter paste.counter",o.updateCounter),e.bind("keydown.counter",o.doStopTyping),e.trigger("keydown")},isLimitless:function(){return"sky"===t.goal?(t.count="up",r=!0):void 0},setMsg:function(){if(""!==t.msg)return t.msg;if(t.text===!1)return"";if(r)return""!==t.msg?t.msg:"";switch(this.text="character word left max".split(" "),this.chars="s ( )".split(" "),this.msg=null,t.type){case"char":t.count===i.count&&t.text?this.msg=this.text[0]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===t.count&&t.text&&(this.msg=this.text[0]+this.chars[0]+" "+this.chars[1]+t.goal+" "+this.text[3]+this.chars[2]);break;case"word":t.count===i.count&&t.text?this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===t.count&&t.text&&(this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.chars[1]+t.goal+" "+this.text[3]+this.chars[2])}return this.msg},getWords:function(t){return""!==t?e.trim(t).replace(/\s+/g," ").split(" ").length:0},updateCounter:function(){var r=e(this);(0>s||s>t.goal)&&o.passedGoal(r),t.type===i.type?t.count===i.count?(s=t.goal-r.val().length,0>=s?n.text("0"):n.text(s)):"up"===t.count&&(s=r.val().length,n.text(s)):"word"===t.type&&(t.count===i.count?(s=o.getWords(r.val()),s<=t.goal?(s=t.goal-s,n.text(s)):n.text("0")):"up"===t.count&&(s=o.getWords(r.val()),n.text(s)))},doStopTyping:function(e){var n=[46,8,9,35,36,37,38,39,40,32];return o.isGoalReached(e)&&e.keyCode!==n[0]&&e.keyCode!==n[1]&&e.keyCode!==n[2]&&e.keyCode!==n[3]&&e.keyCode!==n[4]&&e.keyCode!==n[5]&&e.keyCode!==n[6]&&e.keyCode!==n[7]&&e.keyCode!==n[8]?t.type===i.type?!1:e.keyCode!==n[9]&&e.keyCode!==n[1]&&t.type!=i.type?!0:!1:void 0},isGoalReached:function(e,n){return r?!1:t.count===i.count?(n=0,n>=s?!0:!1):(n=t.goal,s>=n?!0:!1)},wordStrip:function(t,i){var n=i.replace(/\s+/g," ").split(" ").length;return i=e.trim(i),0>=t||t===n?i:(i=e.trim(i).split(" "),i.splice(t,n,""),e.trim(i.join(" ")))},passedGoal:function(e){var i=e.val();"word"===t.type&&e.val(o.wordStrip(t.goal,i)),"char"===t.type&&e.val(i.substring(0,t.goal)),"down"===t.type&&n.val("0"),"up"===t.type&&n.val(t.goal)}};return this.each(function(){o.init(e(this))})}})}(jQuery),function(){$.fn.serializeObject=function(){var e,t;return t={},e=this.serializeArray(),$.each(e,function(){return null==t[this.name]?t[this.name]=this.value||"":null!=this.value?t[this.name]=this.value:void 0}),t}}.call(this),!function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,s,r,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),r=e.childNodes,o=[],n=0,s=r.length;s>n;n++)i=r[n],o.push(this.add_option(i,t,e.disabled));return o},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),e.select_to_array=function(t){var i,n,s,r,o;for(n=new e,o=t.childNodes,s=0,r=o.length;r>s;s++)i=o[s],n.add_node(i);return n.parsed},this.SelectParser=e}.call(this),function(){var e,t;t=this,e=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.result_add_option=function(e){var t,i;return e.dom_id=this.container_id+"_o_"+e.array_index,t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+i+">"+e.html+"</li>"},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.choices_count=function(){var e,t,i,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,n=this.form_field.options,t=0,i=n.length;i>t;t++)e=n[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,i;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=Math.floor(Math.random()*e.length),t=e.substring(i,i+1)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.browser_is_supported=function(){var e;return"Microsoft Internet Explorer"===window.navigator.appName?null!==(e=document.documentMode)&&e>=8:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),t.AbstractChosen=e}.call(this),function(){var e,t,i,n,s={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i=this,e=jQuery,e.fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var n;return n=e(this),n.hasClass("chzn-done")?void 0:n.data("chosen",new t(this,i))}):this}}),t=function(t){function s(){return n=s.__super__.constructor.apply(this,arguments)}return r(s,t),s.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},s.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},s.prototype.set_up_html=function(){var t,i;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",t=["chzn-container"],t.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chzn-rtl"),i={id:this.container_id,"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=e("<div />",i),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},s.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){e.container_mousedown(t)}),this.container.mouseup(function(t){e.container_mouseup(t)}),this.container.mouseenter(function(t){e.mouse_enter(t)}),this.container.mouseleave(function(t){e.mouse_leave(t)}),this.search_results.mouseup(function(t){e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel DOMMouseScroll",function(t){e.search_results_mousewheel(t)}),this.form_field_jq.bind("liszt:updated",function(t){e.results_update_field(t)}),this.form_field_jq.bind("liszt:activate",function(t){e.activate_field(t)}),this.form_field_jq.bind("liszt:open",function(t){e.container_mousedown(t)}),this.search_field.blur(function(t){e.input_blur(t)}),this.search_field.keyup(function(t){e.keyup_checker(t)}),this.search_field.keydown(function(t){e.keydown_checker(t)}),this.search_field.focus(function(t){e.input_focus(t)}),this.is_multiple?this.search_choices.click(function(t){e.choices_click(t)}):this.container.click(function(e){e.preventDefault()})},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},s.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chzn-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},s.prototype.search_results_mousewheel=function(e){var t,i,n;return t=-(null!=(i=e.originalEvent)?i.wheelDelta:void 0)||(null!=(n=e.originialEvent)?n.detail:void 0),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},s.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},s.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){var e,t,n,s,r;for(this.parsing=!0,this.selected_option_count=null,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chzn-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chzn-container-single-nosearch"))),e="",r=this.results_data,n=0,s=r.length;s>n;n++)t=r[n],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},s.prototype.result_add_group=function(t){return t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>"},s.prototype.result_do_highlight=function(e){var t,i,n,s,r;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),s=n+r,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=s)return this.search_results.scrollTop(t-n>0?t-n:0);if(r>i)return this.search_results.scrollTop(i)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",e)):void 0},s.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.click(function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},s.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},s.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},s.prototype.choice_build=function(t){var i,n,s=this;return i=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?i.addClass("search-choice-disabled"):(n=e("<a />",{href:"#","class":"search-choice-close",rel:t.array_index}),n.click(function(e){return s.choice_destroy_link_click(e)}),i.append(n)),this.search_container.before(i)},s.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},s.prototype.choice_destroy=function(e){return this.result_deselect(e.attr("rel"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},s.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(e){var t,i,n,s;return this.result_highlight?(t=this.result_highlight,i=t.attr("id"),this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),s=i.substr(i.lastIndexOf("_")+1),n=this.results_data[s],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):(this.selected_item.find("span").first().text(n.text),this.allow_single_deselect&&this.single_deselect_control_build()),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},s.prototype.result_activate=function(e,t){return t.disabled?e.addClass("disabled-result"):this.is_multiple&&t.selected?e.addClass("result-selected"):e.addClass("active-result")},s.prototype.result_deactivate=function(e){return e.removeClass("active-result result-selected disabled-result")},s.prototype.result_deselect=function(t){var i,n;return n=this.results_data[t],this.form_field.options[n.options_index].disabled?!1:(n.selected=!1,this.form_field.options[n.options_index].selected=!1,this.selected_option_count=null,i=e("#"+this.container_id+"_o_"+t),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[n.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chzn-single-with-deselect")):void 0},s.prototype.winnow_results=function(){var t,i,n,s,r,o,a,l,c,u,d,h,f,p,m,g,v,y;for(this.no_results_clear(),c=0,u=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),o=this.search_contains?"":"^",r=new RegExp(o+u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),f=new RegExp(u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=this.results_data,p=0,g=y.length;g>p;p++)if(i=y[p],!i.empty)if(i.group)e("#"+i.dom_id).css("display","none");else{if(t=!1,l=i.dom_id,a=e("#"+l),r.test(i.html))t=!0,c+=1;else if(this.enable_split_word_search&&(i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(s=i.html.replace(/\[|\]/g,"").split(" "),s.length))for(m=0,v=s.length;v>m;m++)n=s[m],r.test(n)&&(t=!0,c+=1);t?(u.length?(d=i.html.search(f),h=i.html.substr(0,d+u.length)+"</em>"+i.html.substr(d+u.length),h=h.substr(0,d)+"<em>"+h.substr(d)):h=i.html,a.html(h),this.result_activate(a,i),null!=i.group_array_index&&e("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>c&&u.length?this.no_results(u):this.winnow_results_set_highlight()},s.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},s.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i)},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},s.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},s.prototype.search_field_scale=function(){var t,i,n,s,r,o,a,l;if(this.is_multiple){for(i=0,o=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=r.length;l>a;a++)n=r[a],s+=n+":"+this.search_field.css(n)+";";return t=e("<div />",{style:s}),t.text(this.search_field.val()),e("body").append(t),o=t.width()+25,t.remove(),this.f_width||(this.f_width=this.container.outerWidth()),o>this.f_width-10&&(o=this.f_width-10),this.search_field.css({width:o+"px"})}},s.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},s}(AbstractChosen),i.Chosen=t}.call(this),/*
 * jQuery timepicker addon
 * By: Trent Richardson [http://trentrichardson.com]
 * Version 1.1.2
 * Last Modified: 01/19/2013
 *
 * Copyright 2012 Trent Richardson
 * You may use this project under MIT or GPL licenses.
 * http://trentrichardson.com/Impromptu/GPL-LICENSE.txt
 * http://trentrichardson.com/Impromptu/MIT-LICENSE.txt
 */
function($){function Timepicker(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"},$.extend(this._defaults,this.regional[""])}if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.1.2"}}),$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec"],control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}overrides={beforeShow:function(e,t){return $.isFunction(tp_inst._defaults.evnts.beforeShow)?tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst):void 0},onChangeMonthYear:function(e,t,i){tp_inst._updateDateTime(i),$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,i,tp_inst)},onClose:function(e,t){tp_inst.timeDefined===!0&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=o[i]||null);if(tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()}),"string"==typeof tp_inst._defaults.controlType?(void 0===$.fn[tp_inst._defaults.controlType]&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType,null===tp_inst._defaults.timezoneList){var timezoneList=["-1200","-1100","-1000","-0930","-0900","-0800","-0700","-0600","-0500","-0430","-0400","-0330","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0330","+0400","+0430","+0500","+0530","+0545","+0600","+0630","+0700","+0800","+0845","+0900","+0930","+1000","+1030","+1100","+1130","+1200","+1245","+1300","+1400"];tp_inst._defaults.timezoneIso8601&&(timezoneList=$.map(timezoneList,function(e){return"+0000"==e?"Z":e.substring(0,3)+":"+e.substring(3)})),tp_inst._defaults.timezoneList=timezoneList}return tp_inst.timezone=tp_inst._defaults.timezone,tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),(0===tp_inst._defaults.minDate||0===tp_inst._defaults.minDateTime)&&(tp_inst._defaults.minDate=new Date),(0===tp_inst._defaults.maxDate||0===tp_inst._defaults.maxDateTime)&&(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(e){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var n=parseDateTimeInternal(i,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!n.timeObj)return!1;$.extend(this,n.timeObj)}catch(s){return $.datepicker.log("Error parsing the date/time string: "+s+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var r=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return r?($.extend(this,r),!0):!1},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,i=this,n="",s="",r={},o={},a=null;if(0===e.find("div.ui-timepicker-div").length&&t.showTimepicker){for(var l=' style="display:none;"',c='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+'"><dl>'+'<dt class="ui_tpicker_time_label"'+(t.showTime?"":l)+">"+t.timeText+"</dt>"+'<dd class="ui_tpicker_time"'+(t.showTime?"":l)+"></dd>",u=0,d=this.units.length;d>u;u++){if(n=this.units[u],s=n.substr(0,1).toUpperCase()+n.substr(1),r[n]=parseInt(t[n+"Max"]-(t[n+"Max"]-t[n+"Min"])%t["step"+s],10),o[n]=0,c+='<dt class="ui_tpicker_'+n+'_label"'+(t["show"+s]?"":l)+">"+t[n+"Text"]+"</dt>"+'<dd class="ui_tpicker_'+n+'"><div class="ui_tpicker_'+n+'_slider"'+(t["show"+s]?"":l)+"></div>",t["show"+s]&&t[n+"Grid"]>0){if(c+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"==n)for(var h=t[n+"Min"];h<=r[n];h+=parseInt(t[n+"Grid"],10)){o[n]++;var f=$.datepicker.formatTime(useAmpm(t.pickerTimeFormat||t.timeFormat)?"hht":"HH",{hour:h},t);c+='<td data-for="'+n+'">'+f+"</td>"}else for(var p=t[n+"Min"];p<=r[n];p+=parseInt(t[n+"Grid"],10))o[n]++,c+='<td data-for="'+n+'">'+(10>p?"0":"")+p+"</td>";c+="</tr></table></div>"}c+="</dd>"}c+='<dt class="ui_tpicker_timezone_label"'+(t.showTimezone?"":l)+">"+t.timezoneText+"</dt>",c+='<dd class="ui_tpicker_timezone" '+(t.showTimezone?"":l)+"></dd>",c+="</dl></div>";var m=$(c);t.timeOnly===!0&&(m.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div>"+"</div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide());for(var u=0,d=i.units.length;d>u;u++)n=i.units[u],s=n.substr(0,1).toUpperCase()+n.substr(1),i[n+"_slider"]=i.control.create(i,m.find(".ui_tpicker_"+n+"_slider"),n,i[n],t[n+"Min"],r[n],t["step"+s]),t["show"+s]&&t[n+"Grid"]>0&&(a=100*o[n]*t[n+"Grid"]/(r[n]-t[n+"Min"]),m.find(".ui_tpicker_"+n+" table").css({width:a+"%",marginLeft:t.isRTL?"0":a/(-2*o[n])+"%",marginRight:t.isRTL?a/(-2*o[n])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(){var e=$(this),t=e.html(),s=parseInt(t.replace(/[^0-9]/g),10),r=t.replace(/[^apm]/gi),o=e.data("for");"hour"==o&&(-1!==r.indexOf("p")&&12>s?s+=12:-1!==r.indexOf("a")&&12===s&&(s=0)),i.control.value(i,i[o+"_slider"],n,s),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/o[n]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=m.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e){return $("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)})),"undefined"!=typeof this.timezone&&null!==this.timezone&&""!==this.timezone){var g=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12),v=$.timepicker.timeZoneOffsetString(g);v==this.timezone?selectLocalTimeZone(i):this.timezone_select.val(this.timezone)}else"undefined"!=typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.defaultTimezone):selectLocalTimeZone(i);this.timezone_select.change(function(){i._defaults.useLocalTimezone=!1,i._onTimeChange(),i._onSelectHandler()});var y=e.find(".ui-datepicker-buttonpane");if(y.length?y.before(m):e.append(m),this.$timeObj=m.find(".ui_tpicker_time"),null!==this.inst){var b=this.timeDefined;this._onTimeChange(),this.timeDefined=b}if(this._defaults.addSliderAccess){var _=this._defaults.sliderAccessArgs,w=this._defaults.isRTL;_.isRTL=w,setTimeout(function(){if(0===m.find(".ui-slider-access").length){m.find(".ui-slider:visible").sliderAccess(_);var e=m.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&m.find("table:visible").each(function(){var t=$(this),i=t.outerWidth(),n=t.css(w?"marginRight":"marginLeft").toString().replace("%",""),s=i-e,r=n*s/i+"%",o={width:s,marginRight:0,marginLeft:0};o[w?"marginRight":"marginLeft"]=r,t.css(o)})}},10)}}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,n=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&n){var s=$.datepicker._get(e,"minDateTime"),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0);(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal)&&(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin),e.settings.timeOnly||r.getTime()==n.getTime()?(this._defaults.hourMin=s.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=s.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=s.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=s.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&n){var o=$.datepicker._get(e,"maxDateTime"),a=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0);(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||null===this.secondMaxOriginal)&&(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax),e.settings.timeOnly||a.getTime()==n.getTime()?(this._defaults.hourMax=o.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=o.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=o.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=o.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)}if(void 0!==t&&t===!0){var l=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),u=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),d=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:l}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:c}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:u}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:d}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec))}}},_onTimeChange:function(){var e=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,t=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,i=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,n=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,s=this.timezone_select?this.timezone_select.val():!1,r=this._defaults,o=r.pickerTimeFormat||r.timeFormat,a=r.pickerTimeSuffix||r.timeSuffix;"object"==typeof e&&(e=!1),"object"==typeof t&&(t=!1),"object"==typeof i&&(i=!1),"object"==typeof n&&(n=!1),"object"==typeof s&&(s=!1),e!==!1&&(e=parseInt(e,10)),t!==!1&&(t=parseInt(t,10)),i!==!1&&(i=parseInt(i,10)),n!==!1&&(n=parseInt(n,10));var l=r[12>e?"amNames":"pmNames"][0],c=e!=this.hour||t!=this.minute||i!=this.second||n!=this.millisec||this.ampm.length>0&&12>e!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null===this.timezone&&s!=this.defaultTimezone||null!==this.timezone&&s!=this.timezone;c&&(e!==!1&&(this.hour=e),t!==!1&&(this.minute=t),i!==!1&&(this.second=i),n!==!1&&(this.millisec=n),s!==!1&&(this.timezone=s),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),useAmpm(r.timeFormat)&&(this.ampm=l),this.formattedTime=$.datepicker.formatTime(r.timeFormat,this,r),this.$timeObj&&(o===r.timeFormat?this.$timeObj.text(this.formattedTime+a):this.$timeObj.text($.datepicker.formatTime(o,this,r)+a)),this.timeDefined=!0,c&&this._updateDateTime()},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){e=this.inst||e;var t=$.datepicker._daylightSavingAdjust(new Date(e.selectedYear,e.selectedMonth,e.selectedDay)),i=$.datepicker._get(e,"dateFormat"),n=$.datepicker._getFormatConfig(e),s=null!==t&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(i,null===t?new Date:t,n);var r=this.formattedDate;if(this._defaults.timeOnly===!0?r=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||s)&&(r+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=r,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(r);var o="",a=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,l=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;o=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===t?new Date:t,n):this.formattedDate,o&&(o+=a),o+=this._defaults.altTimeFormat?$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+l:this.formattedTime+l,this.$altInput.val(o)}else this.$input.val(r);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!=e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(i){$.datepicker.log(i)}}},_controls:{slider:{create:function(e,t,i,n,s,r,o){var a=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:a?-1*n:n,min:a?-1*r:s,max:a?-1*s:r,step:o,slide:function(t,n){e.control.value(e,$(this),i,a?-1*n.value:n.value),e._onTimeChange()},stop:function(){e._onSelectHandler()}})},options:function(e,t,i,n,s){if(e._defaults.isRTL){if("string"==typeof n)return"min"==n||"max"==n?void 0!==s?t.slider(n,-1*s):Math.abs(t.slider(n)):t.slider(n);var r=n.min,o=n.max;return n.min=n.max=null,void 0!==r&&(n.max=-1*r),void 0!==o&&(n.min=-1*o),t.slider(n)}return"string"==typeof n&&void 0!==s?t.slider(n,s):t.slider(n)},value:function(e,t,i,n){return e._defaults.isRTL?void 0!==n?t.slider("value",-1*n):Math.abs(t.slider("value")):void 0!==n?t.slider("value",n):t.slider("value")}},select:{create:function(e,t,i,n,s,r,o){var a='<select class="ui-timepicker-select" data-unit="'+i+'" data-min="'+s+'" data-max="'+r+'" data-step="'+o+'">';-1!==e._defaults.timeFormat.indexOf("t")?"toLowerCase":"toUpperCase";for(var l=s;r>=l;l+=o)a+='<option value="'+l+'"'+(l==n?" selected":"")+">",a+="hour"==i&&useAmpm(e._defaults.pickerTimeFormat||e._defaults.timeFormat)?$.datepicker.formatTime("hh TT",{hour:l},e._defaults):"millisec"==i||l>=10?l:"0"+l.toString(),a+="</option>";return a+="</select>",t.children("select").remove(),$(a).appendTo(t).change(function(){e._onTimeChange(),e._onSelectHandler()}),t},options:function(e,t,i,n,s){var r={},o=t.children("select");if("string"==typeof n){if(void 0===s)return o.data(n);r[n]=s}else r=n;return e.control.create(e,t,o.data("unit"),o.val(),r.min||o.data("min"),r.max||o.data("max"),r.step||o.data("step"))},value:function(e,t,i,n){var s=t.children("select");return void 0!==n?s.val(n):s.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return"object"==typeof e&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(e){e=e||{};var t=arguments;return"string"==typeof e?"getDate"==e?$.fn.datepicker.apply($(this[0]),t):this.each(function(){var e=$(this);e.datepicker.apply(e,t)}):this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)})}}),$.datepicker.parseDateTime=function(e,t,i,n,s){var r=parseDateTimeInternal(e,t,i,n,s);if(r.timeObj){var o=r.timeObj;r.date.setHours(o.hour,o.minute,o.second,o.millisec)}return r.date},$.datepicker.parseTime=function(e,t,i){var n=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),s=function(e,t,i){var n,s=function(e,t){var i=[];return e&&$.merge(i,e),t&&$.merge(i,t),i=$.map(i,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+i.join("|")+")?"},r=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(t)for(var n=0;n<t.length;n++)-1==i[t[n].toString().charAt(0)]&&(i[t[n].toString().charAt(0)]=n+1);return i},o="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g,function(e){var t=e.length;switch(e.charAt(0).toLowerCase()){case"h":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"m":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"s":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"l":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return s(i.amNames,i.pmNames);default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+i.timeSuffix+"$",a=r(e),l="";n=t.match(new RegExp(o,"i"));var c={hour:0,minute:0,second:0,millisec:0};if(n){if(-1!==a.t&&(void 0===n[a.t]||0===n[a.t].length?(l="",c.ampm=""):(l=-1!==$.inArray(n[a.t].toUpperCase(),i.amNames)?"AM":"PM",c.ampm=i["AM"==l?"amNames":"pmNames"][0])),-1!==a.h&&(c.hour="AM"==l&&"12"==n[a.h]?0:"PM"==l&&"12"!=n[a.h]?parseInt(n[a.h],10)+12:Number(n[a.h])),-1!==a.m&&(c.minute=Number(n[a.m])),-1!==a.s&&(c.second=Number(n[a.s])),-1!==a.l&&(c.millisec=Number(n[a.l])),-1!==a.z&&void 0!==n[a.z]){var u=n[a.z].toUpperCase();switch(u.length){case 1:u=i.timezoneIso8601?"Z":"+0000";break;case 5:i.timezoneIso8601&&(u="0000"==u.substring(1)?"Z":u.substring(0,3)+":"+u.substring(3));break;case 6:i.timezoneIso8601?"00:00"==u.substring(1)&&(u="Z"):u="Z"==u||"00:00"==u.substring(1)?"+0000":u.replace(/:/,"")}c.timezone=u}return c}return!1},r=function(e,t,i){try{var n=new Date("2012-01-01 "+t);if(isNaN(n.getTime())&&(n=new Date("2012-01-01T"+t),isNaN(n.getTime())&&(n=new Date("01/01/2012 "+t),isNaN(n.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisec:n.getMilliseconds(),timezone:$.timepicker.timeZoneOffsetString(n)}}catch(r){try{return s(e,t,i)}catch(o){$.datepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return!1};return"function"==typeof n.parse?n.parse(e,t,n):"loose"===n.parse?r(e,t,n):s(e,t,n)},$.datepicker.formatTime=function(e,t,i){i=i||{},i=$.extend({},$.timepicker._defaults,i),t=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},t);var n=e,s=i.amNames[0],r=parseInt(t.hour,10);return r>11&&(s=i.pmNames[0]),n=n.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[lz]|('.*?'|".*?"))/g,function(e){switch(e){case"HH":return("0"+r).slice(-2);case"H":return r;case"hh":return("0"+convert24to12(r)).slice(-2);case"h":return convert24to12(r);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"z":return null===t.timezone?i.defaultTimezone:t.timezone;case"T":return s.charAt(0).toUpperCase();case"TT":return s.toUpperCase();case"t":return s.charAt(0).toLowerCase();case"tt":return s.toLowerCase();default:return e.replace(/\'/g,"")||"'"}}),n=$.trim(n)},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var i=this._getInst($(e)[0]),n=this._get(i,"timepicker");n?(n._limitMinMaxDateTime(i,!0),i.inline=i.stay_open=!0,this._base_selectDate(e,t),i.inline=i.stay_open=!1,this._notifyChange(i),this._updateDatepicker(i)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!=e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t||"boolean"==typeof e.stay_open&&e.stay_open!==!1)){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");i&&i._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&$.datepicker._get(t,"constrainInput")){var n=useAmpm(i._defaults.timeFormat),s=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,n?"APM":"").replace(/Tt/g,n?"AaPpMm":"").replace(/tT/g,n?"AaPpMm":"").replace(/T/g,n?"AP":"").replace(/tt/g,n?"apm":"").replace(/t/g,n?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(i._defaults.showTimezone?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+s,o=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||" ">o||!s||r.indexOf(o)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var i=t._defaults.altField;if(i){var n=(t._defaults.altFormat||t._defaults.dateFormat,this._getDate(e)),s=$.datepicker._getFormatConfig(e),r="",o=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,a=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,l=null!==t._defaults.altTimeFormat?t._defaults.altTimeFormat:t._defaults.timeFormat;r+=$.datepicker.formatTime(l,t,t._defaults)+a,t._defaults.timeOnly||t._defaults.altFieldTimeOnly||null===n||(r=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,n,s)+o+r:t.formattedDate+o+r),$(i).val(r)}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!=t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(n){$.datepicker.log(n)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]),i=t.dpDiv;this._base_gotoToday(e);var n=this._get(t,"timepicker");selectLocalTimeZone(n);var s=new Date;this._setTime(t,s),$(".ui-datepicker-today",i).click()},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(i._defaults.showTimepicker=!1,i._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(i._defaults.showTimepicker=!0,i._addTimePicker(t),i._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var n=i._defaults;i.hour=t?t.getHours():n.hour,i.minute=t?t.getMinutes():n.minute,i.second=t?t.getSeconds():n.second,i.millisec=t?t.getMilliseconds():n.millisec,i._limitMinMaxDateTime(e,!0),i._onTimeChange(),i._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,i){var n=this._getInst(e);if(n){var s=this._get(n,"timepicker");if(s){this._setDateFromField(n);var r;t&&("string"==typeof t?(s._parseTime(t,i),r=new Date,r.setHours(s.hour,s.minute,s.second,s.millisec)):r=new Date(t.getTime()),"Invalid Date"==r.toString()&&(r=void 0),this._setTime(n,r))}}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var n=t instanceof Date?new Date(t.getTime()):t;this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,n,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var n=this._get(i,"timepicker");if(n){void 0===i.lastVal&&this._setDateFromField(i,t);var s=this._getDate(i);return s&&n._parseTime($(e).val(),n.timeOnly)&&s.setHours(n.hour,n.minute,n.second,n.millisec),s}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,i){var n;try{n=this._base_parseDate(e,t,i)}catch(s){n=this._base_parseDate(e,t.substring(0,t.length-(s.length-s.indexOf(":")-2)),i),$.datepicker.log("Error parsing the date string: "+s+"\ndate string = "+t+"\ndate format = "+e)}return n},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e){var t=this._get(e,"timepicker");return t?(t._updateDateTime(e),t.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,i){var n,s=this._getInst(e);if(!s)return null;var r=this._get(s,"timepicker");if(r){var o,a=null,l=null,c=null,u=r._defaults.evnts,d={};if("string"==typeof t){if("minDate"===t||"minDateTime"===t)a=i;else if("maxDate"===t||"maxDateTime"===t)l=i;else if("onSelect"===t)c=i;else if(u.hasOwnProperty(t)){if("undefined"==typeof i)return u[t];d[t]=i,n={}}}else if("object"==typeof t){t.minDate?a=t.minDate:t.minDateTime?a=t.minDateTime:t.maxDate?l=t.maxDate:t.maxDateTime&&(l=t.maxDateTime);for(o in u)u.hasOwnProperty(o)&&t[o]&&(d[o]=t[o])}for(o in d)d.hasOwnProperty(o)&&(u[o]=d[o],n||(n=$.extend({},t)),delete n[o]);if(n&&isEmptyObject(n))return;a?(a=0===a?new Date:new Date(a),r._defaults.minDate=a,r._defaults.minDateTime=a):l?(l=0===l?new Date:new Date(l),r._defaults.maxDate=l,r._defaults.maxDateTime=l):c&&(r._defaults.onSelect=c)}return void 0===i?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,n||t,i)};var isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(e))return!1;return!0},extendRemove=function(e,t){$.extend(e,t);for(var i in t)(null===t[i]||void 0===t[i])&&(e[i]=t[i]);return e},useAmpm=function(e){return-1!==e.indexOf("t")&&-1!==e.indexOf("h")},convert24to12=function(e){return e>12&&(e-=12),0==e&&(e=12),String(e)},splitDateTime=function(e,t,i,n){try{var s=n&&n.separator?n.separator:$.timepicker._defaults.separator,r=n&&n.timeFormat?n.timeFormat:$.timepicker._defaults.timeFormat,o=r.split(s),a=o.length,l=t.split(s),c=l.length;if(c>1)return[l.splice(0,c-a).join(s),l.splice(0,a).join(s)]}catch(u){if($.datepicker.log("Could not split the date from the time. Please check the following datetimepicker options\nthrown error: "+u+"\ndateTimeString"+t+"\ndateFormat = "+e+"\nseparator = "+n.separator+"\ntimeFormat = "+n.timeFormat),u.indexOf(":")>=0){var d=t.length-(u.length-u.indexOf(":")-2);return t.substring(d),[$.trim(t.substring(0,d)),$.trim(t.substring(d))]}throw u}return[t,""]},parseDateTimeInternal=function(e,t,i,n,s){var r,o=splitDateTime(e,i,n,s);if(r=$.datepicker._base_parseDate(e,o[0],n),""!==o[1]){var a=o[1],l=$.datepicker.parseTime(t,a,s);if(null===l)throw"Wrong time format";return{date:r,timeObj:l}}return{date:r}},selectLocalTimeZone=function(e,t){if(e&&e.timezone_select){e._defaults.useLocalTimezone=!0;var i="undefined"!=typeof t?t:new Date,n=$.timepicker.timeZoneOffsetString(i);e._defaults.timezoneIso8601&&(n=n.substring(0,3)+":"+n.substring(3)),e.timezone_select.val(n)}};$.timepicker=new Timepicker,$.timepicker.timeZoneOffsetString=function(e){var t=-1*e.getTimezoneOffset(),i=t%60,n=(t-i)/60;return(t>=0?"+":"-")+("0"+(101*n).toString()).slice(-2)+("0"+(101*i).toString()).slice(-2)},$.timepicker.timeRange=function(e,t,i){return $.timepicker.handleRange("timepicker",e,t,i)},$.timepicker.dateTimeRange=function(e,t,i){$.timepicker.dateRange(e,t,i,"datetimepicker")},$.timepicker.dateRange=function(e,t,i,n){n=n||"datepicker",$.timepicker.handleRange(n,e,t,i)},$.timepicker.handleRange=function(e,t,i,n){function s(e,n,s){n.val()&&new Date(t.val())>new Date(i.val())&&n.val(s)}function r(t,i,n){if($(t).val()){var s=$(t)[e].call($(t),"getDate");s.getTime&&$(i)[e].call($(i),"option",n,s)
}}return $.fn[e].call(t,$.extend({onClose:function(e){s(this,i,e)},onSelect:function(){r(this,i,"minDate")}},n,n.start)),$.fn[e].call(i,$.extend({onClose:function(e){s(this,t,e)},onSelect:function(){r(this,t,"maxDate")}},n,n.end)),"timepicker"!=e&&n.reformat&&$([t,i]).each(function(){var t=$(this)[e].call($(this),"option","dateFormat"),i=new Date($(this).val());$(this).val()&&i&&$(this).val($.datepicker.formatDate(t,i))}),s(t,i,t.val()),r(t,i,"minDate"),r(i,t,"maxDate"),$([t.get(0),i.get(0)])},$.timepicker.version="1.1.2"}}(jQuery),/*!
 * jQuery UI Touch Punch 0.2.2 + patches
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t=window.pageXOffset,i=window.pageYOffset,n=e.clientX,s=e.clientY;return 0===e.pageY&&Math.floor(s)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(n)>Math.floor(e.pageX)?(n-=t,s-=i):(s<e.pageY-i||n<e.pageX-t)&&(n=e.pageX-t,s=e.pageY-i),{clientX:n,clientY:s}}function i(e,i){if(!(!n&&e.originalEvent.touches&&e.originalEvent.touches.length>1||n&&!e.isPrimary)){e.preventDefault();var s;s=n?e.originalEvent:e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e,simulatedEvent=document.createEvent("MouseEvents"),coord=t(s),simulatedEvent.initMouseEvent(i,!0,!0,window,1,s.screenX,s.screenY,coord.clientX,coord.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(simulatedEvent)}}var n=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;if(e.support.touch=e.support.touch||("undefined"!=typeof Modernizr?Modernizr.touch:"ontouchend"in document||"createTouch"in document||n),e.support.touch||navigator.msPointerEnabled){var s,r=e.ui.mouse.prototype,o=r._mouseInit;r._touchStart=function(e){var t=this;s||!n&&!t._mouseCapture(e.originalEvent.changedTouches[0])||(s=!0,t._touchMoved=!1,i(e,"mouseover"),i(e,"mousemove"),i(e,"mousedown"))},r._touchMove=function(e){s&&(this._touchMoved=!0,i(e,"mousemove"))},r._touchEnd=function(e){s&&(i(e,"mouseup"),i(e,"mouseout"),this._touchMoved||i(e,"click"),s=!1)},r._mouseInit=function(){var t=this;t.element.off("touchstart").off("touchmove").off("touchend"),n?t.element.on("pointerDown",e.proxy(t,"_touchStart")).on("pointerMove",e.proxy(t,"_touchMove")).on("pointerUp",e.proxy(t,"_touchEnd")).on("MSPointerDown",e.proxy(t,"_touchStart")).on("MSPointerMove",e.proxy(t,"_touchMove")).on("MSPointerUp",e.proxy(t,"_touchEnd")):(t.element.on(navigator.msPointerEnabled?"MSPointerDown":"touchstart",e.proxy(t,"_touchStart")).on(navigator.msPointerEnabled?"MSPointerMove":"touchmove",e.proxy(t,"_touchMove")).on(navigator.msPointerEnabled?"MSPointerUp":"touchend",e.proxy(t,"_touchEnd")),t.element.css({msTouchAction:"none"})),o.call(t)}}}),!function(e){function t(t,i,n){var s=t[i];s&&(t[i]=function(){return arguments[n]=arguments[n].replace(/@([\w\u00c0-\uFFFF\-]+)/g,'[role~="$1"]'),s.apply(t,arguments)},e.extend(t[i],s))}function i(t,i){for(var n,s=[],r=e.trim(t).split(/\s+/),o=0;o<r.length;o++)n=r[o],~e.inArray(n,s)||i&&~e.inArray(n,i)||s.push(n);return s}t(e,"find",0),t(e,"multiFilter",0),t(e.find,"matchesSelector",1),t(e.find,"matches",0),e.extend(e.fn,{roles:function(){return i(this.attr("role"))},hasRole:function(e){for(var t=i(e),n=0;n<t.length;n++)if(!this.is("@"+t[n]))return!1;return!0},addRole:function(t){return this.hasRole(t)?this:this.each(function(n,s){var r=e(s);r.attr("role",i(r.attr("role")+" "+t).join(" "))})},removeRole:function(t){return this.hasRole(t)?this.each(function(n,s){var r=e(s);r.attr("role",i(r.attr("role"),i(t)).join(" "))}):this},toggleRole:function(e){for(var t=i(e),n=0;n<t.length;n++)this[this.hasRole(t[n])?"removeRole":"addRole"].call(this,t[n]);return this}})}(jQuery),function(e,t,i){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}(function(n){function s(i){m={pageX:i.pageX,pageY:i.pageY,type:"mousemove",scrollX:e.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}}function r(e){var t=function(e){return e===b||"object"!=typeof e},i=function(e){return!n.isFunction(e)&&(!e&&!e.attr||e.length<1||"object"==typeof e&&!e.jquery&&!e.then)};return e&&"object"==typeof e?(t(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&((t(e.content)||e.content.jquery)&&(e.content={text:e.content}),i(e.content.text||y)&&(e.content.text=y),"title"in e.content&&(t(e.content.title)&&(e.content.title={text:e.content.title}),i(e.content.title.text||y)&&(e.content.title.text=y))),"position"in e&&t(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&t(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===v?{ready:v}:{event:e.show}),"hide"in e&&t(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&t(e.style)&&(e.style={classes:e.style}),n.each(p,function(){this.sanitize&&this.sanitize(e)}),e):y}function o(i,o,a,l){function c(e){for(var t,i=0,n=o,s=e.split(".");n=n[s[i++]];)i<s.length&&(t=n);return[t||o,s.pop()]}function u(e){return O.concat("").join(e?"-"+e+" ":" ")}function d(){var e=o.style.widget,t=X.hasClass(Q);X.removeClass(Q),Q=e?"ui-state-disabled":"qtip-disabled",X.toggleClass(Q,t),X.toggleClass("ui-helper-reset "+u(),e).toggleClass(L,o.style.def&&!e),B.content&&B.content.toggleClass(u("content"),e),B.titlebar&&B.titlebar.toggleClass(u("header"),e),B.button&&B.button.toggleClass(A+"-icon",!e)}function h(e){B.title&&(B.titlebar.remove(),B.titlebar=B.title=B.button=b,e!==y&&U.reposition())}function _(){var e=o.content.title.button,t="string"==typeof e,i=t?e:"Close tooltip";B.button&&B.button.remove(),B.button=e.jquery?e:n("<a />",{"class":"qtip-close "+(o.style.widget?"":A+"-icon"),title:i,"aria-label":i}).prepend(n("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),B.button.appendTo(B.titlebar||X).attr("role","button").click(function(e){return X.hasClass(Q)||U.hide(e),y})}function w(){var e=V+"-title";B.titlebar&&h(),B.titlebar=n("<div />",{"class":A+"-titlebar "+(o.style.widget?u("header"):"")}).append(B.title=n("<div />",{id:e,"class":A+"-title","aria-atomic":v})).insertBefore(B.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){n(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){n(this).toggleClass("ui-state-hover","mouseover"===e.type)}),o.content.title.button&&_()}function x(e){var t=B.button;return U.rendered?(e?_():t.remove(),void 0):y}function C(e,t){var s=B.title;return U.rendered&&e?(n.isFunction(e)&&(e=e.call(i,q.event,U)),e===y||!e&&""!==e?h(y):(e.jquery&&e.length>0?s.empty().append(e.css({display:"block"})):s.html(e),t!==y&&U.rendered&&X[0].offsetWidth>0&&U.reposition(q.event),void 0)):y}function E(e){e&&n.isFunction(e.done)&&e.done(function(e){I(e,null,y)})}function I(e,t,s){function r(e){function t(t){t.src!==N&&-1===n.inArray(t,r)&&(r.push(t),n.data(t,"imagesLoaded",{src:t.src}),s.length===r.length&&(setTimeout(e),s.unbind(".imagesLoaded")))}var i=n(this),s=i.find("img").add(i.filter("img")),r=[];return s.length?(s.bind("load.imagesLoaded error.imagesLoaded",function(){t(event.target)}).each(function(e,i){var s=i.src,r=n.data(i,"imagesLoaded");r&&r.src===s||i.complete&&i.naturalWidth?t(i):(i.readyState||i.complete)&&(i.src=N,i.src=s)}),void 0):e()}var a=B.content;return U.rendered&&e?(n.isFunction(e)&&(e=e.call(i,q.event,U)||""),s!==y&&E(o.content.deferred),e.jquery&&e.length>0?a.empty().append(e.css({display:"block"})):a.html(e),U.rendered<0?X.queue("fx",r):(G=0,r.call(X[0],n.noop)),U):y}function H(){function r(e){if(X.hasClass(Q))return y;clearTimeout(U.timers.show),clearTimeout(U.timers.hide);var t=function(){U.toggle(v,e)};o.show.delay>0?U.timers.show=setTimeout(t,o.show.delay):t()}function l(e){if(X.hasClass(Q)||Y||G)return y;var t=n(e.relatedTarget),i=t.closest(R)[0]===X[0],s=t[0]===h.show[0];if(clearTimeout(U.timers.show),clearTimeout(U.timers.hide),this!==t[0]&&"mouse"===d.target&&i||o.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(i||s))try{e.preventDefault(),e.stopImmediatePropagation()}catch(r){}else o.hide.delay>0?U.timers.hide=setTimeout(function(){U.hide(e)},o.hide.delay):U.hide(e)}function c(e){return X.hasClass(Q)?y:(clearTimeout(U.timers.inactive),U.timers.inactive=setTimeout(function(){U.hide(e)},o.hide.inactive),void 0)}function u(e){U.rendered&&X[0].offsetWidth>0&&U.reposition(e)}var d=o.position,h={show:o.show.target,hide:o.hide.target,viewport:n(d.viewport),document:n(t),body:n(t.body),window:n(e)},g={show:n.trim(""+o.show.event).split(" "),hide:n.trim(""+o.hide.event).split(" ")};6===p.ie,X.bind("mouseenter"+K+" mouseleave"+K,function(e){var t="mouseenter"===e.type;t&&U.focus(e),X.toggleClass(z,t)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&h.document.bind("mouseout"+K+" blur"+K,function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||U.hide(e)}),o.hide.fixed?(h.hide=h.hide.add(X),X.bind("mouseover"+K,function(){X.hasClass(Q)||clearTimeout(U.timers.hide)})):/mouse(over|enter)/i.test(o.show.event)&&h.hide.bind("mouseleave"+K,function(){clearTimeout(U.timers.show)}),(""+o.hide.event).indexOf("unfocus")>-1&&d.container.closest("html").bind("mousedown"+K+" touchstart"+K,function(e){var t=n(e.target),s=U.rendered&&!X.hasClass(Q)&&X[0].offsetWidth>0,r=t.parents(R).filter(X[0]).length>0;t[0]===i[0]||t[0]===X[0]||r||i.has(t[0]).length||!s||U.hide(e)}),"number"==typeof o.hide.inactive&&(h.show.bind("qtip-"+a+"-inactive",c),n.each(f.inactiveEvents,function(e,t){h.hide.add(B.tooltip).bind(t+K+"-inactive",c)})),n.each(g.hide,function(e,t){var i=n.inArray(t,g.show),s=n(h.hide);i>-1&&s.add(h.show).length===s.length||"unfocus"===t?(h.show.bind(t+K,function(e){X[0].offsetWidth>0?l(e):r(e)}),delete g.show[i]):h.hide.bind(t+K,l)}),n.each(g.show,function(e,t){h.show.bind(t+K,r)}),"number"==typeof o.hide.distance&&h.show.add(X).bind("mousemove"+K,function(e){var t=q.origin||{},i=o.hide.distance,n=Math.abs;(n(e.pageX-t.pageX)>=i||n(e.pageY-t.pageY)>=i)&&U.hide(e)}),"mouse"===d.target&&(h.show.bind("mousemove"+K,s),d.adjust.mouse&&(o.hide.event&&(X.bind("mouseleave"+K,function(e){(e.relatedTarget||e.target)!==h.show[0]&&U.hide(e)}),B.target.bind("mouseenter"+K+" mouseleave"+K,function(e){q.onTarget="mouseenter"===e.type})),h.document.bind("mousemove"+K,function(e){U.rendered&&q.onTarget&&!X.hasClass(Q)&&X[0].offsetWidth>0&&U.reposition(e||m)}))),(d.adjust.resize||h.viewport.length)&&(n.event.special.resize?h.viewport:h.window).bind("resize"+K,u),d.adjust.scroll&&h.window.add(d.container).bind("scroll"+K,u)}function W(){var i=[o.show.target[0],o.hide.target[0],U.rendered&&B.tooltip[0],o.position.container[0],o.position.viewport[0],o.position.container.closest("html")[0],e,t];U.rendered?n([]).pushStack(n.grep(i,function(e){return"object"==typeof e})).unbind(K):o.show.target.unbind(K+"-create")}var B,q,U=this,V=(t.body,A+"-"+a),Y=0,G=0,X=n(),K=".qtip-"+a,Q="qtip-disabled";U.id=a,U.rendered=y,U.destroyed=y,U.elements=B={target:i},U.timers={img:{}},U.options=o,U.checks={},U.plugins={},U.cache=q={event:{},target:n(),disabled:y,attr:l,onTarget:y,lastClass:""},U.checks.builtin={"^id$":function(e,t,i){var s=i===v?f.nextid:i,r=A+"-"+s;s!==y&&s.length>0&&!n("#"+r).length&&(X[0].id=r,B.content[0].id=r+"-content",B.title[0].id=r+"-title")},"^content.text$":function(){I(o.content.text)},"^content.deferred$":function(){E(o.content.deferred)},"^content.title.text$":function(e,t,i){return i?(!B.title&&i&&w(),C(i),void 0):h()},"^content.title.button$":function(e,t,i){x(i)},"^position.(my|at)$":function(e,t,i){"string"==typeof i&&(e[t]=new p.Corner(i))},"^position.container$":function(e,t,i){U.rendered&&X.appendTo(i)},"^show.ready$":function(){U.rendered?U.toggle(v):U.render(1)},"^style.classes$":function(e,t,i){X.attr("class",A+" qtip "+i)},"^style.width|height":function(e,t,i){X.css(t,i)},"^style.widget|content.title":d,"^events.(render|show|move|hide|focus|blur)$":function(e,t,i){X[(n.isFunction(i)?"":"un")+"bind"]("tooltip"+t,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var e=o.position;X.attr("tracking","mouse"===e.target&&e.adjust.mouse),W(),H()}},n.extend(U,{_triggerEvent:function(e,t,i){var s=n.Event("tooltip"+e);return s.originalEvent=(i?n.extend({},i):b)||q.event||b,X.trigger(s,[U].concat(t||[])),!s.isDefaultPrevented()},render:function(e){if(U.rendered)return U;var t=o.content.text,s=o.content.title,r=o.position;return n.attr(i[0],"aria-describedby",V),X=B.tooltip=n("<div/>",{id:V,"class":[A,L,o.style.classes,A+"-pos-"+o.position.my.abbrev()].join(" "),width:o.style.width||"",height:o.style.height||"",tracking:"mouse"===r.target&&r.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":y,"aria-describedby":V+"-content","aria-hidden":v}).toggleClass(Q,q.disabled).data("qtip",U).appendTo(o.position.container).append(B.content=n("<div />",{"class":A+"-content",id:V+"-content","aria-atomic":v})),U.rendered=-1,Y=1,s.text?(w(),n.isFunction(s.text)||C(s.text,y)):s.button&&_(),(!n.isFunction(t)||t.then)&&I(t,y),U.rendered=v,d(),n.each(o.events,function(e,t){n.isFunction(t)&&X.bind("toggle"===e?"tooltipshow tooltiphide":"tooltip"+e,t)}),n.each(p,function(){"render"===this.initialize&&this(U)}),H(),X.queue("fx",function(t){U._triggerEvent("render"),Y=0,(o.show.ready||e)&&U.toggle(v,q.event,y),t()}),U},get:function(e){var t,i;switch(e.toLowerCase()){case"dimensions":t={height:X.outerHeight(y),width:X.outerWidth(y)};break;case"offset":t=p.offset(X,o.position.container);break;default:i=c(e.toLowerCase()),t=i[0][i[1]],t=t.precedance?t.string():t}return t},set:function(e,t){function i(e,t){var i,n,s;for(i in u)for(n in u[i])(s=new RegExp(n,"i").exec(e))&&(t.push(s),u[i][n].apply(U,t))}var s,a=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,l=y,u=U.checks;return"string"==typeof e?(s=e,e={},e[s]=t):e=n.extend(v,{},e),n.each(e,function(t,i){var s,r=c(t.toLowerCase());s=r[0][r[1]],r[0][r[1]]="object"==typeof i&&i.nodeType?n(i):i,e[t]=[r[0],r[1],i,s],l=a.test(t)||l}),r(o),Y=1,n.each(e,i),Y=0,U.rendered&&X[0].offsetWidth>0&&l&&U.reposition("mouse"===o.position.target?b:q.event),U},toggle:function(e,i){function r(){e?(p.ie&&X[0].style.removeAttribute("filter"),X.css("overflow",""),"string"==typeof c.autofocus&&n(c.autofocus,X).focus(),c.target.trigger("qtip-"+a+"-inactive")):X.css({display:"",visibility:"",opacity:"",left:"",top:""}),U._triggerEvent(e?"visible":"hidden")}if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(q.event.type)&&o.show.target.add(i.target).length===o.show.target.length&&X.has(i.relatedTarget).length)return U;q.event=n.extend({},i)}if(!U.rendered)return e?U.render(1):U;var l=e?"show":"hide",c=o[l],u=(o[e?"hide":"show"],o.position),d=o.content,h=X.css("width"),f=X[0].offsetWidth>0,b=e||1===c.target.length,_=!i||c.target.length<2||q.target[0]===i.target;return(typeof e).search("boolean|number")&&(e=!f),!X.is(":animated")&&f===e&&_?U:U._triggerEvent(l,[90])?(n.attr(X[0],"aria-hidden",!e),e?(q.origin=n.extend({},m),U.focus(i),n.isFunction(d.text)&&I(d.text,y),n.isFunction(d.title.text)&&C(d.title.text,y),!g&&"mouse"===u.target&&u.adjust.mouse&&(n(t).bind("mousemove.qtip",s),g=v),h||X.css("width",X.outerWidth()),U.reposition(i,arguments[2]),h||X.css("width",""),c.solo&&("string"==typeof c.solo?n(c.solo):n(R,c.solo)).not(X).not(c.target).qtip("hide",n.Event("tooltipsolo"))):(clearTimeout(U.timers.show),delete q.origin,g&&!n(R+'[tracking="true"]:visible',c.solo).not(X).length&&(n(t).unbind("mousemove.qtip"),g=y),U.blur(i)),c.effect===y||b===y?(X[l](),r.call(X)):n.isFunction(c.effect)?(X.stop(1,1),c.effect.call(X,U),X.queue("fx",function(e){r(),e()})):X.fadeTo(90,e?1:0,r),e&&c.target.trigger("qtip-"+a+"-inactive"),U):U},show:function(e){return U.toggle(v,e)},hide:function(e){return U.toggle(y,e)},focus:function(e){if(!U.rendered)return U;var t=n(R),i=parseInt(X[0].style.zIndex,10),s=f.zindex+t.length,r=n.extend({},e);return X.hasClass(F)||U._triggerEvent("focus",[s],r)&&(i!==s&&(t.each(function(){this.style.zIndex>i&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+F).qtip("blur",r)),X.addClass(F)[0].style.zIndex=s),U},blur:function(e){return X.removeClass(F),U._triggerEvent("blur",[X.css("zIndex")],e),U},reposition:function(i,s){if(!U.rendered||Y)return U;Y=1;var r,a,l=o.position.target,c=o.position,u=c.my,d=c.at,h=c.adjust,f=h.method.split(" "),g=X.outerWidth(y),v=X.outerHeight(y),b=0,_=0,w=X.css("position"),x=c.viewport,C={left:0,top:0},E=c.container,I=X[0].offsetWidth>0,N=i&&"scroll"===i.type,A=n(e);if(n.isArray(l)&&2===l.length)d={x:S,y:k},C={left:l[0],top:l[1]};else if("mouse"===l&&(i&&i.pageX||q.event.pageX))d={x:S,y:k},i=!m||!m.pageX||!h.mouse&&i&&i.pageX?(!i||"resize"!==i.type&&"scroll"!==i.type?i&&i.pageX&&"mousemove"===i.type?i:(!h.mouse||o.show.distance)&&q.origin&&q.origin.pageX?q.origin:i:q.event)||i||q.event||m||{}:{pageX:m.pageX,pageY:m.pageY},"static"!==w&&(C=E.offset()),C={left:i.pageX-C.left,top:i.pageY-C.top},h.mouse&&N&&(C.left-=m.scrollX-A.scrollLeft(),C.top-=m.scrollY-A.scrollTop());else{if("event"===l&&i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?q.target=n(i.target):"event"!==l&&(q.target=n(l.jquery?l:B.target)),l=q.target,l=n(l).eq(0),0===l.length)return U;l[0]===t||l[0]===e?(b=p.iOS?e.innerWidth:l.width(),_=p.iOS?e.innerHeight:l.height(),l[0]===e&&(C={top:(x||l).scrollTop(),left:(x||l).scrollLeft()})):p.imagemap&&l.is("area")?r=p.imagemap(U,l,d,p.viewport?f:y):p.svg&&l[0].ownerSVGElement?r=p.svg(U,l,d,p.viewport?f:y):(b=l.outerWidth(y),_=l.outerHeight(y),C=p.offset(l,E)),r&&(b=r.width,_=r.height,a=r.offset,C=r.position),(p.iOS>3.1&&p.iOS<4.1||p.iOS>=4.3&&p.iOS<4.33||!p.iOS&&"fixed"===w)&&(C.left-=A.scrollLeft(),C.top-=A.scrollTop()),C.left+=d.x===D?b:d.x===$?b/2:0,C.top+=d.y===T?_:d.y===$?_/2:0}return C.left+=h.x+(u.x===D?-g:u.x===$?-g/2:0),C.top+=h.y+(u.y===T?-v:u.y===$?-v/2:0),p.viewport?(C.adjusted=p.viewport(U,C,c,b,_,g,v),a&&C.adjusted.left&&(C.left+=a.left),a&&C.adjusted.top&&(C.top+=a.top)):C.adjusted={left:0,top:0},U._triggerEvent("move",[C,x.elem||x],i)?(delete C.adjusted,s===y||!I||isNaN(C.left)||isNaN(C.top)||"mouse"===l||!n.isFunction(c.effect)?X.css(C):n.isFunction(c.effect)&&(c.effect.call(X,U,n.extend({},C)),X.queue(function(e){n(this).css({opacity:"",height:""}),p.ie&&this.style.removeAttribute("filter"),e()})),Y=0,U):U},disable:function(e){return"boolean"!=typeof e&&(e=!(X.hasClass(Q)||q.disabled)),U.rendered?(X.toggleClass(Q,e),n.attr(X[0],"aria-disabled",e)):q.disabled=!!e,U},enable:function(){return U.disable(y)},destroy:function(e){function t(){var e=i[0],t=n.attr(e,j),s=i.data("qtip");U.rendered&&(n.each(U.plugins,function(e){this.destroy&&this.destroy(),delete U.plugins[e]}),X.stop(1,0).find("*").remove().end().remove()),clearTimeout(U.timers.show),clearTimeout(U.timers.hide),W(),s&&U!==s||(i.removeData("qtip").removeAttr(M),o.suppress&&t&&(i.attr("title",t),i.removeAttr(j)),i.removeAttr("aria-describedby")),i.unbind(".qtip-"+a),delete P[U.id],delete U.options,delete U.elements,delete U.cache,delete U.timers,delete U.checks}if(!U.destroyed)return U.destroyed=!(U.rendered=y),e===v?t():(X.bind("tooltiphidden",t),U.hide()),i}})}function a(e,i,s){var a,l,c,u,d,h=n(t.body),m=e[0]===t?h:e,g=e.metadata?e.metadata(s.metadata):b,_="html5"===s.metadata.type&&g?g[s.metadata.name]:b,w=e.data(s.metadata.name||"qtipopts");try{w="string"==typeof w?n.parseJSON(w):w}catch(x){}if(u=n.extend(v,{},f.defaults,s,"object"==typeof w?r(w):b,r(_||g)),l=u.position,u.id=i,"boolean"==typeof u.content.text){if(c=e.attr(u.content.attr),u.content.attr===y||!c)return y;u.content.text=c}if(l.container.length||(l.container=h),l.target===y&&(l.target=m),u.show.target===y&&(u.show.target=m),u.show.solo===v&&(u.show.solo=l.container.closest("body")),u.hide.target===y&&(u.hide.target=m),u.position.viewport===v&&(u.position.viewport=l.container),l.container=l.container.eq(0),l.at=new p.Corner(l.at),l.my=new p.Corner(l.my),e.data("qtip"))if(u.overwrite)e.qtip("destroy");else if(u.overwrite===y)return y;return e.attr(M,!0),u.suppress&&(d=e.attr("title"))&&e.removeAttr("title").attr(j,d).attr("title",""),a=new o(e,u,i,!!c),e.data("qtip",a),e.one("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){var e;(e=n(this).data("qtip"))&&e.destroy()}),a}function l(e){var t,i=this,s=e.elements.tooltip,r=e.options.content.ajax,o=f.defaults.content.ajax,a=v,l=y;e.checks.ajax={"^content.ajax":function(e,t,n){"ajax"===t&&(r=n),"once"===t?i.init():r&&r.url?i.load():s.unbind(B)}},n.extend(i,{init:function(){return r&&r.url&&s.unbind(B)[r.once?"one":"bind"]("tooltipshow"+B,i.load),i},load:function(s){function c(){var t;e.destroyed||(a=y,m&&(l=v,e.show(s.originalEvent)),(t=o.complete||r.complete)&&n.isFunction(t)&&t.apply(r.context||e,arguments))}function u(t,i,s){var a;e.destroyed||(h&&"string"==typeof t&&(t=n("<div/>").append(t.replace(q,"")).find(h)),(a=o.success||r.success)&&n.isFunction(a)?a.call(r.context||e,t,i,s):e.set("content.text",t))}function d(t,i,n){e.destroyed||0===t.status||e.set("content.text",i+": "+n)}if(l)return l=y,void 0;var h,f=r.url.lastIndexOf(" "),p=r.url,m=!r.loading&&a;if(m)try{s.preventDefault()}catch(g){}else if(s&&s.isDefaultPrevented())return i;t&&t.abort&&t.abort(),f>-1&&(h=p.substr(f),p=p.substr(0,f)),t=n.ajax(n.extend({error:o.error||d,context:e},r,{url:p,success:u,complete:c}))},destroy:function(){t&&t.abort&&t.abort(),e.destroyed=v}}),i.init()}function c(e,t,i){var n=Math.ceil(t/2),s=Math.ceil(i/2),r={bottomright:[[0,0],[t,i],[t,0]],bottomleft:[[0,0],[t,0],[0,i]],topright:[[0,i],[t,0],[t,i]],topleft:[[0,0],[0,i],[t,i]],topcenter:[[0,i],[n,0],[t,i]],bottomcenter:[[0,0],[t,0],[n,i]],rightcenter:[[0,0],[t,s],[0,i]],leftcenter:[[t,0],[t,i],[0,s]]};return r.lefttop=r.bottomright,r.righttop=r.bottomleft,r.leftbottom=r.topright,r.rightbottom=r.topleft,r[e.string()]}function u(e){function t(e){var t=N.is(":visible");N.show(),e(),N.toggle(t)}function s(){M.width=g.height,M.height=g.width}function r(){M.width=g.width,M.height=g.height}function o(t,n,s){if(E.tip){var r,o,a=m.corner.clone(),c=s.adjusted,u=e.options.position.adjust.method.split(" "),d=u[0],h=u[1]||u[0],f={left:y,top:y,x:0,y:0},p={};m.corner.fixed!==v&&(d===I&&a.precedance===_&&c.left&&a.y!==$?a.precedance=a.precedance===_?w:_:d!==I&&c.left&&(a.x=a.x===$?c.left>0?S:D:a.x===S?D:S),h===I&&a.precedance===w&&c.top&&a.x!==$?a.precedance=a.precedance===w?_:w:h!==I&&c.top&&(a.y=a.y===$?c.top>0?k:T:a.y===k?T:k),a.string()===A.corner.string()||A.top===c.top&&A.left===c.left||m.update(a,y)),r=m.position(a,c),r[a.x]+=l(a,a.x),r[a.y]+=l(a,a.y),r.right!==i&&(r.left=-r.right),r.bottom!==i&&(r.top=-r.bottom),r.user=Math.max(0,g.offset),(f.left=d===I&&!!c.left)&&(a.x===$?p["margin-left"]=f.x=r["margin-left"]-c.left:(o=r.right!==i?[c.left,-r.left]:[-c.left,r.left],(f.x=Math.max(o[0],o[1]))>o[0]&&(s.left-=c.left,f.left=y),p[r.right!==i?D:S]=f.x)),(f.top=h===I&&!!c.top)&&(a.y===$?p["margin-top"]=f.y=r["margin-top"]-c.top:(o=r.bottom!==i?[c.top,-r.top]:[-c.top,r.top],(f.y=Math.max(o[0],o[1]))>o[0]&&(s.top-=c.top,f.top=y),p[r.bottom!==i?T:k]=f.y)),E.tip.css(p).toggle(!(f.x&&f.y||a.x===$&&f.y||a.y===$&&f.x)),s.left-=r.left.charAt?r.user:d!==I||f.top||!f.left&&!f.top?r.left:0,s.top-=r.top.charAt?r.user:h!==I||f.left||!f.left&&!f.top?r.top:0,A.left=c.left,A.top=c.top,A.corner=a.clone()}}function a(){var t=g.corner,i=e.options.position,n=i.at,s=i.my.string?i.my.string():i.my;return t===y||s===y&&n===y?y:(t===v?m.corner=new p.Corner(s):t.string||(m.corner=new p.Corner(t),m.corner.fixed=v),A.corner=new p.Corner(m.corner.string()),"centercenter"!==m.corner.string())}function l(e,i,n){i=i?i:e[e.precedance];var s,r=E.titlebar&&e.y===k,o=r?E.titlebar:N,a="border-"+i+"-width",l=function(e){return parseInt(e.css(a),10)};return t(function(){s=(n?l(n):l(E.content)||l(o)||l(N))||0}),s}function u(e){var i,n=E.titlebar&&e.y===k,s=n?E.titlebar:E.content,r="-moz-",o="-webkit-",a="border-radius-"+e.y+e.x,l="border-"+e.y+"-"+e.x+"-radius",c=function(e){return parseInt(s.css(e),10)||parseInt(N.css(e),10)};return t(function(){i=c(l)||c(a)||c(r+l)||c(r+a)||c(o+l)||c(o+a)||0}),i}function d(e){function i(e,t,i){var n=e.css(t)||c;return i&&n===e.css(i)?y:o.test(n)?y:n}var s=E.tip.css("cssText",""),r=e||m.corner,o=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,a="border-"+r[r.precedance]+"-color",l="background-color",c="transparent",u=" !important",d=E.titlebar,h=d&&(r.y===k||r.y===$&&s.position().top+M.height/2+g.offset<d.outerHeight(v)),f=h?d:E.content;t(function(){P.fill=i(s,l)||i(f,l)||i(E.content,l)||i(N,l)||s.css(l),P.border=i(s,a,"color")||i(f,a,"color")||i(E.content,a,"color")||i(N,a,"color")||N.css(a),n("*",s).add(s).css("cssText",l+":"+c+u+";border:0"+u+";")})}function h(e){var t,i,n,s=e.precedance===w,r=M[s?x:C],o=M[s?C:x],a=e.string().indexOf($)>-1,l=r*(a?.5:1),c=Math.pow,u=Math.round,d=Math.sqrt(c(l,2)+c(o,2)),h=[O/l*d,O/o*d];return h[2]=Math.sqrt(c(h[0],2)-c(O,2)),h[3]=Math.sqrt(c(h[1],2)-c(O,2)),t=d+h[2]+h[3]+(a?0:h[0]),i=t/d,n=[u(i*o),u(i*r)],{height:n[s?0:1],width:n[s?1:0]}}function f(e,t,i){return"<qvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'}var m=this,g=e.options.style.tip,E=e.elements,N=E.tooltip,A={top:0,left:0},M={width:g.width,height:g.height},P={},O=g.border||0;m.corner=b,m.mimic=b,m.border=O,m.offset=g.offset,m.size=M,e.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){m.init()||m.destroy(),e.reposition()},"^style.tip.(height|width)$":function(){M={width:g.width,height:g.height},m.create(),m.update(),e.reposition()},"^content.title.text|style.(classes|widget)$":function(){E.tip&&E.tip.length&&m.update()}},n.extend(m,{init:function(){var e=a()&&(Y||p.ie);return e&&(m.create(),m.update(),N.unbind(V).bind("tooltipmove"+V,o)),e},create:function(){var e,t=M.width,i=M.height;E.tip&&E.tip.remove(),E.tip=n("<div />",{"class":"qtip-tip"}).css({width:t,height:i}).prependTo(N),Y?n("<canvas />").appendTo(E.tip)[0].getContext("2d").save():(e=f("shape",'coordorigin="0,0"',"position:absolute;"),E.tip.html(e+e),n("*",E.tip).bind("click"+V+" mousedown"+V,function(e){e.stopPropagation()}))},update:function(e,t){var i,o,a,u,x,C=E.tip,I=C.children(),R=M.width,L=M.height,F=g.mimic,z=Math.round;e||(e=A.corner||m.corner),F===y?F=e:(F=new p.Corner(F),F.precedance=e.precedance,"inherit"===F.x?F.x=e.x:"inherit"===F.y?F.y=e.y:F.x===F.y&&(F[e.precedance]=e[e.precedance])),i=F.precedance,e.precedance===_?s():r(),E.tip.css({width:R=M.width,height:L=M.height}),d(e),"transparent"!==P.border?(O=l(e,b),0===g.border&&O>0&&(P.fill=P.border),m.border=O=g.border!==v?g.border:O):m.border=O=0,a=c(F,R,L),m.size=x=h(e),C.css(x).css("line-height",x.height+"px"),u=e.precedance===w?[z(F.x===S?O:F.x===D?x.width-R-O:(x.width-R)/2),z(F.y===k?x.height-L:0)]:[z(F.x===S?x.width-R:0),z(F.y===k?O:F.y===T?x.height-L-O:(x.height-L)/2)],Y?(I.attr(x),o=I[0].getContext("2d"),o.restore(),o.save(),o.clearRect(0,0,3e3,3e3),o.fillStyle=P.fill,o.strokeStyle=P.border,o.lineWidth=2*O,o.lineJoin="miter",o.miterLimit=100,o.translate(u[0],u[1]),o.beginPath(),o.moveTo(a[0][0],a[0][1]),o.lineTo(a[1][0],a[1][1]),o.lineTo(a[2][0],a[2][1]),o.closePath(),O&&("border-box"===N.css("background-clip")&&(o.strokeStyle=P.fill,o.stroke()),o.strokeStyle=P.border,o.stroke()),o.fill()):(a="m"+a[0][0]+","+a[0][1]+" l"+a[1][0]+","+a[1][1]+" "+a[2][0]+","+a[2][1]+" xe",u[2]=O&&/^(r|b)/i.test(e.string())?8===p.ie?2:1:0,I.css({coordsize:R+O+" "+(L+O),antialias:""+(F.string().indexOf($)>-1),left:u[0],top:u[1],width:R+O,height:L+O}).each(function(e){var t=n(this);t[t.prop?"prop":"attr"]({coordsize:R+O+" "+(L+O),path:a,fillcolor:P.fill,filled:!!e,stroked:!e}).toggle(!(!O&&!e)),e||""!==t.html()||t.html(f("stroke",'weight="'+2*O+'px" color="'+P.border+'" miterlimit="1000" joinstyle="miter"'))})),setTimeout(function(){E.tip.css({display:"inline-block",visibility:"visible"})},1),t!==y&&m.position(e)},position:function(e){var t,i,s,r=E.tip,o={},a=Math.max(0,g.offset);return g.corner!==y&&r?(e=e||m.corner,t=e.precedance,i=h(e),s=[e.x,e.y],t===_&&s.reverse(),n.each(s,function(n,s){var r,c,d;s===$?(r=t===w?S:k,o[r]="50%",o["margin-"+r]=-Math.round(i[t===w?x:C]/2)+a):(r=l(e,s),c=l(e,s,E.content),d=u(e),o[s]=n?c:a+(d>r?d:-r))}),o[e[t]]-=i[t===_?x:C],r.css({top:"",bottom:"",left:"",right:"",margin:""}).css(o),o):y},destroy:function(){N.unbind(V),E.tip&&E.tip.find("*").remove().end().remove(),delete m.corner,delete m.mimic,delete m.size}}),m.init()}function d(e){var i,s=this,r=e.options.show.modal,o=e.elements,a=o.tooltip,l=J+e.id;e.checks.modal={"^show.modal.(on|blur)$":function(){s.destroy(),s.init(),i.toggle(a.is(":visible"))}},n.extend(s,{init:function(){return r.on?(i=o.overlay=X.elem,a.attr(K,v).css("z-index",p.modal.zindex+n(Q).length).bind("tooltipshow"+l+" tooltiphide"+l,function(e,t,r){var o=e.originalEvent;if(e.target===a[0])if(o&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(o.type)&&n(o.relatedTarget).closest(i[0]).length)try{e.preventDefault()}catch(l){}else(!o||o&&!o.solo)&&s.toggle(e,"tooltipshow"===e.type,r)}).bind("tooltipfocus"+l,function(e,t){if(!e.isDefaultPrevented()&&e.target===a[0]){var s=n(Q),r=p.modal.zindex+s.length,o=parseInt(a[0].style.zIndex,10);i[0].style.zIndex=r-1,s.each(function(){this.style.zIndex>o&&(this.style.zIndex-=1)}),s.filter("."+F).qtip("blur",e.originalEvent),a.addClass(F)[0].style.zIndex=r,X.update(t);try{e.preventDefault()}catch(l){}}}).bind("tooltiphide"+l,function(e){e.target===a[0]&&n(Q).filter(":visible").not(a).last().qtip("focus",e)}),s):s},toggle:function(t,i,n){return t&&t.isDefaultPrevented()?s:(X.toggle(e,!!i,n),s)},destroy:function(){n([t,a]).removeAttr(K).unbind(l),X.toggle(e,y),delete o.overlay}}),s.init()}function h(i){var s,r=this,o=i.elements,a=i.options,l=o.tooltip,c=".ie6-"+i.id,u=n("select, object").length<1,d=0,h=y;i.checks.ie6={"^content|style$":function(){redraw()}},n.extend(r,{init:function(){var i,a=n(e);u&&(o.bgiframe=n('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>'),o.bgiframe.appendTo(l),l.bind("tooltipmove"+c,r.adjustBGIFrame)),s=n("<div/>",{id:"qtip-rcontainer"}).appendTo(t.body),r.redraw(),o.overlay&&!h&&(i=function(){o.overlay[0].style.top=a.scrollTop()+"px"},a.bind("scroll.qtip-ie6, resize.qtip-ie6",i),i(),o.overlay.addClass("qtipmodal-ie6fix"),h=v)},adjustBGIFrame:function(){var e,t,n=i.get("dimensions"),s=i.plugins.tip,r=o.tip;t=parseInt(l.css("border-left-width"),10)||0,t={left:-t,top:-t},s&&r&&(e="x"===s.corner.precedance?["width","left"]:["height","top"],t[e[1]]-=r[e[0]]()),o.bgiframe.css(t).css(n)},redraw:function(){if(i.rendered<1||d)return r;var e,t,n,o,c=a.style,u=a.position.container;return d=1,c.height&&l.css(C,c.height),c.width?l.css(x,c.width):(l.css(x,"").appendTo(s),t=l.width(),1>t%2&&(t+=1),n=l.css("max-width")||"",o=l.css("min-width")||"",e=(n+o).indexOf("%")>-1?u.width()/100:0,n=(n.indexOf("%")>-1?e:1)*parseInt(n,10)||t,o=(o.indexOf("%")>-1?e:1)*parseInt(o,10)||0,t=n+o?Math.min(Math.max(t,o),n):t,l.css(x,Math.round(t)).appendTo(u)),d=0,r},destroy:function(){u&&o.bgiframe.remove(),l.unbind(c)}}),r.init()}var f,p,m,g,v=!0,y=!1,b=null,_="x",w="y",x="width",C="height",k="top",S="left",T="bottom",D="right",$="center",E="flipinvert",I="shift",N="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",A="qtip",M="data-hasqtip",P={},O=["ui-widget","ui-tooltip"],R="div.qtip."+A,L=A+"-default",F=A+"-focus",z=A+"-hover",H="_replacedByqTip",j="oldtitle";f=n.fn.qtip=function(e,t,s){var o=(""+e).toLowerCase(),a=b,l=n.makeArray(arguments).slice(1),c=l[l.length-1],u=this[0]?n.data(this[0],"qtip"):b;return!arguments.length&&u||"api"===o?u:"string"==typeof e?(this.each(function(){var e=n.data(this,"qtip");if(!e)return v;if(c&&c.timeStamp&&(e.cache.event=c),"option"!==o&&"options"!==o||!t)e[o]&&e[o].apply(e[o],l);else{if(!n.isPlainObject(t)&&s===i)return a=e.get(t),y;e.set(t,s)}}),a!==b?a:this):"object"!=typeof e&&arguments.length?void 0:(u=r(n.extend(v,{},e)),f.bind.call(this,u,c))},f.bind=function(e,t){return this.each(function(r){function o(e){function t(){h.render("object"==typeof e||l.show.ready),c.show.add(c.hide).unbind(d)}return h.cache.disabled?y:(h.cache.event=n.extend({},e),h.cache.target=e?n(e.target):[i],l.show.delay>0?(clearTimeout(h.timers.show),h.timers.show=setTimeout(t,l.show.delay),u.show!==u.hide&&c.hide.bind(u.hide,function(){clearTimeout(h.timers.show)})):t(),void 0)}var l,c,u,d,h,m;return m=n.isArray(e.id)?e.id[r]:e.id,m=!m||m===y||m.length<1||P[m]?f.nextid++:P[m]=m,d=".qtip-"+m+"-create",h=a(n(this),m,e),h===y?v:(l=h.options,n.each(p,function(){"initialize"===this.initialize&&this(h)}),c={show:l.show.target,hide:l.hide.target},u={show:n.trim(""+l.show.event).replace(/ /g,d+" ")+d,hide:n.trim(""+l.hide.event).replace(/ /g,d+" ")+d},/mouse(over|enter)/i.test(u.show)&&!/mouse(out|leave)/i.test(u.hide)&&(u.hide+=" mouseleave"+d),c.show.bind("mousemove"+d,function(e){s(e),h.cache.onTarget=v}),c.show.bind(u.show,o),(l.show.ready||l.prerender)&&o(t),void 0)})},p=f.plugins={Corner:function(e){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,$).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();
var t=e.charAt(0);this.precedance="t"===t||"b"===t?w:_,this.string=function(){return this.precedance===w?this.y+this.x:this.x+this.y},this.abbrev=function(){var e=this.x.substr(0,1),t=this.y.substr(0,1);return e===t?e:this.precedance===w?t+e:e+t},this.invertx=function(e){this.x=this.x===S?D:this.x===D?S:e||this.x},this.inverty=function(e){this.y=this.y===k?T:this.y===T?k:e||this.y},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(e,i){function s(e,t){l.left+=t*e.scrollLeft(),l.top+=t*e.scrollTop()}var r,o,a,l=e.offset(),c=e.closest("body"),u=p.ie&&"CSS1Compat"!==t.compatMode,d=i;if(d){do"static"!==d.css("position")&&(o=d.position(),l.left-=o.left+(parseInt(d.css("borderLeftWidth"),10)||0)+(parseInt(d.css("marginLeft"),10)||0),l.top-=o.top+(parseInt(d.css("borderTopWidth"),10)||0)+(parseInt(d.css("marginTop"),10)||0),r||"hidden"===(a=d.css("overflow"))||"visible"===a||(r=d));while((d=n(d[0].offsetParent)).length);(r&&r[0]!==c[0]||u)&&s(r||c,1)}return l},ie:function(){for(var e=3,i=t.createElement("div");(i.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];);return e>4?e:y}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||y,fn:{attr:function(e,t){if(this.length){var i=this[0],s="title",r=n.data(i,"qtip");if(e===s&&r&&"object"==typeof r&&r.options.suppress)return arguments.length<2?n.attr(i,j):(r&&r.options.content.attr===s&&r.cache.attr&&r.set("content.text",t),this.attr(j,t))}return n.fn["attr"+H].apply(this,arguments)},clone:function(e){var t=(n([]),n.fn["clone"+H].apply(this,arguments));return e||t.filter("["+j+"]").attr("title",function(){return n.attr(this,j)}).removeAttr(j),t}}},n.each(p.fn,function(e,t){if(!t||n.fn[e+H])return v;var i=n.fn[e+H]=n.fn[e];n.fn[e]=function(){return t.apply(this,arguments)||i.apply(this,arguments)}}),n.ui||(n["cleanData"+H]=n.cleanData,n.cleanData=function(e){for(var t,s=0;(t=e[s])!==i&&t.getAttribute(M);s++)try{n(t).triggerHandler("removeqtip")}catch(r){}n["cleanData"+H](e)}),f.version="@VERSION",f.nextid=0,f.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),f.zindex=15e3,f.defaults={prerender:y,id:y,overwrite:v,suppress:v,content:{text:v,attr:"title",deferred:y,title:{text:y,button:y}},position:{my:"top left",at:"bottom right",target:y,container:y,viewport:y,adjust:{x:0,y:0,mouse:v,scroll:v,resize:v,method:"flipinvert flipinvert"},effect:function(e,t){n(this).animate(t,{duration:200,queue:y})}},show:{target:y,event:"mouseenter",effect:v,delay:90,solo:y,ready:y,autofocus:y},hide:{target:y,event:"mouseleave",effect:v,delay:0,fixed:y,inactive:y,leave:"window",distance:y},style:{classes:"",widget:y,width:y,height:y,def:v},events:{render:b,move:b,show:b,hide:b,toggle:b,visible:b,hidden:b,focus:b,blur:b}},p.svg=function(e,i){for(var s,r,o,a,l,c=n(t),u=i[0],d={width:0,height:0,position:{top:1e10,left:1e10}};!u.getBBox;)u=u.parentNode;if(u.getBBox&&u.parentNode){if(s=u.getBBox(),r=u.getScreenCTM(),o=u.farthestViewportElement||u,!o.createSVGPoint)return d;a=o.createSVGPoint(),a.x=s.x,a.y=s.y,l=a.matrixTransform(r),d.position.left=l.x,d.position.top=l.y,a.x+=s.width,a.y+=s.height,l=a.matrixTransform(r),d.width=l.x-d.position.left,d.height=l.y-d.position.top,d.position.left+=c.scrollLeft(),d.position.top+=c.scrollTop()}return d};var W,B=".qtip-ajax",q=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;W=p.ajax=function(e){var t=e.plugins.ajax;return"object"==typeof t?t:e.plugins.ajax=new l(e)},W.initialize="render",W.sanitize=function(e){var t,i=e.content;i&&"ajax"in i&&(t=i.ajax,"object"!=typeof t&&(t=e.content.ajax={url:t}),"boolean"!=typeof t.once&&t.once&&(t.once=!!t.once))},n.extend(v,f.defaults,{content:{ajax:{loading:v,once:v}}});var U,V=".qtip-tip",Y=!!t.createElement("canvas").getContext;U=p.tip=function(e){var t=e.plugins.tip;return"object"==typeof t?t:e.plugins.tip=new u(e)},U.initialize="render",U.sanitize=function(e){var t,i=e.style;i&&"tip"in i&&(t=e.style.tip,"object"!=typeof t&&(e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=v),"number"!=typeof t.width&&delete t.width,"number"!=typeof t.height&&delete t.height,"number"!=typeof t.border&&t.border!==v&&delete t.border,"number"!=typeof t.offset&&delete t.offset)},n.extend(v,f.defaults,{style:{tip:{corner:v,mimic:y,width:6,height:6,border:v,offset:0}}});var G,X,K="is-modal-qtip",Q=R+"["+K+"]",J=".qtipmodal";X=function(){function i(e){if(n.expr[":"].focusable)return n.expr[":"].focusable;var t,i,s,r=!isNaN(n.attr(e,"tabindex")),o=e.nodeName.toLowerCase();return"area"===o?(t=e.parentNode,i=t.name,e.href&&i&&"map"===t.nodeName.toLowerCase()?(s=n("img[usemap=#"+i+"]")[0],!!s&&s.is(":visible")):!1):/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o?e.href||r:r}function s(e){d.length<1&&e.length?e.not("body").blur():d.first().focus()}function r(e){if(c.is(":visible")){var t,i=n(e.target),r=o.elements.tooltip,l=i.closest(R);t=l.length<1?y:parseInt(l[0].style.zIndex,10)>parseInt(r[0].style.zIndex,10),t||i.closest(R)[0]===r[0]||s(i),a=e.target===d[d.length-1]}}var o,a,l,c,u=this,d={};n.extend(u,{init:function(){function i(){var e=n(this);c.css({height:e.height(),width:e.width()})}return c=u.elem=n("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return y}}).hide(),n(e).bind("resize"+J,i),i(),n(t.body).bind("focusin"+J,r),n(t).bind("keydown"+J,function(e){o&&o.options.show.modal.escape&&27===e.keyCode&&o.hide(e)}),c.bind("click"+J,function(e){o&&o.options.show.modal.blur&&o.hide(e)}),u},update:function(e){o=e,d=e.options.show.modal.stealfocus!==y?e.elements.tooltip.find("*").filter(function(){return i(this)}):[]},toggle:function(e,i,r){var a=(n(t.body),e.elements.tooltip),d=e.options.show.modal,h=d.effect,f=i?"show":"hide",p=c.is(":visible"),m=n(Q).filter(":visible:not(:animated)").not(a);return u.update(e),i&&d.stealfocus!==y&&s(n(":focus")),c.toggleClass("blurs",d.blur),i&&c.css({left:0,top:0}).appendTo(t.body),c.is(":animated")&&p===i&&l!==y||!i&&m.length?u:(c.stop(v,y),n.isFunction(h)?h.call(c,i):h===y?c[f]():c.fadeTo(parseInt(r,10)||90,i?1:0,function(){i||c.hide()}),i||c.queue(function(e){c.css({left:"",top:""}),m.length||c.detach(),e()}),l=i,o.destroyed&&(o=b),u)}}),u.init()},X=new X,G=p.modal=function(e){var t=e.plugins.modal;return"object"==typeof t?t:e.plugins.modal=new d(e)},G.sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:"undefined"==typeof e.show.modal.on&&(e.show.modal.on=v))},G.zindex=f.zindex-200,G.initialize="render",n.extend(v,f.defaults,{show:{modal:{on:y,effect:v,blur:v,stealfocus:v,escape:v}}}),p.viewport=function(i,n,s,r,o,a,l){function c(e,t,i,s,r,o,a,l,c){var u=n[r],h=m[e],f=g[e],p=i===I,v=-P.offset[r]+M.offset[r]+M["scroll"+r],y=h===r?c:h===o?-c:-c/2,b=f===r?l:f===o?-l:-l/2,_=R&&R.size?R.size[a]||0:0,w=R&&R.corner&&R.corner.precedance===e&&!p?_:0,x=v-u+w,C=u+c-M[a]-v+w,k=y-(m.precedance===e||h===m[t]?b:0)-(f===$?l/2:0);return p?(w=R&&R.corner&&R.corner.precedance===t?_:0,k=(h===r?1:-1)*y-w,n[r]+=x>0?x:C>0?-C:0,n[r]=Math.max(-P.offset[r]+M.offset[r]+(w&&R.corner[e]===$?R.offset:0),u-k,Math.min(Math.max(-P.offset[r]+M.offset[r]+M[a],u+k),n[r]))):(s*=i===E?2:0,x>0&&(h!==r||C>0)?(n[r]-=k+s,d["invert"+e](r)):C>0&&(h!==o||x>0)&&(n[r]-=(h===$?-k:k)+s,d["invert"+e](o)),n[r]<v&&-n[r]>C&&(n[r]=u,d=m.clone())),n[r]-u}var u,d,h,f=s.target,p=i.elements.tooltip,m=s.my,g=s.at,v=s.adjust,y=v.method.split(" "),b=y[0],N=y[1]||y[0],M=s.viewport,P=s.container,O=i.cache,R=i.plugins.tip,L={left:0,top:0};return M.jquery&&f[0]!==e&&f[0]!==t.body&&"none"!==v.method?(u="fixed"===p.css("position"),M={elem:M,height:M[(M[0]===e?"h":"outerH")+"eight"](),width:M[(M[0]===e?"w":"outerW")+"idth"](),scrollleft:u?0:M.scrollLeft(),scrolltop:u?0:M.scrollTop(),offset:M.offset()||{left:0,top:0}},P={elem:P,scrollLeft:P.scrollLeft(),scrollTop:P.scrollTop(),offset:P.offset()||{left:0,top:0}},("shift"!==b||"shift"!==N)&&(d=m.clone()),L={left:"none"!==b?c(_,w,b,v.x,S,D,x,r,a):0,top:"none"!==N?c(w,_,N,v.y,k,T,C,o,l):0},d&&O.lastClass!==(h=A+"-pos-"+d.abbrev())&&p.removeClass(i.cache.lastClass).addClass(i.cache.lastClass=h),L):L},p.imagemap=function(e,t,i,s){function r(e,t,i){for(var n=0,s=1,r=1,o=0,a=0,l=e.width,c=e.height;l>0&&c>0&&s>0&&r>0;)for(l=Math.floor(l/2),c=Math.floor(c/2),i.x===S?s=l:i.x===D?s=e.width-l:s+=Math.floor(l/2),i.y===k?r=c:i.y===T?r=e.height-c:r+=Math.floor(c/2),n=t.length;n--&&!(t.length<2);)o=t[n][0]-e.position.left,a=t[n][1]-e.position.top,(i.x===S&&o>=s||i.x===D&&s>=o||i.x===$&&(s>o||o>e.width-s)||i.y===k&&a>=r||i.y===T&&r>=a||i.y===$&&(r>a||a>e.height-r))&&t.splice(n,1);return{left:t[0][0],top:t[0][1]}}t.jquery||(t=n(t));var o=e.cache.areas={},a=(t[0].shape||t.attr("shape")).toLowerCase(),l=t[0].coords||t.attr("coords"),c=l.split(","),u=[],d=n('img[usemap="#'+t.parent("map").attr("name")+'"]'),h=d.offset(),f={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10}},p=0,m=0;if(h.left+=Math.ceil((d.outerWidth()-d.width())/2),h.top+=Math.ceil((d.outerHeight()-d.height())/2),"poly"===a)for(p=c.length;p--;)m=[parseInt(c[--p],10),parseInt(c[p+1],10)],m[0]>f.position.right&&(f.position.right=m[0]),m[0]<f.position.left&&(f.position.left=m[0]),m[1]>f.position.bottom&&(f.position.bottom=m[1]),m[1]<f.position.top&&(f.position.top=m[1]),u.push(m);else for(p=-1;p++<c.length;)u.push(parseInt(c[p],10));switch(a){case"rect":f={width:Math.abs(u[2]-u[0]),height:Math.abs(u[3]-u[1]),position:{left:Math.min(u[0],u[2]),top:Math.min(u[1],u[3])}};break;case"circle":f={width:u[2]+2,height:u[2]+2,position:{left:u[0],top:u[1]}};break;case"poly":f.width=Math.abs(f.position.right-f.position.left),f.height=Math.abs(f.position.bottom-f.position.top),"c"===i.abbrev()?f.position={left:f.position.left+f.width/2,top:f.position.top+f.height/2}:(o[i+l]||(f.position=r(f,u.slice(),i),!s||"flip"!==s[0]&&"flip"!==s[1]||(f.offset=r(f,u.slice(),{x:i.x===S?D:i.x===D?S:$,y:i.y===k?T:i.y===T?k:$}),f.offset.left-=f.position.left,f.offset.top-=f.position.top),o[i+l]=f),f=o[i+l]),f.width=f.height=0}return f.position.left+=h.left,f.position.top+=h.top,f};var Z;Z=p.ie6=function(e){var t=e.plugins.ie6;return 6!==p.ie?y:"object"==typeof t?t:e.plugins.ie6=new h(e)},Z.initialize="render"})}(window,document),/*
* MultiSelect v0.9.8
* Copyright (c) 2012 Louis Cuny
*
* This program is free software. It comes without any warranty, to
* the extent permitted by applicable law. You can redistribute it
* and/or modify it under the terms of the Do What The Fuck You Want
* To Public License, Version 2, as published by Sam Hocevar. See
* http://sam.zoy.org/wtfpl/COPYING for more details.
*/
!function(e){"use strict";var t=function(t,i){this.options=i,this.$element=e(t),this.$container=e("<div/>",{"class":"ms-container"}),this.$selectableContainer=e("<div/>",{"class":"ms-selectable"}),this.$selectionContainer=e("<div/>",{"class":"ms-selection"}),this.$selectableUl=e("<ul/>",{"class":"ms-list",tabindex:"-1"}),this.$selectionUl=e("<ul/>",{"class":"ms-list",tabindex:"-1"}),this.scrollTo=0,this.sanitizeRegexp=new RegExp("\\W+","gi"),this.elemsSelector="li:visible:not(.ms-optgroup-label,.ms-optgroup-container,."+i.disabledClass+")"};t.prototype={constructor:t,init:function(){var t=this,i=this.$element;if(0===i.next(".ms-container").length){i.css({position:"absolute",left:"-9999px"}),i.attr("id",i.attr("id")?i.attr("id"):Math.ceil(1e3*Math.random())+"multiselect"),this.$container.attr("id","ms-"+i.attr("id")),i.find("option").each(function(){t.generateLisFromOption(this)}),this.$selectionUl.find(".ms-optgroup-label").hide(),t.options.selectableHeader&&t.$selectableContainer.append(t.options.selectableHeader),t.$selectableContainer.append(t.$selectableUl),t.options.selectableFooter&&t.$selectableContainer.append(t.options.selectableFooter),t.options.selectionHeader&&t.$selectionContainer.append(t.options.selectionHeader),t.$selectionContainer.append(t.$selectionUl),t.options.selectionFooter&&t.$selectionContainer.append(t.options.selectionFooter),t.$container.append(t.$selectableContainer),t.$container.append(t.$selectionContainer),i.after(t.$container),t.activeMouse(t.$selectableUl),t.activeKeyboard(t.$selectableUl);var n=t.options.dblClick?"dblclick":"click";t.$selectableUl.on(n,".ms-elem-selectable",function(){t.select(e(this).data("ms-value"))}),t.$selectionUl.on(n,".ms-elem-selection",function(){t.deselect(e(this).data("ms-value"))}),t.activeMouse(t.$selectionUl),t.activeKeyboard(t.$selectionUl),i.on("focus",function(){t.$selectableUl.focus()})}var s=i.find("option:selected").map(function(){return e(this).val()}).get();t.select(s,"init"),"function"==typeof t.options.afterInit&&t.options.afterInit.call(this,this.$container)},generateLisFromOption:function(t){for(var i=this,n=i.$element,s="",r=e(t),o=0;o<t.attributes.length;o++){var a=t.attributes[o];"value"!==a.name&&"disabled"!==a.name&&(s+=a.name+'="'+a.value+'" ')}var l=e("<li "+s+"><span>"+r.text()+"</span></li>"),c=l.clone(),u=r.val(),d=i.sanitize(u,i.sanitizeRegexp);l.data("ms-value",u).addClass("ms-elem-selectable").attr("id",d+"-selectable"),c.data("ms-value",u).addClass("ms-elem-selection").attr("id",d+"-selection").hide(),(r.prop("disabled")||n.prop("disabled"))&&(c.addClass(i.options.disabledClass),l.addClass(i.options.disabledClass));var h=r.parent("optgroup");if(h.length>0){var f=h.attr("label"),p=i.sanitize(f,i.sanitizeRegexp),m=i.$selectableUl.find("#optgroup-selectable-"+p),g=i.$selectionUl.find("#optgroup-selection-"+p);if(0===m.length){var v='<li class="ms-optgroup-container"></li>',y='<ul class="ms-optgroup"><li class="ms-optgroup-label"><span>'+f+"</span></li></ul>";m=e(v),g=e(v),m.attr("id","optgroup-selectable-"+p),g.attr("id","optgroup-selection-"+p),m.append(e(y)),g.append(e(y)),i.options.selectableOptgroup&&(m.find(".ms-optgroup-label").on("click",function(){var t=h.children(":not(:selected)").map(function(){return e(this).val()}).get();i.select(t)}),g.find(".ms-optgroup-label").on("click",function(){var t=h.children(":selected").map(function(){return e(this).val()}).get();i.deselect(t)})),i.$selectableUl.append(m),i.$selectionUl.append(g)}m.children().append(l),g.children().append(c)}else i.$selectableUl.append(l),i.$selectionUl.append(c)},activeKeyboard:function(t){var i=this;t.on("focus",function(){e(this).addClass("ms-focus")}).on("blur",function(){e(this).removeClass("ms-focus")}).on("keydown",function(n){switch(n.which){case 40:case 38:return n.preventDefault(),n.stopPropagation(),i.moveHighlight(e(this),38===n.which?-1:1),void 0;case 32:return n.preventDefault(),n.stopPropagation(),i.selectHighlighted(t),void 0;case 37:case 39:return n.preventDefault(),n.stopPropagation(),i.switchList(t),void 0}})},moveHighlight:function(e,t){var i=e.find(this.elemsSelector),n=i.filter(".ms-hover"),s=null,r=i.first().outerHeight(),o=e.height();if("#"+this.$container.prop("id"),i.off("mouseenter"),i.removeClass("ms-hover"),1===t){if(s=n.nextAll(this.elemsSelector).first(),0===s.length){var a=n.parent();if(a.hasClass("ms-optgroup")){var l=a.parent(),c=l.next(":visible");s=c.length>0?c.find(this.elemsSelector).first():i.first()}else s=i.first()}}else if(-1===t&&(s=n.prevAll(this.elemsSelector).first(),0===s.length)){var a=n.parent();if(a.hasClass("ms-optgroup")){var l=a.parent(),u=l.prev(":visible");s=u.length>0?u.find(this.elemsSelector).last():i.last()}else s=i.last()}if(s.length>0){s.addClass("ms-hover");var d=e.scrollTop()+s.position().top-o/2+r/2;e.scrollTop(d)}},selectHighlighted:function(e){var t=e.find(this.elemsSelector),i=t.filter(".ms-hover").first();i.length>0&&(e.parent().hasClass("ms-selectable")?this.select(i.data("ms-value")):this.deselect(i.data("ms-value")),t.removeClass("ms-hover"))},switchList:function(e){e.blur(),e.parent().hasClass("ms-selectable")?this.$selectionUl.focus():this.$selectableUl.focus()},activeMouse:function(t){var i=this;t.on("mousemove",function(){var n=t.find(i.elemsSelector);n.on("mouseenter",function(){n.removeClass("ms-hover"),e(this).addClass("ms-hover")})})},refresh:function(){this.destroy(),this.$element.multiSelect(this.options)},destroy:function(){e("#ms-"+this.$element.attr("id")).remove(),this.$element.removeData("multiselect")},select:function(t,i){"string"==typeof t&&(t=[t]);var n=this,s=this.$element,r=e.map(t,function(e){return n.sanitize(e,n.sanitizeRegexp)}),o=this.$selectableUl.find("#"+r.join("-selectable, #")+"-selectable").filter(":not(."+n.options.disabledClass+")"),a=this.$selectionUl.find("#"+r.join("-selection, #")+"-selection").filter(":not(."+n.options.disabledClass+")"),l=s.find("option:not(:disabled)").filter(function(){return e.inArray(this.value,t)>-1});if(o.length>0){o.addClass("ms-selected").hide(),a.addClass("ms-selected").show(),l.prop("selected",!0);var c=n.$selectableUl.children(".ms-optgroup-container");if(c.length>0){c.each(function(){var t=e(this).find(".ms-elem-selectable");t.length===t.filter(".ms-selected").length&&e(this).find(".ms-optgroup-label").hide()});var u=n.$selectionUl.children(".ms-optgroup-container");u.each(function(){var t=e(this).find(".ms-elem-selection");t.filter(".ms-selected").length>0&&e(this).find(".ms-optgroup-label").show()})}else if(n.options.keepOrder){var d=n.$selectionUl.find(".ms-selected");d.length>1&&d.last().get(0)!=a.get(0)&&a.insertAfter(d.last())}"init"!==i&&(s.trigger("change"),"function"==typeof n.options.afterSelect&&n.options.afterSelect.call(this,t))}},deselect:function(t){"string"==typeof t&&(t=[t]);var i=this,n=this.$element,s=e.map(t,function(e){return i.sanitize(e,i.sanitizeRegexp)}),r=this.$selectableUl.find("#"+s.join("-selectable, #")+"-selectable"),o=this.$selectionUl.find("#"+s.join("-selection, #")+"-selection").filter(".ms-selected"),a=n.find("option").filter(function(){return e.inArray(this.value,t)>-1});if(o.length>0){r.removeClass("ms-selected").show(),o.removeClass("ms-selected").hide(),a.prop("selected",!1);var l=i.$selectableUl.children(".ms-optgroup-container");if(l.length>0){l.each(function(){var t=e(this).find(".ms-elem-selectable");t.filter(":not(.ms-selected)").length>0&&e(this).find(".ms-optgroup-label").show()});var c=i.$selectionUl.children(".ms-optgroup-container");c.each(function(){var t=e(this).find(".ms-elem-selection");0===t.filter(".ms-selected").length&&e(this).find(".ms-optgroup-label").hide()})}n.trigger("change"),"function"==typeof i.options.afterDeselect&&i.options.afterDeselect.call(this,t)}},select_all:function(){var t=this.$element,i=t.val();if(t.find('option:not(":disabled")').prop("selected",!0),this.$selectableUl.find(".ms-elem-selectable").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").hide(),this.$selectionUl.find(".ms-optgroup-label").show(),this.$selectableUl.find(".ms-optgroup-label").hide(),this.$selectionUl.find(".ms-elem-selection").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").show(),this.$selectionUl.focus(),t.trigger("change"),"function"==typeof this.options.afterSelect){var n=e.grep(t.val(),function(t){return e.inArray(t,i)<0});this.options.afterSelect.call(this,n)}},deselect_all:function(){var e=this.$element,t=e.val();e.find("option").prop("selected",!1),this.$selectableUl.find(".ms-elem-selectable").removeClass("ms-selected").show(),this.$selectionUl.find(".ms-optgroup-label").hide(),this.$selectableUl.find(".ms-optgroup-label").show(),this.$selectionUl.find(".ms-elem-selection").removeClass("ms-selected").hide(),this.$selectableUl.focus(),e.trigger("change"),"function"==typeof this.options.afterDeselect&&this.options.afterDeselect.call(this,t)},sanitize:function(e,t){return e.replace(t,"_")}},e.fn.multiSelect=function(){var i=arguments[0],n=arguments;return this.each(function(){var s=e(this),r=s.data("multiselect"),o=e.extend({},e.fn.multiSelect.defaults,s.data(),"object"==typeof i&&i);r||s.data("multiselect",r=new t(this,o)),"string"==typeof i?r[i](n[1]):r.init()})},e.fn.multiSelect.defaults={selectableOptgroup:!1,disabledClass:"disabled",dblClick:!1,keepOrder:!1},e.fn.multiSelect.Constructor=t}(window.jQuery),function(){Array.prototype.unique=function(){var e,t,i,n,s,r;for(t={},e=n=0,s=this.length;s>=0?s>n:n>s;e=s>=0?++n:--n)t[this[e]]=this[e];r=[];for(e in t)i=t[e],r.push(i);return r}}.call(this),$(function(){$.fn.bootstrapFileInput=function(){this.each(function(e,t){var i=$(t);if("undefined"==typeof i.attr("data-bfi-disabled")){var n="Browse";"undefined"!=typeof i.attr("title")&&(n=i.attr("title"));var s=$("<div>").append(i.eq(0).clone()).html(),r="";i.attr("class")&&(r=" "+i.attr("class")),i.replaceWith('<a class="file-input-wrapper btn'+r+'">'+n+s+"</a>")}}).promise().done(function(){$(".file-input-wrapper").mousemove(function(e){var t,i,n,s,r,o,a,l;i=$(this),t=i.find("input"),n=i.offset().left,s=i.offset().top,r=t.width(),o=t.height(),a=e.pageX,l=e.pageY,moveInputX=a-n-r+20,moveInputY=l-s-o/2,t.css({left:moveInputX,top:moveInputY})}),$(".file-input-wrapper input[type=file]").change(function(){var e;e=$(this).val(),$(this).parent().next(".file-input-name").remove(),e=$(this).prop("files")&&$(this).prop("files").length>1?$(this)[0].files.length+" files":e.substring(e.lastIndexOf("\\")+1,e.length),$(this).parent().after('<span class="file-input-name">'+e+"</span>")})})};var e="<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>";$("link[rel=stylesheet]").eq(0).before(e)}),/*
Copyright 2012 Igor Vaynberg

Version: @@ver@@ Timestamp: @@timestamp@@

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var i=e([0]),n=-1,s=this.length;++n<s&&(i.context=i[0]=this[n])&&t.call(i[0],n,i)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function i(e){var t,i,n,s;if(!e||e.length<1)return e;for(t="",i=0,n=e.length;n>i;i++)s=e.charAt(i),t+=z[s]||s;return t}function n(e,t){for(var i=0,n=t.length;n>i;i+=1)if(r(e,t[i]))return i;return-1}function s(){var t=e(F);t.appendTo("body");var i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),i}function r(e,i){return e===i?!0:e===t||i===t?!1:null===e||null===i?!1:e.constructor===String?e+""==i+"":i.constructor===String?i+""==e+"":!1}function o(t,i){var n,s,r;if(null===t||t.length<1)return[];for(n=t.split(i),s=0,r=n.length;r>s;s+=1)n[s]=e.trim(n[s]);return n}function a(e){return e.outerWidth(!1)-e.width()}function l(i){var n="keyup-change-value";i.on("keydown",function(){e.data(i,n)===t&&e.data(i,n,i.val())}),i.on("keyup",function(){var s=e.data(i,n);s!==t&&i.val()!==s&&(e.removeData(i,n),i.trigger("keyup-change"))})}function c(i){i.on("mousemove",function(i){var n=L;(n===t||n.x!==i.pageX||n.y!==i.pageY)&&e(i.target).trigger("mousemove-filtered",i)})}function u(e,i,n){n=n||t;var s;return function(){var t=arguments;window.clearTimeout(s),s=window.setTimeout(function(){i.apply(n,t)},e)}}function d(e){var t,i=!1;return function(){return i===!1&&(t=e(),i=!0),t}}function h(e,t){var i=u(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}function f(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,i=e[0],n=e.val().length;e.focus(),e.is(":visible")&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&(t=i.createTextRange(),t.collapse(!1),t.select()))},0)}function p(t){t=e(t)[0];var i=0,n=0;if("selectionStart"in t)i=t.selectionStart,n=t.selectionEnd-i;else if("selection"in document){t.focus();var s=document.selection.createRange();n=document.selection.createRange().text.length,s.moveStart("character",-t.value.length),i=s.text.length-n}return{offset:i,length:n}}function m(e){e.preventDefault(),e.stopPropagation()}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!P){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);P=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),P.attr("class","select2-sizer"),e("body").append(P)}return P.text(t.val()),P.width()}function y(t,i,n){var s,r,o=[];s=t.attr("class"),s&&(s=""+s,e(s.split(" ")).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),s=i.attr("class"),s&&(s=""+s,e(s.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(r=n(this),r&&o.push(this))})),t.attr("class",o.join(" "))}function b(e,t,n,s){var r=i(e.toUpperCase()).indexOf(i(t.toUpperCase())),o=t.length;return 0>r?(n.push(s(e)),void 0):(n.push(s(e.substring(0,r))),n.push("<span class='select2-match'>"),n.push(s(e.substring(r,r+o))),n.push("</span>"),n.push(s(e.substring(r+o,e.length))),void 0)}function _(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function w(i){var n,s=null,r=i.quietMillis||100,o=i.url,a=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,r=o,c=i.transport||e.fn.select2.ajaxDefaults.transport,u={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,u);n=n?n.call(a,l.term,l.page,l.context):null,r="function"==typeof r?r.call(a,l.term,l.page,l.context):r,s&&s.abort(),i.params&&(e.isFunction(i.params)?e.extend(d,i.params.call(a)):e.extend(d,i.params)),e.extend(d,{url:r,dataType:i.dataType,data:n,success:function(e){var t=i.results(e,l.page);l.callback(t)}}),s=c.call(a,d)},r)}}function x(t){var i,n,s=t,r=function(e){return""+e.text};e.isArray(s)&&(n=s,s={results:n}),e.isFunction(s)===!1&&(n=s,s=function(){return n});var o=s();return o.text&&(r=o.text,e.isFunction(r)||(i=o.text,r=function(e){return e[i]})),function(t){var i,n=t.term,o={results:[]};return""===n?(t.callback(s()),void 0):(i=function(s,o){var a,l;if(s=s[0],s.children){a={};for(l in s)s.hasOwnProperty(l)&&(a[l]=s[l]);a.children=[],e(s.children).each2(function(e,t){i(t,a.children)}),(a.children.length||t.matcher(n,r(a),s))&&o.push(a)}else t.matcher(n,r(s),s)&&o.push(s)},e(s().results).each2(function(e,t){i(t,o.results)}),t.callback(o),void 0)}}function C(i){var n=e.isFunction(i);return function(s){var r=s.term,o={results:[]};e(n?i():i).each(function(){var e=this.text!==t,i=e?this.text:this;(""===r||s.matcher(r,i))&&o.results.push(e?this:{id:this,text:this})}),s.callback(o)}}function k(t,i){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(i+" must be a function or a falsy value")}function S(t){return e.isFunction(t)?t():t}function T(t){var i=0;return e.each(t,function(e,t){t.children?i+=T(t.children):i++}),i}function D(e,i,n,s){var o,a,l,c,u,d=e,h=!1;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1)return t;for(;;){for(a=-1,l=0,c=s.tokenSeparators.length;c>l&&(u=s.tokenSeparators[l],a=e.indexOf(u),!(a>=0));l++);if(0>a)break;if(o=e.substring(0,a),e=e.substring(a+u.length),o.length>0&&(o=s.createSearchChoice.call(this,o,i),o!==t&&null!==o&&s.id(o)!==t&&null!==s.id(o))){for(h=!1,l=0,c=i.length;c>l;l++)if(r(s.id(o),s.id(i[l]))){h=!0;break}h||n(o)}}return d!==e?e:void 0}function $(t,i){var n=function(){};return n.prototype=new t,n.prototype.constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,i),n}if(window.Select2===t){var E,I,N,A,M,P,O,R,L={x:0,y:0},E={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case E.LEFT:case E.RIGHT:case E.UP:case E.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case E.SHIFT:case E.CTRL:case E.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},F="<div class='select2-measure-scrollbar'></div>",z={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};O=e(document),M=function(){var e=1;return function(){return e++}}(),O.on("mousemove",function(e){L.x=e.pageX,L.y=e.pageY}),I=$(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var n,r,o,a,u=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+M()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=d(function(){return i.element.closest("body")}),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(S(i.containerCss)),this.container.addClass(S(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(i.dropdownCssClass)),this.dropdown.data("select2",this),this.results=n=this.container.find(u),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),c(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",u,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",u,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&n.mousewheel(function(e,t,i,s){var r=n.scrollTop();s>0&&0>=r-s?(n.scrollTop(0),m(e)):0>s&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),m(e))}),l(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",u,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var o=i.element.prop("disabled");o===t&&(o=!1),this.enable(!o);var a=i.element.prop("readonly");a===t&&(a=!1),this.readonly(a),R=R||s(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,i=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),i!==t&&(i.container.remove(),i.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:r(e.attr("locked"),"locked")||r(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(i){var n,s,a,l,c=this;if(n=i.element,"select"===n.get(0).tagName.toLowerCase()&&(this.select=s=i.element),s&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=e.extend({},{populateResults:function(n,s,r){var o,a=this.opts.id;o=function(n,s,l){var u,d,h,f,p,m,g,v,y,b;for(n=i.sortResults(n,s,r),u=0,d=n.length;d>u;u+=1)h=n[u],p=h.disabled===!0,f=!p&&a(h)!==t,m=h.children&&h.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+l),g.addClass("select2-result"),g.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(h)),v=e(document.createElement("div")),v.addClass("select2-result-label"),b=i.formatResult(h,v,r,c.opts.escapeMarkup),b!==t&&v.html(b),g.append(v),m&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),o(h.children,y,l+1),g.append(y)),g.data("select2-data",h),s.append(g)},o(s,n,0)}},e.fn.select2.defaults,i),"function"!=typeof i.id&&(a=i.id,i.id=function(e){return e[a]}),e.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(s?(i.query=this.bind(function(e){var i,s,r,o={results:[],more:!1},a=e.term;r=function(t,i){var n;t.is("option")?e.matcher(a,t.text(),t)&&i.push(c.optionToData(t)):t.is("optgroup")&&(n=c.optionToData(t),t.children().each2(function(e,t){r(t,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==t&&i.length>0&&(s=this.getPlaceholderOption(),s&&(i=i.not(s))),i.each2(function(e,t){r(t,o.results)}),e.callback(o)}),i.id=function(e){return e.id},i.formatResultCssClass=function(e){return e.css}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=w.call(i.element,i.ajax)):"data"in i?i.query=x(i.data):"tags"in i&&(i.query=C(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,n){var s=[];e(o(t.val(),i.separator)).each(function(){var t=this,n=this,o=i.tags;e.isFunction(o)&&(o=o()),e(o).each(function(){return r(this.id,t)?(n=this.text,!1):void 0}),s.push({id:t,text:n})}),n(s)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var e,i=this.opts.element;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,n=i.prop("disabled");n===t&&(n=!1),this.enable(!n);var e=i.prop("readonly");e===t&&(e=!1),this.readonly(e),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(S(this.opts.containerCssClass)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(this.opts.dropdownCssClass))}),i.on("propertychange.select2 DOMAttrModified.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,i,n,s,r=this.dropdown,o=this.container.offset(),a=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=r.outerHeight(!1),u=e(window).scrollLeft()+e(window).width(),d=e(window).scrollTop()+e(window).height(),h=o.top+a,f=o.left,p=d>=h+c,m=o.top-c>=this.body().scrollTop(),g=r.outerWidth(!1),v=u>=f+g,y=r.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(s=e(".select2-results",r)[0],r.addClass("select2-drop-auto-width"),r.css("width",""),g=r.outerWidth(!1)+(s.scrollHeight===s.clientHeight?0:R.width),g>l?l=g:g=l,v=u>=f+g):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),h-=t.top,f-=t.left),y?(i=!0,!m&&p&&(i=!1)):(i=!1,!p&&m&&(i=!0)),v||(f=o.left+l-g),i?(h=o.top-c,this.container.addClass("select2-drop-above"),r.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),r.removeClass("select2-drop-above")),n=e.extend({top:h,left:f,width:l},S(this.opts.dropdownCss)),r.css(n)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,i=this.containerId,n="scroll."+i,s="resize."+i,r="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var i,n=e("#select2-drop");n.length>0&&(i=n.data("select2"),i.opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close({focus:!1}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){e(this).on(s+" "+n+" "+r,function(){o.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,i="scroll."+t,n="resize."+t,s="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(i).off(n).off(s)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return S(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,i,n,s,r,o,a,l=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return l.scrollTop(0),void 0;t=this.findHighlightableChoices().find(".select2-result-label"),n=e(t[i]),s=n.offset().top+n.outerHeight(!0),i===t.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(s=a.offset().top+a.outerHeight(!0))),r=l.offset().top+l.outerHeight(!0),s>r&&l.scrollTop(l.scrollTop()+(s-r)),o=n.offset().top-l.offset().top,0>o&&"none"!=n.css("display")&&l.scrollTop(l.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){n+=t;var s=e(i[n]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var i,s,r=this.findHighlightableChoices();return 0===arguments.length?n(r.filter(".select2-highlighted")[0],r.get()):(t>=r.length&&(t=r.length-1),0>t&&(t=0),this.removeHighlight(),i=e(r[t]),i.addClass("select2-highlighted"),this.ensureHighlightVisible(),s=i.data("select2-data"),s&&this.opts.element.trigger({type:"select2-highlight",val:this.id(s),choice:s}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,i=t.find("li.select2-more-results"),n=this.resultsPage+1,s=this,r=this.search.val(),o=this.context;0!==i.length&&(e=i.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:n,context:o,matcher:this.opts.matcher,callback:this.bind(function(e){s.opened()&&(s.opts.populateResults.call(this,t,e.results,{term:r,page:n,context:o}),s.postprocessResults(e,!1,!1),e.more===!0?(i.detach().appendTo(t).text(s.opts.formatLoadMore(n+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):i.remove(),s.positionDropdown(),s.resultsPage=n,s.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(i){function n(){c.removeClass("select2-active"),h.positionDropdown()}function s(e){u.html(e),n()}var o,a,l,c=this.search,u=this.results,d=this.opts,h=this,f=c.val(),p=e.data(this.container,"select2-last-term");if((i===!0||!p||!r(f,p))&&(e.data(this.container,"select2-last-term",f),i===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(o=this.data(),e.isArray(o)&&o.length>=m&&k(d.formatSelectionTooBig,"formatSelectionTooBig")))return s("<li class='select2-selection-limit'>"+d.formatSelectionTooBig(m)+"</li>"),void 0;if(c.val().length<d.minimumInputLength)return k(d.formatInputTooShort,"formatInputTooShort")?s("<li class='select2-no-results'>"+d.formatInputTooShort(c.val(),d.minimumInputLength)+"</li>"):s(""),i&&this.showSearch&&this.showSearch(!0),void 0;if(d.maximumInputLength&&c.val().length>d.maximumInputLength)return k(d.formatInputTooLong,"formatInputTooLong")?s("<li class='select2-no-results'>"+d.formatInputTooLong(c.val(),d.maximumInputLength)+"</li>"):s(""),void 0;d.formatSearching&&0===this.findHighlightableChoices().length&&s("<li class='select2-searching'>"+d.formatSearching()+"</li>"),c.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=t&&null!=a&&c.val(a),this.resultsPage=1,d.query({element:d.element,term:c.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(o){var a;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(h,c.val(),o.results),a!==t&&null!==a&&h.id(a)!==t&&null!==h.id(a)&&0===e(o.results).filter(function(){return r(h.id(this),h.id(a))}).length&&o.results.unshift(a)),0===o.results.length&&k(d.formatNoMatches,"formatNoMatches"))return s("<li class='select2-no-results'>"+d.formatNoMatches(c.val())+"</li>"),void 0;u.empty(),h.opts.populateResults.call(this,u,o.results,{term:c.val(),page:this.resultsPage,context:null}),o.more===!0&&k(d.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(d.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(o,i),n(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(e){var t=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children().first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function i(){var i,n,s,r,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==t)for(n=i.split(";"),r=0,o=n.length;o>r;r+=1)if(s=n[r].replace(/\s/g,"").match(/[^-]width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==s&&s.length>=1)return s[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=i.call(this);null!==n&&this.container.css("width",n)}}),N=$(I,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,s;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),i=this.search.get(0),i.createTextRange?(n=i.createTextRange(),n.collapse(!1),n.select()):i.setSelectionRange&&(s=this.search.val().length,i.setSelectionRange(s,s)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))
},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,i=this.container,n=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+M()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===E.PAGE_UP||e.which===E.PAGE_DOWN)return m(e),void 0;switch(e.which){case E.UP:case E.DOWN:return this.moveHighlight(e.which===E.UP?-1:1),m(e),void 0;case E.ENTER:return this.selectHighlighted(),m(e),void 0;case E.TAB:return this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),void 0;case E.ESC:return this.cancel(e),m(e),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==E.TAB&&!E.isControl(e)&&!E.isFunctionKey(e)&&e.which!==E.ESC){if(this.opts.openOnEnter===!1&&e.which===E.ENTER)return m(e),void 0;if(e.which==E.DOWN||e.which==E.UP||e.which==E.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),m(e),void 0}return e.which==E.DELETE||e.which==E.BACKSPACE?(this.opts.allowClear&&this.clear(),m(e),void 0):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),g(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(t)})),n.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");if(t){var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==t&&e.is(":selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val():!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=e.find(":selected");t(i.optionToData(n))}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var s=i.val(),o=null;t.query({matcher:function(e,i,n){var a=r(s,t.id(n));return a&&(o=n),a},callback:e.isFunction(n)?function(){n(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var n=0,s=this;if(this.findHighlightableChoices().each2(function(e,t){return r(s.id(t.data("select2-data")),s.opts.element.val())?(n=e,!1):void 0}),i!==!1&&(t===!0&&n>=0?this.highlight(n):this.highlight(0)),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(T(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.selection.focus(),r(i,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var i,n,s=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),s.empty(),null!==e&&(i=this.opts.formatSelection(e,s,this.opts.escapeMarkup)),i!==t&&s.append(i),n=this.opts.formatSelectionCssClass(e,s),n!==t&&s.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,i=!1,n=null,s=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return n=s.optionToData(t),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:r});else{if(!e&&0!==e)return this.clear(i),void 0;if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){s.opts.element.val(e?s.id(e):""),s.updateSelection(e),s.setPlaceholder(),i&&s.triggerChange({added:e,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i,n=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(arguments.length>1&&(n=arguments[1]),e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:i})):this.clear(n),void 0)}}),A=$(I,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=[];e.find(":selected").each2(function(e,t){n.push(i.optionToData(t))}),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var s=o(i.val(),t.separator),a=[];t.query({matcher:function(i,n,o){var l=e.grep(s,function(e){return r(e,t.id(o))}).length;return l&&a.push(o),l},callback:e.isFunction(n)?function(){for(var e=[],i=0;i<s.length;i++)for(var o=s[i],l=0;l<a.length;l++){var c=a[l];if(r(o,t.id(c))){e.push(c),a.splice(l,1);break}}n(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(i);var n=this;this.selection.on("click",".select2-search-choice",function(){n.search[0].focus(),n.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+M()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),s=i.next(".select2-search-choice:not(.select2-locked)"),r=p(this.search);if(i.length&&(e.which==E.LEFT||e.which==E.RIGHT||e.which==E.BACKSPACE||e.which==E.DELETE||e.which==E.ENTER)){var o=i;return e.which==E.LEFT&&n.length?o=n:e.which==E.RIGHT?o=s.length?s:null:e.which===E.BACKSPACE?(this.unselect(i.first()),this.search.width(10),o=n.length?n:s):e.which==E.DELETE?(this.unselect(i.first()),this.search.width(10),o=s.length?s:null):e.which==E.ENTER&&(o=null),this.selectChoice(o),m(e),o&&o.length||this.open(),void 0}if((e.which===E.BACKSPACE&&1==this.keydowns||e.which==E.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),m(e),void 0;if(this.selectChoice(null),this.opened())switch(e.which){case E.UP:case E.DOWN:return this.moveHighlight(e.which===E.UP?-1:1),m(e),void 0;case E.ENTER:return this.selectHighlighted(),m(e),void 0;case E.TAB:return this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),void 0;case E.ESC:return this.cancel(e),m(e),void 0}if(e.which!==E.TAB&&!E.isControl(e)&&!E.isFunctionKey(e)&&e.which!==E.BACKSPACE&&e.which!==E.ESC){if(e.which===E.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===E.PAGE_UP||e.which===E.PAGE_DOWN)&&m(e),e.which===E.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],s=[],r=this;e(t).each(function(){n(r.id(this),i)<0&&(i.push(r.id(this)),s.push(this))}),t=s,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,s,r=!i.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=r?o:a,c=this.id(i),u=this.getVal();n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup),n!=t&&l.find("div").replaceWith("<div>"+n+"</div>"),s=this.opts.formatSelectionCssClass(i,l.find("div")),s!=t&&l.addClass(s),r&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),m(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(e){var t,i,s=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),t&&(i=n(this.id(t),s),i>=0&&(s.splice(i,1),this.setVal(s),this.select&&this.postprocessResults()),e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))},postprocessResults:function(e,t,i){var s=this.getVal(),r=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),a=this;r.each2(function(e,t){var i=a.id(t.data("select2-data"));n(i,s)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&k(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+a.opts.formatNoMatches(a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var e,t,i,n,s,r=a(this.search);e=v(this.search)+10,t=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,s=i-(t-n)-r,e>s&&(s=i-r),40>s&&(s=i-r),0>=s&&(s=e),this.search.width(s)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){n(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),i=0;i<t.length;i++)for(var n=0;n<e.length;n++)r(this.opts.id(t[i]),this.opts.id(e[n]))&&(t.splice(i,1),i--,e.splice(n,1),n--);return{added:t,removed:e}},val:function(i,n){var s,r=this;if(0===arguments.length)return this.getVal();if(s=this.data(),s.length||(s=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),n&&this.triggerChange({added:this.data(),removed:s}),void 0;if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(s,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=e.map(t,r.id);r.setVal(i),r.updateSelection(t),r.clearSearch(),n&&r.triggerChange(r.buildChangeDetails(s,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,i){var n,s,r=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(s=this.data(),t||(t=[]),n=e.map(t,function(e){return r.opts.id(e)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(s,this.data())),void 0)}}),e.fn.select2=function(){var i,s,r,o,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],d=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])i=0===l.length?{}:e.extend({},l[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?a=i.element.prop("multiple"):(a=i.multiple||!1,"tags"in i&&(i.multiple=a=!0)),s=a?new A:new N,s.init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(n(l[0],c)<0)throw"Unknown method: "+l[0];if(o=t,s=e(this).data("select2"),s===t)return;if(r=l[0],"container"===r?o=s.container:"dropdown"===r?o=s.dropdown:(h[r]&&(r=h[r]),o=s[r].apply(s,l.slice(1))),n(l[0],u)>=0||n(l[0],d)&&1==l.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var s=[];return b(e.text,i.term,s,n),s.join("")},formatSelection:function(e,i,n){return e?n(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return i(""+t).toUpperCase().indexOf(i(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:D,escapeMarkup:_,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:x,tags:C},util:{debounce:u,markMatch:b,escapeMarkup:_,stripDiacritics:i},"class":{"abstract":I,single:N,multi:A}}}}(jQuery),$.fn.remote=function(){$(this).on("click",function(){var e=$(this);e.data("fired?")||(e.data("fired?",!0),$.get(e.attr("href")))})},$(function(){$(".remote").remote()}),function(){var e=this,t=e._,i={},n=Array.prototype,s=Object.prototype,r=Function.prototype,o=n.push,a=n.slice,l=n.concat,c=s.toString,u=s.hasOwnProperty,d=n.forEach,h=n.map,f=n.reduce,p=n.reduceRight,m=n.filter,g=n.every,v=n.some,y=n.indexOf,b=n.lastIndexOf,_=Array.isArray,w=Object.keys,x=r.bind,C=function(e){return e instanceof C?e:this instanceof C?void(this._wrapped=e):new C(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):e._=C,C.VERSION="1.6.0";var k=C.each=C.forEach=function(e,t,n){if(null==e)return e;if(d&&e.forEach===d)e.forEach(t,n);else if(e.length===+e.length){for(var s=0,r=e.length;r>s;s++)if(t.call(n,e[s],s,e)===i)return}else for(var o=C.keys(e),s=0,r=o.length;r>s;s++)if(t.call(n,e[o[s]],o[s],e)===i)return;return e};C.map=C.collect=function(e,t,i){var n=[];return null==e?n:h&&e.map===h?e.map(t,i):(k(e,function(e,s,r){n.push(t.call(i,e,s,r))}),n)};var S="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(e,t,i,n){var s=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return n&&(t=C.bind(t,n)),s?e.reduce(t,i):e.reduce(t);if(k(e,function(e,r,o){s?i=t.call(n,i,e,r,o):(i=e,s=!0)}),!s)throw new TypeError(S);return i},C.reduceRight=C.foldr=function(e,t,i,n){var s=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return n&&(t=C.bind(t,n)),s?e.reduceRight(t,i):e.reduceRight(t);var r=e.length;if(r!==+r){var o=C.keys(e);r=o.length}if(k(e,function(a,l,c){l=o?o[--r]:--r,s?i=t.call(n,i,e[l],l,c):(i=e[l],s=!0)}),!s)throw new TypeError(S);return i},C.find=C.detect=function(e,t,i){var n;return T(e,function(e,s,r){return t.call(i,e,s,r)?(n=e,!0):void 0}),n},C.filter=C.select=function(e,t,i){var n=[];return null==e?n:m&&e.filter===m?e.filter(t,i):(k(e,function(e,s,r){t.call(i,e,s,r)&&n.push(e)}),n)},C.reject=function(e,t,i){return C.filter(e,function(e,n,s){return!t.call(i,e,n,s)},i)},C.every=C.all=function(e,t,n){t||(t=C.identity);var s=!0;return null==e?s:g&&e.every===g?e.every(t,n):(k(e,function(e,r,o){return(s=s&&t.call(n,e,r,o))?void 0:i}),!!s)};var T=C.some=C.any=function(e,t,n){t||(t=C.identity);var s=!1;return null==e?s:v&&e.some===v?e.some(t,n):(k(e,function(e,r,o){return s||(s=t.call(n,e,r,o))?i:void 0}),!!s)};C.contains=C.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):T(e,function(e){return e===t})},C.invoke=function(e,t){var i=a.call(arguments,2),n=C.isFunction(t);return C.map(e,function(e){return(n?t:e[t]).apply(e,i)})},C.pluck=function(e,t){return C.map(e,C.property(t))},C.where=function(e,t){return C.filter(e,C.matches(t))},C.findWhere=function(e,t){return C.find(e,C.matches(t))},C.max=function(e,t,i){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var n=-1/0,s=-1/0;return k(e,function(e,r,o){var a=t?t.call(i,e,r,o):e;a>s&&(n=e,s=a)}),n},C.min=function(e,t,i){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var n=1/0,s=1/0;return k(e,function(e,r,o){var a=t?t.call(i,e,r,o):e;s>a&&(n=e,s=a)}),n},C.shuffle=function(e){var t,i=0,n=[];return k(e,function(e){t=C.random(i++),n[i-1]=n[t],n[t]=e}),n},C.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=C.values(e)),e[C.random(e.length-1)]):C.shuffle(e).slice(0,Math.max(0,t))};var D=function(e){return null==e?C.identity:C.isFunction(e)?e:C.property(e)};C.sortBy=function(e,t,i){return t=D(t),C.pluck(C.map(e,function(e,n,s){return{value:e,index:n,criteria:t.call(i,e,n,s)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var $=function(e){return function(t,i,n){var s={};return i=D(i),k(t,function(r,o){var a=i.call(n,r,o,t);e(s,a,r)}),s}};C.groupBy=$(function(e,t,i){C.has(e,t)?e[t].push(i):e[t]=[i]}),C.indexBy=$(function(e,t,i){e[t]=i}),C.countBy=$(function(e,t){C.has(e,t)?e[t]++:e[t]=1}),C.sortedIndex=function(e,t,i,n){i=D(i);for(var s=i.call(n,t),r=0,o=e.length;o>r;){var a=r+o>>>1;i.call(n,e[a])<s?r=a+1:o=a}return r},C.toArray=function(e){return e?C.isArray(e)?a.call(e):e.length===+e.length?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:0>t?[]:a.call(e,0,t)},C.initial=function(e,t,i){return a.call(e,0,e.length-(null==t||i?1:t))},C.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},C.rest=C.tail=C.drop=function(e,t,i){return a.call(e,null==t||i?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var E=function(e,t,i){return t&&C.every(e,C.isArray)?l.apply(i,e):(k(e,function(e){C.isArray(e)||C.isArguments(e)?t?o.apply(i,e):E(e,t,i):i.push(e)}),i)};C.flatten=function(e,t){return E(e,t,[])},C.without=function(e){return C.difference(e,a.call(arguments,1))},C.partition=function(e,t){var i=[],n=[];return k(e,function(e){(t(e)?i:n).push(e)}),[i,n]},C.uniq=C.unique=function(e,t,i,n){C.isFunction(t)&&(n=i,i=t,t=!1);var s=i?C.map(e,i,n):e,r=[],o=[];return k(s,function(i,n){(t?n&&o[o.length-1]===i:C.contains(o,i))||(o.push(i),r.push(e[n]))}),r},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(e){var t=a.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.contains(t,e)})})},C.difference=function(e){var t=l.apply(n,a.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){for(var e=C.max(C.pluck(arguments,"length").concat(0)),t=new Array(e),i=0;e>i;i++)t[i]=C.pluck(arguments,""+i);return t},C.object=function(e,t){if(null==e)return{};for(var i={},n=0,s=e.length;s>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},C.indexOf=function(e,t,i){if(null==e)return-1;var n=0,s=e.length;if(i){if("number"!=typeof i)return n=C.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,s+i):i}if(y&&e.indexOf===y)return e.indexOf(t,i);for(;s>n;n++)if(e[n]===t)return n;return-1},C.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(b&&e.lastIndexOf===b)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var s=n?i:e.length;s--;)if(e[s]===t)return s;return-1},C.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),s=0,r=new Array(n);n>s;)r[s++]=e,e+=i;return r};var I=function(){};C.bind=function(e,t){var i,n;if(x&&e.bind===x)return x.apply(e,a.call(arguments,1));if(!C.isFunction(e))throw new TypeError;return i=a.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(a.call(arguments)));I.prototype=e.prototype;var s=new I;I.prototype=null;var r=e.apply(s,i.concat(a.call(arguments)));return Object(r)===r?r:s}},C.partial=function(e){var t=a.call(arguments,1);return function(){for(var i=0,n=t.slice(),s=0,r=n.length;r>s;s++)n[s]===C&&(n[s]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},C.bindAll=function(e){var t=a.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return k(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var i={};return t||(t=C.identity),function(){var n=t.apply(this,arguments);return C.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},C.delay=function(e,t){var i=a.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(a.call(arguments,1)))},C.throttle=function(e,t,i){var n,s,r,o=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:C.now(),o=null,r=e.apply(n,s),n=s=null};return function(){var c=C.now();a||i.leading!==!1||(a=c);var u=t-(c-a);return n=this,s=arguments,0>=u?(clearTimeout(o),o=null,a=c,r=e.apply(n,s),n=s=null):o||i.trailing===!1||(o=setTimeout(l,u)),r}},C.debounce=function(e,t,i){var n,s,r,o,a,l=function(){var c=C.now()-o;t>c?n=setTimeout(l,t-c):(n=null,i||(a=e.apply(r,s),r=s=null))};return function(){r=this,s=arguments,o=C.now();var c=i&&!n;return n||(n=setTimeout(l,t)),c&&(a=e.apply(r,s),r=s=null),a}},C.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},C.wrap=function(e,t){return C.partial(t,e)},C.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},C.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},C.keys=function(e){if(!C.isObject(e))return[];if(w)return w(e);var t=[];for(var i in e)C.has(e,i)&&t.push(i);return t},C.values=function(e){for(var t=C.keys(e),i=t.length,n=new Array(i),s=0;i>s;s++)n[s]=e[t[s]];return n},C.pairs=function(e){for(var t=C.keys(e),i=t.length,n=new Array(i),s=0;i>s;s++)n[s]=[t[s],e[t[s]]];return n},C.invert=function(e){for(var t={},i=C.keys(e),n=0,s=i.length;s>n;n++)t[e[i[n]]]=i[n];return t},C.functions=C.methods=function(e){var t=[];for(var i in e)C.isFunction(e[i])&&t.push(i);return t.sort()},C.extend=function(e){return k(a.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},C.pick=function(e){var t={},i=l.apply(n,a.call(arguments,1));return k(i,function(i){i in e&&(t[i]=e[i])}),t},C.omit=function(e){var t={},i=l.apply(n,a.call(arguments,1));for(var s in e)C.contains(i,s)||(t[s]=e[s]);return t},C.defaults=function(e){return k(a.call(arguments,1),function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var N=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var s=c.call(e);if(s!=c.call(t))return!1;switch(s){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=i.length;r--;)if(i[r]==e)return n[r]==t;var o=e.constructor,a=t.constructor;if(o!==a&&!(C.isFunction(o)&&o instanceof o&&C.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1;i.push(e),n.push(t);var l=0,u=!0;if("[object Array]"==s){if(l=e.length,u=l==t.length)for(;l--&&(u=N(e[l],t[l],i,n)););}else{for(var d in e)if(C.has(e,d)&&(l++,!(u=C.has(t,d)&&N(e[d],t[d],i,n))))break;
if(u){for(d in t)if(C.has(t,d)&&!l--)break;u=!l}}return i.pop(),n.pop(),u};C.isEqual=function(e,t){return N(e,t,[],[])},C.isEmpty=function(e){if(null==e)return!0;if(C.isArray(e)||C.isString(e))return 0===e.length;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=_||function(e){return"[object Array]"==c.call(e)},C.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!(!e||!C.has(e,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(e){return"function"==typeof e}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return u.call(e,t)},C.noConflict=function(){return e._=t,this},C.identity=function(e){return e},C.constant=function(e){return function(){return e}},C.property=function(e){return function(t){return t[e]}},C.matches=function(e){return function(t){if(t===e)return!0;for(var i in e)if(e[i]!==t[i])return!1;return!0}},C.times=function(e,t,i){for(var n=Array(Math.max(0,e)),s=0;e>s;s++)n[s]=t.call(i,s);return n},C.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},C.now=Date.now||function(){return(new Date).getTime()};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};A.unescape=C.invert(A.escape);var M={escape:new RegExp("["+C.keys(A.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(A.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(M[e],function(t){return A[e][t]})}}),C.result=function(e,t){if(null==e)return void 0;var i=e[t];return C.isFunction(i)?i.call(e):i},C.mixin=function(e){k(C.functions(e),function(t){var i=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,i.apply(C,e))}})};var P=0;C.uniqueId=function(e){var t=++P+"";return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,i){var n;i=C.defaults({},i,C.templateSettings);var s=new RegExp([(i.escape||O).source,(i.interpolate||O).source,(i.evaluate||O).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(s,function(t,i,n,s,a){return o+=e.slice(r,a).replace(L,function(e){return"\\"+R[e]}),i&&(o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),s&&(o+="';\n"+s+"\n__p+='"),r=a+t.length,t}),o+="';\n",i.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=new Function(i.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(t)return n(t,C);var l=function(e){return n.call(this,e,C)};return l.source="function("+(i.variable||"obj")+"){\n"+o+"}",l},C.chain=function(e){return C(e).chain()};var F=function(e){return this._chain?C(e).chain():e};C.mixin(C),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];C.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],F.call(this,i)}}),k(["concat","join","slice"],function(e){var t=n[e];C.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return C})}.call(this),/*!
 * AmplifyJS 1.1.0 - Core, Store, Request
 * 
 * Copyright 2011 appendTo LLC. (http://appendto.com/team)
 * Dual licensed under the MIT or GPL licenses.
 * http://appendto.com/open-source-licenses
 * 
 * http://amplifyjs.com
 */
/*!
 * Amplify Core 1.1.0
 * 
 * Copyright 2011 appendTo LLC. (http://appendto.com/team)
 * Dual licensed under the MIT or GPL licenses.
 * http://appendto.com/open-source-licenses
 * 
 * http://amplifyjs.com
 */
function(e){var t=[].slice,i={};e.amplify={publish:function(e){var n,s,r,o,a=t.call(arguments,1),l=0;if(!i[e])return!0;for(n=i[e].slice(),r=n.length;r>l&&(s=n[l],o=s.callback.apply(s.context,a),o!==!1);l++);return o!==!1},subscribe:function(e,t,n,s){3===arguments.length&&"number"==typeof n&&(s=n,n=t,t=null),2===arguments.length&&(n=t,t=null),s=s||10;for(var r,o=0,a=e.split(/\s/),l=a.length;l>o;o++){e=a[o],r=!1,i[e]||(i[e]=[]);for(var c=i[e].length-1,u={callback:n,context:t,priority:s};c>=0;c--)if(i[e][c].priority<=s){i[e].splice(c+1,0,u),r=!0;break}r||i[e].unshift(u)}return n},unsubscribe:function(e,t){if(i[e])for(var n=i[e].length,s=0;n>s;s++)if(i[e][s].callback===t){i[e].splice(s,1);break}}}}(this),/*!
 * Amplify Store - Persistent Client-Side Storage 1.1.0
 * 
 * Copyright 2011 appendTo LLC. (http://appendto.com/team)
 * Dual licensed under the MIT or GPL licenses.
 * http://appendto.com/open-source-licenses
 * 
 * http://amplifyjs.com
 */
function(e,t){function i(e,i){n.addType(e,function(r,o,a){var l,c,u,d,h=o,f=(new Date).getTime();if(!r){h={},d=[],u=0;try{for(r=i.length;r=i.key(u++);)s.test(r)&&(c=JSON.parse(i.getItem(r)),c.expires&&c.expires<=f?d.push(r):h[r.replace(s,"")]=c.data);for(;r=d.pop();)i.removeItem(r)}catch(p){}return h}if(r="__amplify__"+r,o===t){if(l=i.getItem(r),c=l?JSON.parse(l):{expires:-1},!(c.expires&&c.expires<=f))return c.data;i.removeItem(r)}else if(null===o)i.removeItem(r);else{c=JSON.stringify({data:o,expires:a.expires?f+a.expires:null});try{i.setItem(r,c)}catch(p){n[e]();try{i.setItem(r,c)}catch(p){throw n.error()}}}return h})}var n=e.store=function(e,t,i,s){var s=n.type;return i&&i.type&&i.type in n.types&&(s=i.type),n.types[s](e,t,i||{})};n.types={},n.type=null,n.addType=function(e,t){n.type||(n.type=e),n.types[e]=t,n[e]=function(t,i,s){return s=s||{},s.type=e,n(t,i,s)}},n.error=function(){return"amplify.store quota exceeded"};var s=/^__amplify__/;for(var r in{localStorage:1,sessionStorage:1})try{window[r].getItem&&i(r,window[r])}catch(o){}if(window.globalStorage)try{i("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===n.type&&(n.type="globalStorage")}catch(o){}!function(){if(!n.types.localStorage){var e=document.createElement("div"),i="amplify";e.style.display="none",document.getElementsByTagName("head")[0].appendChild(e);try{e.addBehavior("#default#userdata"),e.load(i)}catch(s){return e.parentNode.removeChild(e),void 0}n.addType("userData",function(s,r,o){e.load(i);var a,l,c,u,d,h=r,f=(new Date).getTime();if(!s){for(h={},d=[],u=0;a=e.XMLDocument.documentElement.attributes[u++];)l=JSON.parse(a.value),l.expires&&l.expires<=f?d.push(a.name):h[a.name]=l.data;for(;s=d.pop();)e.removeAttribute(s);return e.save(i),h}if(s=s.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-"),r===t){if(a=e.getAttribute(s),l=a?JSON.parse(a):{expires:-1},!(l.expires&&l.expires<=f))return l.data;e.removeAttribute(s)}else null===r?e.removeAttribute(s):(c=e.getAttribute(s),l=JSON.stringify({data:r,expires:o.expires?f+o.expires:null}),e.setAttribute(s,l));try{e.save(i)}catch(p){null===c?e.removeAttribute(s):e.setAttribute(s,c),n.userData();try{e.setAttribute(s,l),e.save(i)}catch(p){throw null===c?e.removeAttribute(s):e.setAttribute(s,c),n.error()}}return h})}}(),function(){function e(e){return e===t?t:JSON.parse(JSON.stringify(e))}var i={},s={};n.addType("memory",function(n,r,o){return n?r===t?e(i[n]):(s[n]&&(clearTimeout(s[n]),delete s[n]),null===r?(delete i[n],null):(i[n]=r,o.expires&&(s[n]=setTimeout(function(){delete i[n],delete s[n]},o.expires)),r)):e(i)})}()}(this.amplify=this.amplify||{}),/*!
 * Amplify Request 1.1.0
 * 
 * Copyright 2011 appendTo LLC. (http://appendto.com/team)
 * Dual licensed under the MIT or GPL licenses.
 * http://appendto.com/open-source-licenses
 * 
 * http://amplifyjs.com
 */
function(e){function t(){}function i(e){return"[object Function]"==={}.toString.call(e)}function n(e){var t=!1;return setTimeout(function(){t=!0},1),function(){var i=this,n=arguments;t?e.apply(i,n):setTimeout(function(){e.apply(i,n)},1)}}e.request=function(s,r,o){var a=s||{};"string"==typeof a&&(i(r)&&(o=r,r={}),a={resourceId:s,data:r||{},success:o});var l={abort:t},c=e.request.resources[a.resourceId],u=a.success||t,d=a.error||t;if(a.success=n(function(t,i){i=i||"success",e.publish("request.success",a,t,i),e.publish("request.complete",a,t,i),u(t,i)}),a.error=n(function(t,i){i=i||"error",e.publish("request.error",a,t,i),e.publish("request.complete",a,t,i),d(t,i)}),!c){if(!a.resourceId)throw"amplify.request: no resourceId provided";throw"amplify.request: unknown resourceId: "+a.resourceId}return e.publish("request.before",a)?(e.request.resources[a.resourceId](a,l),l):(a.error(null,"abort"),void 0)},e.request.types={},e.request.resources={},e.request.define=function(t,i,n){if("string"==typeof i){if(!(i in e.request.types))throw"amplify.request.define: unknown type: "+i;n.resourceId=t,e.request.resources[t]=e.request.types[i](n)}else e.request.resources[t]=i}}(amplify),function(e,t,i){var n=["status","statusText","responseText","responseXML","readyState"],s=/\{([^\}]+)\}/g;e.request.types.ajax=function(s){return s=t.extend({type:"GET"},s),function(r,o){function a(e,s){t.each(n,function(e,t){try{h[t]=l[t]}catch(i){}}),/OK$/.test(h.statusText)&&(h.statusText="success"),e===i&&(e=null),d&&(s="abort"),/timeout|error|abort/.test(s)?h.error(e,s):h.success(e,s),a=t.noop}var l,c=(s.url,o.abort),u=t.extend(!0,{},s,{data:r.data}),d=!1,h={readyState:0,setRequestHeader:function(e,t){return l.setRequestHeader(e,t)},getAllResponseHeaders:function(){return l.getAllResponseHeaders()},getResponseHeader:function(e){return l.getResponseHeader(e)},overrideMimeType:function(e){return l.overrideMideType(e)},abort:function(){d=!0;try{l.abort()}catch(e){}a(null,"abort")},success:function(e,t){r.success(e,t)},error:function(e,t){r.error(e,t)}};e.publish("request.ajax.preprocess",s,r,u,h),t.extend(u,{success:function(e,t){a(e,t)},error:function(e,t){a(null,t)},beforeSend:function(t,i){l=t,u=i;var n=s.beforeSend?s.beforeSend.call(this,h,u):!0;return n&&e.publish("request.before.ajax",s,r,u,h)}}),t.ajax(u),o.abort=function(){h.abort(),c.call(this)}}},e.subscribe("request.ajax.preprocess",function(e,i,n){var r=[],o=n.data;"string"!=typeof o&&(o=t.extend(!0,{},e.data,o),n.url=n.url.replace(s,function(e,t){return t in o?(r.push(t),o[t]):void 0}),t.each(r,function(e,t){delete o[t]}),n.data=o)}),e.subscribe("request.ajax.preprocess",function(e,i,n){var s=n.data,r=e.dataMap;r&&"string"!=typeof s&&(t.isFunction(r)?n.data=r(s):(t.each(e.dataMap,function(e,t){e in s&&(s[t]=s[e],delete s[e])}),n.data=s))});var r=e.request.cache={_key:function(e,t,i){function n(){return i.charCodeAt(r++)<<24|i.charCodeAt(r++)<<16|i.charCodeAt(r++)<<8|i.charCodeAt(r++)<<0}i=t+i;for(var s=i.length,r=0,o=n();s>r;)o^=n();return"request-"+e+"-"+o},_default:function(){var e={};return function(t,i,n,s){var o=r._key(i.resourceId,n.url,n.data),a=t.cache;if(o in e)return s.success(e[o]),!1;var l=s.success;s.success=function(t){e[o]=t,"number"==typeof a&&setTimeout(function(){delete e[o]},a),l.apply(this,arguments)}}}()};e.store&&(t.each(e.store.types,function(t){r[t]=function(i,n,s,o){var a=r._key(n.resourceId,s.url,s.data),l=e.store[t](a);if(l)return s.success(l),!1;var c=o.success;o.success=function(n){e.store[t](a,n,{expires:i.cache.expires}),c.apply(this,arguments)}}}),r.persist=r[e.store.type]),e.subscribe("request.before.ajax",function(e){var t=e.cache;return t?(t=t.type||t,r[t in r?t:"_default"].apply(this,arguments)):void 0}),e.request.decoders={jsend:function(e,t,i,n,s){"success"===e.status?n(e.data):"fail"===e.status?s(e.data,"fail"):"error"===e.status&&(delete e.status,s(e,"error"))}},e.subscribe("request.before.ajax",function(i,n,s,r){function o(e,t){l(e,t)}function a(e,t){c(e,t)}var l=r.success,c=r.error,u=t.isFunction(i.decoder)?i.decoder:i.decoder in e.request.decoders?e.request.decoders[i.decoder]:e.request.decoders._default;u&&(r.success=function(e,t){u(e,t,r,o,a)},r.error=function(e,t){u(e,t,r,o,a)})})}(amplify,jQuery),function(e,t){"object"==typeof exports&&exports?module.exports=t:"function"==typeof define&&define.amd?define(t):e.Mustache=t}(this,function(){function e(e,t){return y.call(e,t)}function t(t){return!e(p,t)}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function n(e){return String(e).replace(/[&<>"'\/]/g,function(e){return w[e]})}function s(e){this.string=e,this.tail=e,this.pos=0}function r(e,t){this.view=e,this.parent=t,this._cache={}}function o(){this.clearCache()}function a(e,t,i,n){for(var s,r,o,l="",c=0,u=e.length;u>c;++c)switch(s=e[c],r=s[1],s[0]){case"#":if(o=i.lookup(r),"object"==typeof o)if(_(o))for(var h=0,f=o.length;f>h;++h)l+=a(s[4],t,i.push(o[h]),n);else o&&(l+=a(s[4],t,i.push(o),n));else if("function"==typeof o){var p=null==n?null:n.slice(s[3],s[5]);o=o.call(i.view,p,function(e){return t.render(e,i)}),null!=o&&(l+=o)}else o&&(l+=a(s[4],t,i,n));break;case"^":o=i.lookup(r),(!o||_(o)&&0===o.length)&&(l+=a(s[4],t,i,n));break;case">":o=t.getPartial(r),"function"==typeof o&&(l+=o(i));break;case"&":o=i.lookup(r),null!=o&&(l+=o);break;case"name":o=i.lookup(r),null!=o&&(l+=d.escape(o));break;case"text":l+=r}return l}function l(e){for(var t,i=[],n=i,s=[],r=0,o=e.length;o>r;++r)switch(t=e[r],t[0]){case"#":case"^":s.push(t),n.push(t),n=t[4]=[];break;case"/":var a=s.pop();a[5]=t[2],n=s.length>0?s[s.length-1][4]:i;break;default:n.push(t)}return i}function c(e){for(var t,i,n=[],s=0,r=e.length;r>s;++s)t=e[s],t&&("text"===t[0]&&i&&"text"===i[0]?(i[1]+=t[1],i[3]=t[3]):(i=t,n.push(t)));return n}function u(e){return[new RegExp(i(e[0])+"\\s*"),new RegExp("\\s*"+i(e[1]))]}var d={};d.name="mustache.js",d.version="0.7.2",d.tags=["{{","}}"],d.Scanner=s,d.Context=r,d.Writer=o;var h=/\s*/,f=/\s+/,p=/\S/,m=/\s*=/,g=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/,y=RegExp.prototype.test,b=Object.prototype.toString,_=Array.isArray||function(e){return"[object Array]"===b.call(e)},w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};d.escape=n,s.prototype.eos=function(){return""===this.tail},s.prototype.scan=function(e){var t=this.tail.match(e);return t&&0===t.index?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):""},s.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i),this.pos+=i}return t},r.make=function(e){return e instanceof r?e:new r(e)},r.prototype.push=function(e){return new r(e,this)},r.prototype.lookup=function(e){var t=this._cache[e];if(!t){if("."==e)t=this.view;else for(var i=this;i;){if(e.indexOf(".")>0){t=i.view;for(var n=e.split("."),s=0;t&&s<n.length;)t=t[n[s++]]}else t=i.view[e];if(null!=t)break;i=i.parent}this._cache[e]=t}return"function"==typeof t&&(t=t.call(this.view)),t},o.prototype.clearCache=function(){this._cache={},this._partialCache={}},o.prototype.compile=function(e,t){var i=this._cache[e];if(!i){var n=d.parse(e,t);i=this._cache[e]=this.compileTokens(n,e)}return i},o.prototype.compilePartial=function(e,t,i){var n=this.compile(t,i);return this._partialCache[e]=n,n},o.prototype.getPartial=function(e){return e in this._partialCache||!this._loadPartial||this.compilePartial(e,this._loadPartial(e)),this._partialCache[e]},o.prototype.compileTokens=function(e,t){var i=this;return function(n,s){if(s)if("function"==typeof s)i._loadPartial=s;else for(var o in s)i.compilePartial(o,s[o]);return a(e,i,r.make(n),t)}},o.prototype.render=function(e,t,i){return this.compile(e)(t,i)},d.parse=function(e,n){function r(){if(S&&!T)for(;k.length;)delete C[k.pop()];else k=[];S=!1,T=!1}if(e=e||"",n=n||d.tags,"string"==typeof n&&(n=n.split(f)),2!==n.length)throw new Error("Invalid tags: "+n.join(", "));for(var o,a,p,y,b,_=u(n),w=new s(e),x=[],C=[],k=[],S=!1,T=!1;!w.eos();){if(o=w.pos,p=w.scanUntil(_[0]))for(var D=0,$=p.length;$>D;++D)y=p.charAt(D),t(y)?k.push(C.length):T=!0,C.push(["text",y,o,o+1]),o+=1,"\n"==y&&r();if(!w.scan(_[0]))break;if(S=!0,a=w.scan(v)||"name",w.scan(h),"="===a?(p=w.scanUntil(m),w.scan(m),w.scanUntil(_[1])):"{"===a?(p=w.scanUntil(new RegExp("\\s*"+i("}"+n[1]))),w.scan(g),w.scanUntil(_[1]),a="&"):p=w.scanUntil(_[1]),!w.scan(_[1]))throw new Error("Unclosed tag at "+w.pos);if(b=[a,p,o,w.pos],C.push(b),"#"===a||"^"===a)x.push(b);else if("/"===a){if(0===x.length)throw new Error('Unopened section "'+p+'" at '+o);var E=x.pop();if(E[1]!==p)throw new Error('Unclosed section "'+E[1]+'" at '+o)}else if("name"===a||"{"===a||"&"===a)T=!0;else if("="===a){if(n=p.split(f),2!==n.length)throw new Error("Invalid tags at "+o+": "+n.join(", "));_=u(n)}}var E=x.pop();if(E)throw new Error('Unclosed section "'+E[1]+'" at '+w.pos);return C=c(C),l(C)};var x=new o;return d.clearCache=function(){return x.clearCache()},d.compile=function(e,t){return x.compile(e,t)},d.compilePartial=function(e,t,i){return x.compilePartial(e,t,i)},d.compileTokens=function(e,t){return x.compileTokens(e,t)},d.render=function(e,t,i){return x.render(e,t,i)},d.to_html=function(e,t,i,n){var s=d.render(e,t,i);return"function"!=typeof n?s:(n(s),void 0)},d}()),/*
	Masked Input plugin for jQuery
	Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
	Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
	Version: 1.3.1
*/
function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var i,n=t()+".mask",s=navigator.userAgent,r=/iphone/i.test(s),o=/android/i.test(s);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var i;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,s){var a,l,c,u,d,h;return!t&&this.length>0?(a=e(this[0]),a.data(e.mask.dataName)()):(s=e.extend({placeholder:e.mask.placeholder,completed:null},s),l=e.mask.definitions,c=[],u=h=t.length,d=null,e.each(t.split(""),function(e,t){"?"==t?(h--,u=e):l[t]?(c.push(RegExp(l[t])),null===d&&(d=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function a(e){for(;h>++e&&!c[e];);return e}function f(e){for(;--e>=0&&!c[e];);return e}function p(e,t){var i,n;if(!(0>e)){for(i=e,n=a(t);h>i;i++)if(c[i]){if(!(h>n&&c[i].test(x[n])))break;x[i]=x[n],x[n]=s.placeholder,n=a(n)}b(),w.caret(Math.max(d,e))}}function m(e){var t,i,n,r;for(t=e,i=s.placeholder;h>t;t++)if(c[t]){if(n=a(t),r=x[t],x[t]=i,!(h>n&&c[n].test(r)))break;i=r}}function g(e){var t,i,n,s=e.which;8===s||46===s||r&&127===s?(t=w.caret(),i=t.begin,n=t.end,0===n-i&&(i=46!==s?f(i):n=a(i-1),n=46===s?a(n):n),y(i,n),p(i,n-1),e.preventDefault()):27==s&&(w.val(C),w.caret(0,_()),e.preventDefault())}function v(t){var i,n,r,l=t.which,u=w.caret();t.ctrlKey||t.altKey||t.metaKey||32>l||l&&(0!==u.end-u.begin&&(y(u.begin,u.end),p(u.begin,u.end-1)),i=a(u.begin-1),h>i&&(n=String.fromCharCode(l),c[i].test(n)&&(m(i),x[i]=n,b(),r=a(i),o?setTimeout(e.proxy(e.fn.caret,w,r),0):w.caret(r),s.completed&&r>=h&&s.completed.call(w))),t.preventDefault())}function y(e,t){var i;for(i=e;t>i&&h>i;i++)c[i]&&(x[i]=s.placeholder)}function b(){w.val(x.join(""))}function _(e){var t,i,n=w.val(),r=-1;for(t=0,pos=0;h>t;t++)if(c[t]){for(x[t]=s.placeholder;pos++<n.length;)if(i=n.charAt(pos-1),c[t].test(i)){x[t]=i,r=t;break}if(pos>n.length)break}else x[t]===n.charAt(pos)&&t!==u&&(pos++,r=t);return e?b():u>r+1?(w.val(""),y(0,h)):(b(),w.val(w.val().substring(0,r+1))),u?t:d}var w=e(this),x=e.map(t.split(""),function(e){return"?"!=e?l[e]?s.placeholder:e:void 0}),C=w.val();w.data(e.mask.dataName,function(){return e.map(x,function(e,t){return c[t]&&e!=s.placeholder?e:null}).join("")}),w.attr("readonly")||w.one("unmask",function(){w.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(i);var e;C=w.val(),e=_(),i=setTimeout(function(){b(),e==t.length?w.caret(0,e):w.caret(e)},10)}).bind("blur.mask",function(){_(),w.val()!=C&&w.change()}).bind("keydown.mask",g).bind("keypress.mask",v).bind(n,function(){setTimeout(function(){var e=_(!0);w.caret(e),s.completed&&e==w.val().length&&s.completed.call(w)},0)}),_()}))}})}(jQuery),function(e){window.NestedFormEvents=function(){this.addFields=e.proxy(this.addFields,this),this.removeFields=e.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(t){var i=t.currentTarget,n=e(i).data("association"),s=e("#"+e(i).data("blueprint-id")),r=s.data("blueprint"),o=(e(i).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(/\[[a-z_]+\]$/,""),a=r.match(new RegExp("\\[([a-z_]+)\\]\\[new_"+n+"\\]"))[1];if(a&&(o=o.replace(new RegExp("\\["+a+"\\]\\[(new_)?\\d+\\]$"),"")),o)for(var l=o.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],c=o.match(/[0-9]+/g)||[],u=0;u<l.length;u++)c[u]&&(r=r.replace(new RegExp("(_"+l[u]+")_.+?_","g"),"$1_"+c[u]+"_"),r=r.replace(new RegExp("(\\["+l[u]+"\\])\\[.+?\\]","g"),"$1["+c[u]+"]"));var d=new RegExp("new_"+n,"g"),h=this.newId();r=e.trim(r.replace(d,h));var f=this.insertFields(r,n,i);return f.trigger({type:"nested:fieldAdded",field:f}).trigger({type:"nested:fieldAdded:"+n,field:f}),!1},newId:function(){return(new Date).getTime()},insertFields:function(t,i,n){var s=e(n).data("target");return s?e(t).appendTo(e(s)):e(t).insertBefore(n)},removeFields:function(t){var i=e(t.currentTarget),n=i.data("association"),s=i.prev("input[type=hidden]");s.val("1");var r=i.closest(".fields");return r.hide(),r.trigger({type:"nested:fieldRemoved",field:r}).trigger({type:"nested:fieldRemoved:"+n,field:r}),!1}},window.nestedFormEvents=new NestedFormEvents,e(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),/*
 * Copyright 2011, Tobias Lindig
 *
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 */
function(e){e.fn.closestChild=function(t){if(t&&""!=t){var i=[];for(i.push(this);i.length>0;)for(var n=i.shift(),s=n.children(),r=0;r<s.length;++r){var o=e(s[r]);if(o.is(t))return o;i.push(o)}}return e()}}(jQuery),function(e){var t=0;e(document).on("click",".add_fields",function(i){i.preventDefault();var n=e(this),s=n.data("association"),r=n.data("associations"),o=n.data("association-insertion-template"),a=n.data("association-insertion-method")||n.data("association-insertion-position")||"before";insertionNode=n.data("association-insertion-node"),insertionTraversal=n.data("association-insertion-traversal"),regexp_braced=new RegExp("\\[new_"+s+"\\](.*?\\s)","g"),regexp_underscord=new RegExp("_new_"+s+"_(\\w*)","g"),new_id=(new Date).getTime()+t++,newcontent_braced="["+new_id+"]",newcontent_underscord="_"+new_id+"_",new_content=o.replace(regexp_braced,"["+new_id+"]$1"),new_content==o&&(regexp_braced=new RegExp("\\[new_"+r+"\\](.*?\\s)","g"),regexp_underscord=new RegExp("_new_"+r+"_(\\w*)","g"),new_content=o.replace(regexp_braced,"["+new_id+"]$1")),new_content=new_content.replace(regexp_underscord,newcontent_underscord+"$1"),insertionNode=insertionNode?insertionTraversal?n[insertionTraversal](insertionNode):"this"==insertionNode?n:e(insertionNode):n.parent();var l=e(new_content);insertionNode.trigger("cocoon:before-insert",[l]),insertionNode[a](l),insertionNode.trigger("cocoon:after-insert",[l])}),e(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(t){var i=e(this),n=i.closest(".nested-fields"),s=n.parent();t.preventDefault(),s.trigger("cocoon:before-remove",[n]);var r=s.data("remove-timeout")||0;setTimeout(function(){i.hasClass("dynamic")?i.closest(".nested-fields").remove():(i.prev("input[type=hidden]").val("1"),i.closest(".nested-fields").hide()),s.trigger("cocoon:after-remove",[n])},r)})}(jQuery),function(){$.flashLBS=function(e,t){var i,n,s,r,o;return null==t&&(t={}),s=function(){return i.fadeOut("slow")},n=t.color||"green",r=t.preffix||"Notice",$(".dismissible.alert_"+n).trigger("click"),o='<div class="alert dismissible alert_'+n+'">\n  <img width="24" height="24" src="//content.bikeroar.com/assets/adminica/icons/small/white/alert_2-8cf81896654eeab68f7b2f03c3549073.png">\n  <strong>'+r+":</strong> "+e+"\n</div>",i=$(o).click(function(){return $(this).fadeOut("slow"),clearTimeout(s)}),setTimeout(s,6e3),$("#main_container").prepend(i)},$.flash=function(e,t){var i,n;return n=function(){return i.fadeOut("slow")},i=$("<div>").attr("id","flash_"+e).text(t).click(function(){return $(this).fadeOut("slow"),clearTimeout(n)}),setTimeout(n,6e3),$("body").prepend(i)}}.call(this),function(){Object.keys||Object.keys===function(e){var t,i,n,s;for(i=[],n=0,s=e.length;s>n;n++)t=e[n],e.hasOwnProperty(t)&&i.push(t);return i}}.call(this),function(){var e,t,i=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,t,n){this.countries_field=e,this.$states_field=t,this.afterCountryChnageCallbacks=null!=n?n:[],this.refreshStates=i(this.refreshStates,this),this.runCallbacks=i(this.runCallbacks,this),this.afterCountryChnage=i(this.afterCountryChnage,this),this.updateCountry=i(this.updateCountry,this)}return e.prototype.updateCountry=function(){var e;return e=this.afterCountryChnage,$(document).on("change",this.countries_field,function(){return this.value?$.getJSON("/api/v1/cc",{country:this.value}).done(e):void 0})},e.prototype.afterCountryChnage=function(e){return this.refreshStates(e),this.runCallbacks(e)},e.prototype.runCallbacks=function(e){var t,i,n,s,r;for(s=this.afterCountryChnageCallbacks,r=[],i=0,n=s.length;n>i;i++)t=s[i],r.push(t(e));return r},e.prototype.refreshStates=function(e){var t=this;return this.$states_field.empty(),$.each(e,function(e,i){return t.$states_field.append(new Option(i.name,e,!1,!1))})},e}(),null==window.Bikeroar&&(window.Bikeroar={}),null==(t=window.Bikeroar).LocationUtility&&(t.LocationUtility=e)}.call(this),function(){var e,t;e={ui:{overlay:{show:function(){return $("#loading_overlay").fadeIn("slow").find("> div").show()},hide:function(){return $("#loading_overlay").fadeOut("slow")}}},isAdmin:function(){return/^\/admin/.test(location.pathname)},isLBS:function(){return/^\/local_bike_stores?/.test(location.pathname)},showLoading:function(){return this.isAdmin()&&$.fancybox.showLoading(),this.isLBS()?e.ui.overlay.show():void 0},hideLoading:function(){return this.isAdmin()&&$.fancybox.hideLoading(),this.isLBS()?e.ui.overlay.hide():void 0},getSync:function(e,t){return null==t&&(t={}),this._ajax_(e,t,"json")},get:function(e,t){return null==t&&(t={}),this._ajax(e,t,"getJSON")},post:function(e,t){return null==t&&(t={}),this._ajax(e,t,"post")},put:function(e,t){return null==t&&(t={}),this._ajax(e,$.extend(t,{_method:"PUT"}),"post")},"delete":function(e,t){return null==t&&(t={}),this._ajax(e,$.extend(t,{_method:"DELETE"}),"post")},_ajax_:function(t,i,n){var s;return s=$.ajax({dataType:n,async:!1,url:t,data:i}),s.always(function(){return e.hideLoading()}),s},_ajax:function(t,i,n){var s;return null==i&&(i={}),e.showLoading(),s=$[n](t,i),s.always(function(){return e.hideLoading()}),s}},t={PHONE_CLASS_LENGHT:21,PHONE_LENGHT:5,list:{eu:"+49 edddddddd",us:"+1 (ddd) ddd-dddd",ca:"+1 (ddd) ddd-dddd",au:"+61 d dddd dddd",uk:"+44 (ddd) dddd dddd",gb:"+44 (ddd) dddd dddd",nz:"+64 ddddddddd",de:"+49 ddddddddd",nl:"+31 ddddddddd",fr:"+33 d dd dd dd dd",lu:"+352 edddddddd",es:"+34 edddddddd",pt:"+351 edddddddd",ch:"+41 ddddddddd",at:"+43 0dddd ddddddddd",be:"+32 ddddddddd",it:"+39 edddddddd"},init:function(){var e,t;return $.mask.definitions[9]&&delete $.mask.definitions[9],null==(e=$.mask.definitions).d&&(e.d="[0-9]"),null!=(t=$.mask.definitions).e?(t=$.mask.definitions).e:t.e="[1-9]"},mask:function(e){var i;return null==e&&(e=null),(t=$("[class*=phone-]"))?(i=t[0].className,e=e||i.slice(i.indexOf("phone")+Bikeroar.phone.PHONE_LENGHT+1,Bikeroar.phone.PHONE_CLASS_LENGHT),e?$(".phone-"+e).mask(this.list[e]):t.unmask()):void 0}},null==window.Bikeroar&&(window.Bikeroar={}),null==Bikeroar.http&&(Bikeroar.http=e),null==Bikeroar.phone&&(Bikeroar.phone=t)}.call(this),$(function(){$("#buy_link_product_model").autocomplete({source:$("#buy_link_product_model").data("autocomplete-source"),minLength:4})}),function(){var e;e={init:function(){return this.load_plugins(),this.per_page(),this.resetFilter(),this.searchBrand()},resetFilter:function(){var e;return e=$("#classsified-search"),e.on("click","#reset-classifeid-filter",function(){var t,i;return e.find("#keyword").val(""),e.find("#manufacturer").val("").select2("val",""),e.find("#product_category_id").val("").select2("val",""),e.find("#classified-filter-country").val("").select2("val",""),e.find("#classified-filter-state").empty().select2("val",""),e.find("@year").removeAttr("checked"),e.find("@year:first").attr("checked",!0),t=e.find("#range"),i=t.data("max-price"),t.slider("values",0,0),t.slider("values",1,i),e.find("#price_range").val("$0 - $"+i),e.find("#min_price").val(0),e.find("#max_price").val(i),e.submit()})},per_page:function(){return $("#per-page-content").on("change","#classified_per_page",function(e){var t;return e.preventDefault(),t=$("#classsified-search"),t.find("#per_page").val(this.value),t.submit()})},load_plugins:function(){return this.price_slider(),this.locationUtility()},locationUtility:function(){var e,t;return t=Bikeroar.LocationUtility,e=$("#classified-filter-state"),new t("#classified-filter-country",e,[function(){return e.append(new Option("","",null,!0,!0)),e.val("").trigger("liszt:updated")}]).updateCountry()},searchBrand:function(){return $("#classifieds-results").on("click",".search-brand",function(e){var t;return e.preventDefault(),t=$("#classsified-search"),t.find("#manufacturer").val($(this).data().brandName).trigger("liszt:updated"),t.submit()})},price_slider:function(){var e,t,i,n,s,r,o,a;return t=$("#min_price"),e=$("#max_price"),i=$("#price_range"),n=$("#range"),o=n.data("max-price"),a=function(e){var t;return t=Math.ceil(e),isNaN(t)?0:t},s=function(e){return void 0===e?0:e.length?Number(e.replace(/[^0-9\.]+/g,"")):void 0},r=[t.val(),e.val()].map(s),n.slider({range:!0,min:0,max:o,step:o/100,values:r,slide:function(n,s){return $("#price").val(1),i.val("$"+Math.ceil(s.values[0])+" - $"+Math.ceil(s.values[1])),t.val(Math.ceil(s.values[0])),e.val(Math.ceil(s.values[1]))}}),i.val("$"+a(r[0])+" - $"+a(r[1]))}},amplify.subscribe("classifieds.index",function(){return e.init()})}.call(this),function(){var e,t;t=window.Bikeroar.LocationUtility,e={init:function(){return this.location(),this.tips(),this.types(),this.handleDeliveryToVisibility(),this.handleManufacturer(),this.descriptionWordCounter(),this.bootstrapFileInput(),this.showPreview(),this.deletemImg()},bootstrapFileInput:function(){return $("#form-classified").find("input[type=file]").bootstrapFileInput(),$(".file-input-wrapper").addClass("btn-small"),$("#form-classified").find("table:last").show()},handleManufacturer:function(){var e,t,i,n;return t=$("#form-classified"),i=t.find("input#classified_manufacturer"),e=t.find("#show-manufacturer"),n=t.find(".select-manufacturer"),t.on("change",n,function(){return"Other"===n.val()?(n.hide().attr("disabled","disabled"),i.show().removeAttr("disabled"),e.html("X").show()):(n.show().removeAttr("disabled"),i.hide().attr("disabled","disabled"),e.hide())}),t.on("click","#show-manufacturer",function(t){return t.preventDefault(),i.hide().attr("disabled","disabled"),e.empty().hide(),n.show().removeAttr("disabled"),n.prop("selectedIndex",0)})},descriptionWordCounter:function(){return $("#classified_description").counter({type:"word",goal:300})},handleDeliveryToVisibility:function(){return $('input[type=radio][name="classified[pickup_delivery]"]').change(function(){return"delivery_only"===this.value||"pick_up_and_delivery"===this.value?$('input[type=radio][name="classified[delivery_to]"]').removeAttr("disabled"):$('input[type=radio][name="classified[delivery_to]"]').attr("disabled","disabled")})},tips:function(){return $("#classified_phone_number").qtip({content:"Phone number will be displayed on Advert. If you do not wish your number displayed please leave blank."})},types:function(){return $("#classified_product_category_id").change(function(){return $('select[name="classified[product_category_second_level_id]"]').hide().val("").attr("disabled","disabled"),$('select[name="classified[product_category_second_level_id]"][data-info='+this.value+"]").removeAttr("disabled").show()})},afterCountryChange:{updatePostCodeLabel:function(){return $("#postcode_label").text(/United States/gi.test($("#classified_country").val())?"Zip Code":"Postcode")}},location:function(){return this.$state=$("#classified_state"),new t("#classified_country",this.$state,[e.afterCountryChange.updatePostCodeLabel,function(){return $state.val("").trigger("liszt:updated")}]).updateCountry()},deletemImg:function(){return $("#form-classified").on("click",".delete-img",function(e){var t,i,n,s,r,o;return e.preventDefault(),r=(new Date).getTime(),i=$(this).closest("tr"),t=$(this).prev("input"),t.val(1),o=function(e){return e.replace(/\d+/,r)},n=function(){var e;return e=i.find("input[type=file]"),e.attr({name:o(e.attr("name")),id:o(e.attr("id"))})},s=function(){var e;return e=t.clone(),e.attr({name:o(e.attr("name")),id:o(e.attr("id"))}),e.val("false"),t.after(e)},n(),s(),i.find("td:first").empty(),i.find(".file-input-name").remove(),i.find("input[type=file]").val(""),$(this).addClass("hidden-button")})},showPreview:function(){return $("#form-classified").find("input[type=file]").change(function(e){var t,i,n,s=this;if(FileReader)return i=new FileReader,n=/^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i,t=e.target.files[0],t&&n.test(t.type)?(i.onload=function(e){var t;return t=$(s).closest("tr"),t.find(".delete-img").removeClass("hidden-button"),t.find("td:first").html("<img src='"+e.target.result+"' style='width: 80px;' />")},i.readAsDataURL(t)):void 0})}},$(function(){return e.init()})}.call(this),function(e){e.fn.extend({counter:function(t){var i={type:"char",count:"down",goal:140,text:!0,target:!1,append:!0,translation:"",msg:""},n="",s="",r=!1,t=e.extend({},i,t),o={init:function(i){var s=i.attr("id"),r=s+"_count";o.isLimitless();var a=e("<div/>").attr("id",s+"_counter").html("<span id="+r+"/> "+o.setMsg());t.target&&e(t.target).length?t.append?e(t.target).append(a):e(t.target).prepend(a):t.append?a.insertAfter(i):a.insertBefore(i),n=e("#"+r),o.bind(i)},bind:function(e){e.bind("keypress.counter keydown.counter keyup.counter blur.counter focus.counter change.counter paste.counter",o.updateCounter),e.bind("keydown.counter",o.doStopTyping),e.trigger("keydown")},isLimitless:function(){return"sky"===t.goal?(t.count="up",r=!0):void 0},setMsg:function(){if(""!==t.msg)return t.msg;if(t.text===!1)return"";if(r)return""!==t.msg?t.msg:"";switch(this.text=t.translation||"character word left max",this.text=this.text.split(" "),this.chars="s ( )".split(" "),this.msg=null,t.type){case"char":t.count===i.count&&t.text?this.msg=this.text[0]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===t.count&&t.text&&(this.msg=this.text[0]+this.chars[0]+" "+this.chars[1]+t.goal+" "+this.text[3]+this.chars[2]);break;case"word":t.count===i.count&&t.text?this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===t.count&&t.text&&(this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.chars[1]+t.goal+" "+this.text[3]+this.chars[2])}return this.msg},getWords:function(t){return""!==t?e.trim(t).replace(/\s+/g," ").split(" ").length:0},updateCounter:function(){var r=e(this);(0>s||s>t.goal)&&o.passedGoal(r),t.type===i.type?t.count===i.count?(s=t.goal-r.val().length,0>=s?n.text("0"):n.text(s)):"up"===t.count&&(s=r.val().length,n.text(s)):"word"===t.type&&(t.count===i.count?(s=o.getWords(r.val()),s<=t.goal?(s=t.goal-s,n.text(s)):n.text("0")):"up"===t.count&&(s=o.getWords(r.val()),n.text(s)))},doStopTyping:function(e){var n=[46,8,9,35,36,37,38,39,40,32];return o.isGoalReached(e)&&e.keyCode!==n[0]&&e.keyCode!==n[1]&&e.keyCode!==n[2]&&e.keyCode!==n[3]&&e.keyCode!==n[4]&&e.keyCode!==n[5]&&e.keyCode!==n[6]&&e.keyCode!==n[7]&&e.keyCode!==n[8]?t.type===i.type?!1:e.keyCode!==n[9]&&e.keyCode!==n[1]&&t.type!=i.type?!0:!1:void 0},isGoalReached:function(e,n){return r?!1:t.count===i.count?(n=0,n>=s?!0:!1):(n=t.goal,s>=n?!0:!1)},wordStrip:function(t,i){var n=i.replace(/\s+/g," ").split(" ").length;return i=e.trim(i),0>=t||t===n?i:(i=e.trim(i).split(" "),i.splice(t,n,""),e.trim(i.join(" ")))},passedGoal:function(e){var i=e.val();"word"===t.type&&e.val(o.wordStrip(t.goal,i)),"char"===t.type&&e.val(i.substring(0,t.goal)),"down"===t.type&&n.val("0"),"up"===t.type&&n.val(t.goal)}};return this.each(function(){o.init(e(this))})}})}(jQuery),/*!
 * typeahead.js 0.10.2
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
 */
function(e){var t={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},bind:e.proxy,each:function(t,i){function n(e,t){return i(t,e)}e.each(t,n)},map:e.map,filter:e.grep,every:function(t,i){var n=!0;return t?(e.each(t,function(e,s){return(n=i.call(null,s,e,t))?void 0:!1}),!!n):n},some:function(t,i){var n=!1;return t?(e.each(t,function(e,s){return(n=i.call(null,s,e,t))?!1:void 0}),!!n):n},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(t){function i(){return String(t)}return e.isFunction(t)?t:i},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var n,s;return function(){var r,o,a=this,l=arguments;return r=function(){n=null,i||(s=e.apply(a,l))},o=i&&!n,clearTimeout(n),n=setTimeout(r,t),o&&(s=e.apply(a,l)),s}},throttle:function(e,t){var i,n,s,r,o,a;return o=0,a=function(){o=new Date,s=null,r=e.apply(i,n)},function(){var l=new Date,c=t-(l-o);return i=this,n=arguments,0>=c?(clearTimeout(s),s=null,o=l,r=e.apply(i,n)):s||(s=setTimeout(a,c)),r}},noop:function(){}},i="0.10.2",n=function(){function e(e){return e.split(/\s+/)}function t(e){return e.split(/\W+/)}function i(e){return function(t){return function(i){return e(i[t])}}}return{nonword:t,whitespace:e,obj:{nonword:i(t),whitespace:i(e)}}}(),s=function(){function e(e){this.maxSize=e||100,this.size=0,this.hash={},this.list=new i}function i(){this.head=this.tail=null}function n(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(e.prototype,{set:function(e,t){var i,s=this.list.tail;this.size>=this.maxSize&&(this.list.remove(s),delete this.hash[s.key]),(i=this.hash[e])?(i.val=t,this.list.moveToFront(i)):(i=new n(e,t),this.list.add(i),this.hash[e]=i,this.size++)},get:function(e){var t=this.hash[e];return t?(this.list.moveToFront(t),t.val):void 0}}),t.mixin(i.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),e}(),r=function(){function e(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function i(){return(new Date).getTime()}function n(e){return JSON.stringify(t.isUndefined(e)?null:e)}function s(e){return JSON.parse(e)}var r,o;try{r=window.localStorage,r.setItem("~~~","!"),r.removeItem("~~~")}catch(a){r=null}return o=r&&window.JSON?{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(e){return this.isExpired(e)&&this.remove(e),s(r.getItem(this._prefix(e)))},set:function(e,s,o){return t.isNumber(o)?r.setItem(this._ttlKey(e),n(i()+o)):r.removeItem(this._ttlKey(e)),r.setItem(this._prefix(e),n(s))},remove:function(e){return r.removeItem(this._ttlKey(e)),r.removeItem(this._prefix(e)),this},clear:function(){var e,t,i=[],n=r.length;for(e=0;n>e;e++)(t=r.key(e)).match(this.keyMatcher)&&i.push(t.replace(this.keyMatcher,""));for(e=i.length;e--;)this.remove(i[e]);return this},isExpired:function(e){var n=s(r.getItem(this._ttlKey(e)));return t.isNumber(n)&&i()>n?!0:!1}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(e.prototype,o),e}(),o=function(){function i(t){t=t||{},this._send=t.transport?n(t.transport):e.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get}function n(i){return function(n,s){function r(e){t.defer(function(){a.resolve(e)})}function o(e){t.defer(function(){a.reject(e)})}var a=e.Deferred();return i(n,s,r,o),a}}var r=0,o={},a=6,l=new s(10);return i.setMaxPendingRequests=function(e){a=e},i.resetCache=function(){l=new s(10)},t.mixin(i.prototype,{_get:function(e,t,i){function n(t){i&&i(null,t),l.set(e,t)}function s(){i&&i(!0)}function c(){r--,delete o[e],d.onDeckRequestArgs&&(d._get.apply(d,d.onDeckRequestArgs),d.onDeckRequestArgs=null)}var u,d=this;(u=o[e])?u.done(n).fail(s):a>r?(r++,o[e]=this._send(e,t).done(n).fail(s).always(c)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(e,i,n){var s;return t.isFunction(i)&&(n=i,i={}),(s=l.get(e))?t.defer(function(){n&&n(null,s)}):this._get(e,i,n),!!s}}),i}(),a=function(){function i(t){t=t||{},t.datumTokenizer&&t.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function n(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function s(){return{ids:[],children:{}}}function r(e){for(var t={},i=[],n=0;n<e.length;n++)t[e[n]]||(t[e[n]]=!0,i.push(e[n]));return i}function o(e,t){function i(e,t){return e-t}var n=0,s=0,r=[];for(e=e.sort(i),t=t.sort(i);n<e.length&&s<t.length;)e[n]<t[s]?n++:e[n]>t[s]?s++:(r.push(e[n]),n++,s++);return r}return t.mixin(i.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var i=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var r,o;r=i.datums.push(e)-1,o=n(i.datumTokenizer(e)),t.each(o,function(e){var t,n,o;for(t=i.trie,n=e.split("");o=n.shift();)t=t.children[o]||(t.children[o]=s()),t.ids.push(r)})})},get:function(e){var i,s,a=this;return i=n(this.queryTokenizer(e)),t.each(i,function(e){var t,i,n,r;if(s&&0===s.length)return!1;for(t=a.trie,i=e.split("");t&&(n=i.shift());)t=t.children[n];return t&&0===i.length?(r=t.ids.slice(0),s=s?o(s,r):r,void 0):(s=[],!1)}),s?t.map(r(s),function(e){return a.datums[e]}):[]},reset:function(){this.datums=[],this.trie=s()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){function n(e){return e.local||null}function s(n){var s,r;return r={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(s=n.prefetch||null)&&(s=t.isString(s)?{url:s}:s,s=t.mixin(r,s),s.thumbprint=i+s.thumbprint,s.ajax.type=s.ajax.type||"GET",s.ajax.dataType=s.ajax.dataType||"json",!s.url&&e.error("prefetch requires url to be set")),s}function r(i){function n(e){return function(i){return t.debounce(i,e)}}function s(e){return function(i){return t.throttle(i,e)}}var r,o;return o={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(r=i.remote||null)&&(r=t.isString(r)?{url:r}:r,r=t.mixin(o,r),r.rateLimiter=/^throttle$/i.test(r.rateLimitBy)?s(r.rateLimitWait):n(r.rateLimitWait),r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",delete r.rateLimitBy,delete r.rateLimitWait,!r.url&&e.error("remote requires url to be set")),r}return{local:n,prefetch:s,remote:r}}();!function(i){function s(t){t&&(t.local||t.prefetch||t.remote)||e.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=c(t.sorter),this.dupDetector=t.dupDetector||u,this.local=l.local(t),this.prefetch=l.prefetch(t),this.remote=l.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new a({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new r(this.cacheKey):null}function c(e){function i(t){return t.sort(e)}function n(e){return e}return t.isFunction(e)?i:n}function u(){return!1}var d,h;return d=i.Bloodhound,h={data:"data",protocol:"protocol",thumbprint:"thumbprint"},i.Bloodhound=s,s.noConflict=function(){return i.Bloodhound=d,s},s.tokenizers=n,t.mixin(s.prototype,{_loadPrefetch:function(t){function i(e){r.clear(),r.add(t.filter?t.filter(e):e),r._saveToStorage(r.index.serialize(),t.thumbprint,t.ttl)}var n,s,r=this;return(n=this._readFromStorage(t.thumbprint))?(this.index.bootstrap(n),s=e.Deferred().resolve()):s=e.ajax(t.url,t.ajax).done(i),s},_getFromRemote:function(e,t){function i(e,i){e?t([]):t(r.remote.filter?r.remote.filter(i):i)}var n,s,r=this;return e=e||"",s=encodeURIComponent(e),n=this.remote.replace?this.remote.replace(this.remote.url,e):this.remote.url.replace(this.remote.wildcard,s),this.transport.get(n,this.remote.ajax,i)},_saveToStorage:function(e,t,i){this.storage&&(this.storage.set(h.data,e,i),this.storage.set(h.protocol,location.protocol,i),this.storage.set(h.thumbprint,t,i))},_readFromStorage:function(e){var t,i={};return this.storage&&(i.data=this.storage.get(h.data),i.protocol=this.storage.get(h.protocol),i.thumbprint=this.storage.get(h.thumbprint)),t=i.thumbprint!==e||i.protocol!==location.protocol,i.data&&!t?i.data:null},_initialize:function(){function i(){s.add(t.isFunction(r)?r():r)}var n,s=this,r=this.local;return n=this.prefetch?this._loadPrefetch(this.prefetch):e.Deferred().resolve(),r&&n.done(i),this.transport=this.remote?new o(this.remote):null,this.initPromise=n.promise()},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){this.index.add(e)},get:function(e,i){function n(e){var n=r.slice(0);t.each(e,function(e){var i;return i=t.some(n,function(t){return s.dupDetector(e,t)}),!i&&n.push(e),n.length<s.limit}),i&&i(s.sorter(n))}var s=this,r=[],o=!1;r=this.index.get(e),r=this.sorter(r).slice(0,this.limit),r.length<this.limit&&this.transport&&(o=this._getFromRemote(e,n)),o||(r.length>0||!this.transport)&&i&&i(r)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&o.resetCache()},ttAdapter:function(){return t.bind(this.get,this)}}),s}(this);var c={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},u={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};t.isMsie()&&t.mixin(u.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&t.mixin(u.input,{marginTop:"-1px"});var d=function(){function i(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var n="typeahead:";return t.mixin(i.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger(n+e,t)}}),i}(),h=function(){function e(e,t,i,n){var s;if(!i)return this;for(t=t.split(l),i=n?a(i,n):i,this._callbacks=this._callbacks||{};s=t.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][e].push(i);return this}function t(t,i,n){return e.call(this,"async",t,i,n)}function i(t,i,n){return e.call(this,"sync",t,i,n)}function n(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function s(e){var t,i,n,s,o;if(!this._callbacks)return this;for(e=e.split(l),n=[].slice.call(arguments,1);(t=e.shift())&&(i=this._callbacks[t]);)s=r(i.sync,this,[t].concat(n)),o=r(i.async,this,[t].concat(n)),s()&&c(o);return this}function r(e,t,i){function n(){for(var n,s=0;!n&&s<e.length;s+=1)n=e[s].apply(t,i)===!1;return!n}return n}function o(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function a(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,c=o();return{onSync:i,onAsync:t,off:n,trigger:s}}(),f=function(e){function i(e,i,n){for(var s,r=[],o=0;o<e.length;o++)r.push(t.escapeRegExChars(e[o]));return s=n?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",i?new RegExp(s):new RegExp(s,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function r(t){var i,n;return(i=a.exec(t.data))&&(wrapperNode=e.createElement(s.tagName),s.className&&(wrapperNode.className=s.className),n=t.splitText(i.index),n.splitText(i[0].length),wrapperNode.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(wrapperNode,n)),!!i}function o(e,t){for(var i,n=3,s=0;s<e.childNodes.length;s++)i=e.childNodes[s],i.nodeType===n?s+=t(i)?1:0:o(i,t)}var a;s=t.mixin({},n,s),s.node&&s.pattern&&(s.pattern=t.isArray(s.pattern)?s.pattern:[s.pattern],a=i(s.pattern,s.caseSensitive,s.wordsOnly),o(s.node,r))}}(window.document),p=function(){function i(i){var s,r,a,l,c=this;i=i||{},i.input||e.error("input is missing"),s=t.bind(this._onBlur,this),r=t.bind(this._onFocus,this),a=t.bind(this._onKeydown,this),l=t.bind(this._onInput,this),this.$hint=e(i.hint),this.$input=e(i.input).on("blur.tt",s).on("focus.tt",r).on("keydown.tt",a),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop),t.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){o[e.which||e.keyCode]||t.defer(t.bind(c._onInput,c,e))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=n(this.$input)}function n(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function s(e,t){return i.normalizeQuery(e)===i.normalizeQuery(t)}function r(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,h,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(e){var t=o[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(e,t){var i,n,s;switch(e){case"tab":n=this.getHint(),s=this.getInputValue(),i=n&&n!==s&&!r(t);break;case"up":case"down":i=!r(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(e,t){var i;switch(e){case"tab":i=!r(t);break;default:i=!0}return i},_checkInputValue:function(){var e,t,i;e=this.getInputValue(),t=s(e,this.query),i=t?this.query.length!==e.length:!1,t?i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=e)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),t?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,i,n;e=this.getInputValue(),t=this.getHint(),i=e!==t&&0===t.indexOf(e),n=""!==e&&i&&!this.hasOverflow(),!n&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,i,n;return e=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i)?i===e:document.selection?(n=document.selection.createRange(),n.moveStart("character",-e),e===n.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),i}(),m=function(){function i(i){i=i||{},i.templates=i.templates||{},i.source||e.error("missing source"),i.name&&!r(i.name)&&e.error("invalid dataset name: "+i.name),this.query=null,this.highlight=!!i.highlight,this.name=i.name||t.getUniqueId(),this.source=i.source,this.displayFn=n(i.display||i.displayKey),this.templates=s(i.templates,this.displayFn),this.$el=e(c.dataset.replace("%CLASS%",this.name))}function n(e){function i(t){return t[e]}return e=e||"value",t.isFunction(e)?e:i}function s(e,i){function n(e){return"<p>"+i(e)+"</p>"}return{empty:e.empty&&t.templatify(e.empty),header:e.header&&t.templatify(e.header),footer:e.footer&&t.templatify(e.footer),suggestion:e.suggestion||n}}function r(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var o="ttDataset",a="ttValue",l="ttDatum";return i.extractDatasetName=function(t){return e(t).data(o)},i.extractValue=function(t){return e(t).data(a)},i.extractDatum=function(t){return e(t).data(l)},t.mixin(i.prototype,h,{_render:function(i,n){function s(){return m.templates.empty({query:i,isEmpty:!0})}function r(){function s(t){var i;return i=e(c.suggestion).append(m.templates.suggestion(t)).data(o,m.name).data(a,m.displayFn(t)).data(l,t),i.children().each(function(){e(this).css(u.suggestionChild)}),i}var r,d;return r=e(c.suggestions).css(u.suggestions),d=t.map(n,s),r.append.apply(r,d),m.highlight&&f({node:r[0],pattern:i}),r}function d(){return m.templates.header({query:i,isEmpty:!p})}function h(){return m.templates.footer({query:i,isEmpty:!p})}if(this.$el){var p,m=this;this.$el.empty(),p=n&&n.length,!p&&this.templates.empty?this.$el.html(s()).prepend(m.templates.header?d():null).append(m.templates.footer?h():null):p&&this.$el.html(r()).prepend(m.templates.header?d():null).append(m.templates.footer?h():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(e){function t(t){i.canceled||e!==i.query||i._render(e,t)}var i=this;this.query=e,this.canceled=!1,this.source(e,t)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),i}(),g=function(){function i(i){var s,r,o,a=this;i=i||{},i.menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=t.map(i.datasets,n),s=t.bind(this._onSuggestionClick,this),r=t.bind(this._onSuggestionMouseEnter,this),o=t.bind(this._onSuggestionMouseLeave,this),this.$menu=e(i.menu).on("click.tt",".tt-suggestion",s).on("mouseenter.tt",".tt-suggestion",r).on("mouseleave.tt",".tt-suggestion",o),t.each(this.datasets,function(e){a.$menu.append(e.getRoot()),e.onSync("rendered",a._onRendered,a)})}function n(e){return new m(e)}return t.mixin(i.prototype,h,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",e(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(e(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function e(e){return e.isEmpty()}this.isEmpty=t.every(this.datasets,e),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(e,t){e.first().addClass("tt-cursor"),!t&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(e){var t,i,n,s;if(this.isOpen){if(i=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),n=t.index(i)+e,n=(n+1)%(t.length+1)-1,-1===n)return this.trigger("cursorRemoved"),void 0;-1>n&&(n=t.length-1),this._setCursor(s=t.eq(n)),this._ensureVisible(s)}},_ensureVisible:function(e){var t,i,n,s;t=e.position().top,i=t+e.outerHeight(!0),n=this.$menu.scrollTop(),s=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>t?this.$menu.scrollTop(n+t):i>s&&this.$menu.scrollTop(n+(i-s))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){this.$menu.css("ltr"===e?u.ltr:u.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(e){var t=null;return e.length&&(t={raw:m.extractDatum(e),value:m.extractValue(e),datasetName:m.extractDatasetName(e)}),t},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){function i(t){t.update(e)}t.each(this.datasets,i)},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function e(e){e.destroy()}this.$menu.off(".tt"),this.$menu=null,t.each(this.datasets,e)}}),i}(),v=function(){function i(i){var s,r,o;i=i||{},i.input||e.error("missing input"),this.isActivated=!1,this.autoselect=!!i.autoselect,this.minLength=t.isNumber(i.minLength)?i.minLength:1,this.$node=n(i.input,i.withHint),s=this.$node.find(".tt-dropdown-menu"),r=this.$node.find(".tt-input"),o=this.$node.find(".tt-hint"),r.on("blur.tt",function(e){var i,n,o;i=document.activeElement,n=s.is(i),o=s.has(i).length>0,t.isMsie()&&(n||o)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){r.focus()}))}),s.on("mousedown.tt",function(e){e.preventDefault()}),this.eventBus=i.eventBus||new d({el:r}),this.dropdown=new g({menu:s,datasets:i.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new p({input:r,hint:o}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function n(t,i){var n,r,a,l;n=e(t),r=e(c.wrapper).css(u.wrapper),a=e(c.dropdown).css(u.dropdown),l=n.clone().css(u.hint).css(s(n)),l.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),n.data(o,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")}),n.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(i?u.input:u.inputWithNoHint);try{!n.attr("dir")&&n.attr("dir","auto")}catch(d){}return n.wrap(r).parent().prepend(i?l:null).append(a)}function s(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function r(e){var i=e.find(".tt-input");t.each(i.data(o),function(e,n){t.isUndefined(e)?i.removeAttr(n):i.attr(n,e)}),i.detach().removeData(o).removeClass("tt-input").insertAfter(e),e.remove()}var o="ttAttrs";return t.mixin(i.prototype,{_onSuggestionClicked:function(e,t){var i;(i=this.dropdown.getDatumForSuggestion(t))&&this._select(i)},_onCursorMoved:function(){var e=this.dropdown.getDatumForCursor();this.input.setInputValue(e.value,!0),this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(e,t){var i,n;i=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),i?(this._select(i),t.preventDefault()):this.autoselect&&n&&(this._select(n),t.preventDefault())},_onTabKeyed:function(e,t){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),t.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(e,t){this.input.clearHintIfInvalid(),t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var e;this.dir!==(e=this.input.getLanguageDirection())&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function(){var e,i,n,s,r,o;e=this.dropdown.getDatumForTopSuggestion(),e&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(i=this.input.getInputValue(),n=p.normalizeQuery(i),s=t.escapeRegExChars(n),r=new RegExp("^(?:"+s+")(.+$)","i"),o=r.exec(e.value),o?this.input.setHint(i+o[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(e){var t,i,n,s;t=this.input.getHint(),i=this.input.getQuery(),n=e||this.input.isCursorAtEnd(),t&&i!==t&&n&&(s=this.dropdown.getDatumForTopSuggestion(),s&&this.input.setInputValue(s.value),this.eventBus.trigger("autocompleted",s.raw,s.datasetName))},_select:function(e){this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",e.raw,e.datasetName),this.dropdown.close(),t.defer(t.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(e){this.isActivated?this.input.setInputValue(e):(this.input.setQuery(e),this.input.setInputValue(e,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),r(this.$node),this.$node=null}}),i}();!function(){var i,n,s;i=e.fn.typeahead,n="ttTypeahead",s={initialize:function(i,s){function r(){var r,o,a=e(this);t.each(s,function(e){e.highlight=!!i.highlight}),o=new v({input:a,eventBus:r=new d({el:a}),withHint:t.isUndefined(i.hint)?!0:!!i.hint,minLength:i.minLength,autoselect:i.autoselect,datasets:s}),a.data(n,o)}return s=t.isArray(s)?s:[].slice.call(arguments,1),i=i||{},this.each(r)},open:function(){function t(){var t,i=e(this);(t=i.data(n))&&t.open()}return this.each(t)},close:function(){function t(){var t,i=e(this);(t=i.data(n))&&t.close()}return this.each(t)},val:function(t){function i(){var i,s=e(this);(i=s.data(n))&&i.setVal(t)}function s(e){var t,i;return(t=e.data(n))&&(i=t.getVal()),i}return arguments.length?this.each(i):s(this.first())},destroy:function(){function t(){var t,i=e(this);(t=i.data(n))&&(t.destroy(),i.removeData(n))}return this.each(t)}},e.fn.typeahead=function(e){return s[e]?s[e].apply(this,[].slice.call(arguments,1)):s.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=i,this}}()}(window.jQuery),function(){$(".carousel .item:first").addClass("active"),$(".carousel").carousel({interval:3e3}),$(function(){var e,t,i,n;return $(".rss-feed .tabs").tabs(),$(".subs_country").chosen({allow_single_deselect:!0,width:"520px"}),$("#subscribe-btn").on("click",function(){return _kmq.push(["record","Clicked Subscribe Link",{button_location:"banner"}]),$.ajax({url:"/events",type:"POST",data:{event:{event_type:"ClickedSubscribeLink",button_location:"banner"}}}),$("#subscribe_detail").modal("show")}),$("a#subscribe").on("click",function(){return $("#subscribe_to_newsletter").submit()}),$("form#subscribe_to_newsletter")&&(t=$("form#subscribe_to_newsletter"),e=t.find("input[type=submit]"),i=t.find(".message"),t.on("click",".message",function(){return t.removeClass("busy"),t.removeClass("alert"),t.removeClass("success")}),t.ajaxForm({dataType:"json",beforeSubmit:function(){return t.addClass("busy")},success:function(e){return Analytical.event("Subscribed to Newsletter"),i.html("&#10004; <b>"+e.message+"</b>"),t.addClass("success"),t.removeClass("busy"),t.find("input[name=fname]").val(""),t.find("input[name=email]").val(""),$("#subscribe_detail").modal("hide"),$("body").prepend("<div id='flash_notice'>Thank you! Please check your email to confirm your subscription.</div>"),setTimeout(function(){return $("#flash_notice").fadeOut("slow")},6e3)},error:function(e){var n;return n=$.parseJSON(e.responseText),i.html("&times; <b>"+n.message+"</b>"),t.addClass("alert"),t.removeClass("busy")}})),n=new Bloodhound({limit:10,datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.value)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/products/list_for_typeahead.json?search=true&suggestion_keyword=%QUERY",filter:function(e){return e.products}}}),n.initialize(),$(".dropdown-toggle").dropdown(),$(".typeahead").typeahead({highlight:!0,hint:!1},{name:"products_set",displayKey:"model",source:n.ttAdapter(),templates:{suggestion:Handlebars.compile("<p class='product-name'>{{suggestion_title_full}}</p>\n<p class='product-category'>\n  {{#if product_category_level_1}}\n    {{product_category_level_1}} &bull; \n  {{/if}}\n  {{#if product_category_level_2}}\n    {{product_category_level_2}}\n  {{/if}}\n</p>")}}),$(".tt-dropdown-menu").attr("id","scrollable-dropdown-menu"),$("#hero-banner .dropdown-menu").on("click","li",function(){var e,t;return t=$(this),e=t.find("a"),$(".dropdown-toggle-caption").text(e.text()),$("#product_category_id").val(e.data("id")),$("#category").val(e.text())}),$("form#form-home-product-search").on("keypress","input#keyword",function(e){return 13===e.keyCode?$("form#form-home-product-search").submit():void 0}),$(".typeahead").on("typeahead:selected",function(e,t){return t?window.location.pathname=""+t.product_brand_path:void 0}),$("form#form-home-product-search").on("click","#submit_product_search_on_home_btn",function(){return $("form#form-home-product-search").submit()})})}.call(this),$(function(){$("#published-check-box").attr("checked",isAll("checked")),$(".published-check-box").change(function(){$("#published-check-box").attr("checked",isAll("checked")),sendPublishRequest($(this).attr("value"),this.checked)}),$("#published-check-box").change(function(){var e=[];$(".published-check-box").each(function(){e.push($(this).attr("value"))}),sendPublishRequest(e,this.checked),$(".published-check-box").attr("checked",this.checked)})}),amplify.subscribe("product_reviews.new",function(){var e=0;$(".slider").each(function(t,i){e++;var n=i.id.replace("Slider",""),s=$(this).next("input").attr("value"),r=function(t,i){$("input[id*='review_"+n+"_rating']").val(i.value);var s=0;$(".slider").each(function(e,t){s+=$(t).slider("value")});var r=Number((s/e).toFixed(1));$("#overallSlider").slider("value",r),$("input[id*='review_overall_rating']").val(r)};$("#"+i.id).slider({range:"min",value:s,min:0,max:5,step:.5,slide:r,change:r})}),$(".stars").each(function(){var t=$(this).next("input").attr("value");$("#overallSlider").slider({range:"min",value:t,min:0,max:5,step:.5,change:function(t){if("undefined"!=typeof t.originalEvent&&"mouseup"==t.originalEvent.originalEvent.type){var i=0;$(".slider").each(function(e,t){i+=$(t).slider("value")});var n=Number((i/e).toFixed(1));$("#overallSlider").slider("value",n),$("input[id*='review_overall_rating'").val(n),alert("Please use the qualities on the left to adjust the overall rating.")
}}}),$("#overallSlider").css("opacity","1")}),$(".paws").each(function(){var e=$(this).next("input").attr("value");$(this).slider({range:"min",value:e,min:0,max:5,slide:function(e,t){$(this).next("input").attr("value",t.value)}})}),$("#product_review_headline").counter({goal:60}),$("#product_review_pros").counter({goal:60}),$("#product_review_cons").counter({goal:60}),$("#product_review_body").counter({goal:1600}),$("body").on("click","#product_review_request .notify-checkbox",function(){var e=$("#product_review_request .email-block"),t=e.find("input");console.log("this got triggered"),e.toggle(),t.prop("disabled",!t.prop("disabled"))})});var initProductCategoriesTree=function(){$(".pc-lock").on("click",function(){var e=$(this),t=e.is(":checked"),i=e.parents("li");$.ajax({url:"/admin/product_categories/"+e.attr("id").split("_")[1]+"/lock?mode="+t,type:"POST",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},success:function(){t?($(i).addClass("locked").addClass("ui-draggable-disabled").removeClass("ui-draggable"),i.draggable("disable")):($(i).removeClass("locked").addClass("ui-draggable").removeClass("ui-draggable-disabled"),i.draggable("enable"))}})}),$(".product-categories").on("click",".expand-link",function(){var e=$(this);e.hasClass("expanded")?(e.removeClass("expanded"),$("#"+e.data("folder-id")).hide()):(e.addClass("expanded"),$("#"+e.data("folder-id")).show())}),$(".product-categories").on("collapse_all",function(){$(this).find(".expand-link.expanded").each(function(){var e=$(this);e.removeClass("expanded"),$("#"+e.data("folder-id")).hide()})}),$(".product-categories").on("expand_all",function(){$(this).find(".expand-link:not(expanded)").each(function(){var e=$(this);e.addClass("expanded"),$("#"+e.data("folder-id")).show()})}),$(".product-categories").trigger("collapse_all"),$(".product-categories").attr("data-categories")&&$.each($(".product-categories").attr("data-categories").split(","),function(){$(".product-categories img[data-folder-id=folder-ul-"+this+"]").trigger("click")}),$(".with-product-categories").on("click",function(){var e=$(this);e.hasClass("expand_all")&&$(".product-categories").trigger("expand_all"),e.hasClass("collapse_all")&&$(".product-categories").trigger("collapse_all")})};$(initProductCategoriesTree),function(){var e,t,i,n,s,r;jQuery(function(){var e,t;return null!==window.location.pathname.match(/^\/stores/i)&&(t=document.createElement("script"),t.type="text/javascript",t.src="http://maps.googleapis.com/maps/api/js?sensor=false&libraries=places",t.src=0!==$("form.edit_store").length||0!==$("form.new_store").length?""+t.src+"&callback=startMapsAPI":0!==$("#keybrand-search").length?""+t.src+"&callback=keybrandsMap":""+t.src+"&callback=testing",document.body.appendChild(t)),$("#store_address").keypress(function(e){var t;return t=e.keyCode,13===t?e.preventDefault():void 0}),$("#brand").length>0&&(e=$.parseJSON($("#brand_data").html()),$("#brand").autocomplete({source:e})),$(".store-slider").each(function(e,t){var i,n,s;return i=t.id.replace("Slider",""),s=$(this).next("input").attr("value"),n=function(e,t){return $("#store_review_"+i+"_rating").val(t.value)},$("#"+t.id).slider({range:"min",value:s,min:0,max:5,step:1,slide:n,change:n})}),$("#store_review_headline").counter({goal:60}),$("#store_review_pros").counter({goal:60}),$("#store_review_cons").counter({goal:60}),$("#store_review_body").counter({goal:1600}),$("@search_store_widget").length&&$("@search_store_widget form").on("submit",function(e){var t,i;return e.preventDefault(),t=$("@search_store_widget form"),i=t[0].action+"?"+t.serialize(),window.top.location=i}),"#store-filter".length&&$("#store-filter").find("select").on("change",function(){return $("#store-filter").submit()}),$("@current_location_button").click(function(e){return e.preventDefault(),amplify.publish("search_with_current_location",function(e){return $("#lat").val(e.coords.latitude),$("#long").val(e.coords.longitude),$("@current_location_button").parents("form").submit()})})}),amplify.subscribe("record_viewed_store_hours",function(e,t){return _kmq.push(["record","Viewed Store Hours",{store_id:e}]),$.ajax({url:"/events",type:"POST",data:{event:{event_type:"ViewedStoreHours",store_id:e,member_id:t}}})}),$("#brnd_id").on("change",function(){return"0"===this.value?($("#brnd_id").hide(),$("#brnd_id").val(""),$("#brand").show(),$("#search_cancel").show()):void 0}),$("#search_cancel").on("click",function(){return $("#brand").hide(),$("#search_cancel").hide(),$("#brand").val(""),$("#brnd_id").show()}),window.testing=function(){var e,t;return t=document.getElementById("address"),e=new google.maps.places.Autocomplete(t)},window.closeFrontAndCenter=function(){return $("#dim").fadeOut(),$("#frontAndCenter").fadeOut(function(){return $("#frontAndCenter").remove(),$("#dim").remove()}),nil},window.updateStreetView=function(){return editPanorama.getPosition().lat(),editPanorama.getPosition().lng(),$("#store_street_view_lat").val(editPanorama.getPosition().lat()),$("#store_street_view_lng").val(editPanorama.getPosition().lng()),$("#store_street_view_heading").val(editPanorama.getPov().heading)},window.editStreetView=function(){var e,t,i;return $("body").append("<div id='frontAndCenter' class='bootstrap'>\n  <div id='closeFrontAndCenter'>\n    <a href='javascript: updateStreetView(); closeFrontAndCenter();' class='btn btn-mini btn-bikeroar' style='margin-right: 8px; color: #fff'>Close & Save</a>\n    <a href='javascript: closeFrontAndCenter();'><img src='/assets/close-button.png'></a>\n  </div>\n  <div id='editStreetView'></div>\n</div>"),i=marker.getPosition(),""!==$("#store_street_view_lat").val()&&""!==$("#store_street_view_lng").val&&(i=new google.maps.LatLng($("#store_street_view_lat").val(),$("#store_street_view_lng").val())),e=0,""!==$("#store_street_view_heading").val()&&(e=parseFloat($("#store_street_view_heading").val())),t={position:i,pov:{pitch:0,heading:e,zoom:1}},window.editPanorama=new google.maps.StreetViewPanorama(document.getElementById("editStreetView"),t),$("body").append("<div id='dim'>&nbsp;</div>"),$("#dim").click(function(){return closeFrontAndCenter()})},window.displayMap=function(e,t){var i,n,s;if("undefined"!=typeof google)return $("body").append("<div id='frontAndCenter' class='bootstrap'>\n  <div id='closeFrontAndCenter'><a href='javascript: closeFrontAndCenter();'><img src='/assets/close-button.png' height='25px'></a></div>\n  <div id='mapForStore' data-long='"+t+"' data-lat='"+e+"'></div>\n</div>"),n={center:new google.maps.LatLng(e,t),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(document.getElementById("mapForStore"),n),s=new google.maps.Marker({map:i,draggable:!1,animation:google.maps.Animation.DROP,position:n.center}),$("body").append("<div id='dim'>&nbsp;</div>"),nil},window.displayStreetView=function(e,t,i){var n,s;if("undefined"!=typeof google)return $("body").append("<div id='frontAndCenter' class='bootstrap'>\n  <div id='closeFrontAndCenter'><a href='javascript: closeFrontAndCenter();'><img src='/assets/close-button.png' height='25px'></a></div>\n  <div id='mapForStore'></div>\n</div>"),s={position:new google.maps.LatLng(e,t),pov:{heading:i,pitch:0,zoom:1}},n=new google.maps.StreetViewPanorama(document.getElementById("mapForStore"),s),$("body").append("<div id='dim'>&nbsp;</div>"),nil},window.keybrandsMap=function(){var e,t,i,n,s,r,o,a,l,c,u,d,h,f,p,m,g,v,y;if(o=document.getElementById("address"),e=new google.maps.places.Autocomplete(o),c={center:new google.maps.LatLng($("#data #lat").html(),$("#data #lng").html()),zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP},l=new google.maps.Map(document.getElementById("map"),c),d=[],r=new google.maps.InfoWindow,a="",h="",p="A".charCodeAt(),s="Z".charCodeAt(),n=s-p+1,g=n,$(".store-info").each(function(e,t){var i,o,c;return a=String.fromCharCode(s+1-g),g-=1,g||(g=n,h=String.fromCharCode(p+Math.floor(e/n))),t=$(t),o="https://chart.googleapis.com/chart?chst=d_map_pin_letter_withshadow&chld="+h+a+"|FF0000|000000",t.parent().children(".marker").html("<img src='"+o+"'>"),c=new google.maps.LatLng(t.attr("data-lat"),t.attr("data-lng")),d.push(c),i=new google.maps.Marker({title:t.children("h2").children("a").html(),map:l,draggable:!1,icon:new google.maps.MarkerImage(o),position:c}),0===e&&0===l.getCenter().lat()&&0===l.getCenter().lng()&&l.panTo(i.getPosition()),google.maps.event.addListener(i,"click",function(){var e;return e=$("<div>").append(t.parent().parent().find(".store_thumb").clone()).html(),r.setContent("<table><tr><td>"+e+"</td><td>"+t.parent().html()+"</td></tr></table>"),r.open(l,i)})}),d.length>1){for(t=new google.maps.LatLngBounds,v=0,y=d.length;y>v;v++)u=d[v],t.extend(u);l.fitBounds(t)}else 1===d.length&&l.setCenter(d[0]);return i=new google.maps.Circle({center:l.getCenter(),map:l,fillOpacity:.2,strokeOpacity:.5,strokeWeight:1}),i.setMap(l),i.setCenter(l.getCenter()),m=$("#data #units").html(),f=parseInt($("#radius").val()),"mi"===m&&(f/=.621371192),i.setRadius(1e3*f)},window.startMapsAPI=function(){var e,t,i,n,s,r;return r={center:!1,zoom:4,mapTypeId:google.maps.MapTypeId.ROADMAP},0!==$("#lat").length?(i=$("#lat").html(),n=$("#long").html(),r.zoom=16):(i=-25,n=135),r.center=new google.maps.LatLng(i,n),s=new google.maps.Map(document.getElementById("editStoreMap"),r),window.marker=new google.maps.Marker({map:s,draggable:!1,animation:google.maps.Animation.DROP,position:r.center}),window.panorama=new google.maps.StreetViewPanorama(document.getElementById("editStoreStreetView"),{position:new google.maps.LatLng(i,n),pov:{heading:34,pitch:10,zoom:1}}),t=document.getElementById("store_address"),e=new google.maps.places.Autocomplete(t),e.bindTo("bounds",s),google.maps.event.addListener(e,"place_changed",function(){var t;return t=e.getPlace(),marker.setPosition(t.geometry.location),panorama.setPosition(t.geometry.location),s.panTo(t.geometry.location),s.setZoom(16)})},0!==$("#store_mon_fri").length&&(e=["monday","tuesday","wednesday","thursday","friday"],r="all",s=function(){var t;return t=[],$.each(e,function(e,i){return t.push($("#store_"+i).val())}),1===$.unique(t).length},$("body").append("<div style='display: none;' id='hidden_store_hours'></div>"),i=function(){return n(),$.each(e,function(e,t){return $("#store_"+t).parent().parent().prependTo("#hidden_store_hours")}),r="mon-fri",$("a[href='#edit-hours']").html("Edit Hours")},t=function(){return n(),$("#store_mon_fri").parent().parent().prependTo("#hidden_store_hours"),r="week",$("a[href='#edit-hours']").html("Simple Hours")},n=function(){return $("#hidden_store_hours").children("div").each(function(e,t){return $(t).prependTo("#hours")})},s()===!0?i():t(),$("a[href='#edit-hours']").on("click",function(e){return e.preventDefault(),"mon-fri"===r?t():i()})),jQuery(function(){return $("[data-appendable=true]").each(function(e,t){var i;return i=$(t),i.children(".revealer").children("a").on("click",function(e){var t;return t=i.children(".shown"),t.children(".remove").remove(),t.html(jQuery.trim(t.html())),t.append($(this).attr("data-append")),i.children(".revealer").hide(),_kmq.push(["record",i.data("event_name"),{store_id:i.data("store_id")}]),$.ajax({url:"/events",type:"POST",data:{event:{event_type:i.data("event_name").replace(RegExp(" ","g"),""),store_id:i.data("store_id"),member_id:i.data("member_id")}}}),e.preventDefault()})}),$("#claim_store").click(function(e){var t;return e.preventDefault(),t=$(this),Analytical.event("Claimed Store",{store_id:t.data("store_id"),member_id:t.data("member_id")}),$.ajax({url:"/events",type:"POST",data:{event:{event_type:"ClaimedStore",store_id:t.data("store_id"),member_id:t.data("member_id")}}}),setTimeout(function(){return window.open(t.attr("href"),"_blank")},300)})}),window.clear_product_search=function(){return $("form #keyword").val(""),$("form #q_store_brand_id_eq").val(""),$("form #q_store_product_category_id_eq").val(""),!1}}.call(this),function(){$("#filter").change(function(){var e;return e=$("#filter").val(),e.length>0?$("#stores tr").each(function(t,i){return i=$(i),"undefined"!=typeof i.attr("class")&&i.attr("class")!==e?i.hide():i.show()}):$("#stores tr").show()})}.call(this),function(){var e;e={pagination:'    <p class="products-counts-title">      {{displaying_products_title}}    </p>    {{#prev}}      <a href="#" class="btn" data-page="{{prev}}">Previous</a>    {{/prev}}    {{{pagination}}}  ',search_results:"    {{#products}}      <li>        <a data-image='{{thumb_nail_url}}'>{{model}}</a>        {{> action_link}}        <p class='category'>          Category: <strong>{{category_name}}</strong>&nbsp;&nbsp;Brand: <strong>{{brand_name}}</strong>&nbsp;&nbsp; {{#year}}Year: <strong>{{year}}{{/year}}</strong>        </p>      </li>    {{/products}}    {{^products}}      <li><em>Nothing to display</em></li>    {{/products}}  ",action_link_single:"    {{^already_matched}}      <p class='assign'>        <a href='/affiliate/products/{{source_id}}/link/{{id}}' data-method='post'>          Match        </a>      </p>    {{/already_matched}}    {{#already_matched}}      <p class='un-assign' data-id='{{id}}' title='{{matched_to}}' data-placement='left'>        Matched        <a href='/products/{{id}}/reset_matches/{{affiliate_id}}' data-id='{{id}}' data-source_id='{{source_id}}' role='unassign'>          <strong>            x          </strong>        </a>      </p>    {{/already_matched}}  ",action_link_bulk:"    {{^already_matched}}      <p class='assign'>        <a href='#' role='bulk-match-link' data-id='{{id}}'>          Match        </a>      </p>    {{/already_matched}}    {{#already_matched}}      <p class='un-assign' data-id='{{id}}' title='{{matched_to}}' data-placement='left'>        Matched        <strong>          x        </strong>      </p>    {{/already_matched}}  "},this.Templates=e}.call(this),function(){var e;e=function(){function e(e,t,i){null==i&&(i={}),this.id=e,this.name=t,this.modal=$("@assign-product-dlg[data-id='"+e+"']"),this.refresh_on_open=i.refresh_on_open||!1,this.render()}return e.prototype.render=function(){var e;return this.modal.length||(this.modal=$("@new-assign-product-dlg").clone(),this.modal.attr("role","assign-product-dlg"),this.modal.attr("data-id",this.id),this.modal.insertAfter("@new-assign-product-dlg"),this.modal.draggable({handle:".modal-header"}),this.modal.css("top","20px"),this.modal.find("#collapseCategory").attr("id","collapseCategory_"+this.id),this.modal.find("a[href='#collapseCategory']").attr("href","#collapseCategory_"+this.id),this.modal.find("form input[name=affiliate_product_id]").val(this.id),amplify.publish("products.setup_search_form",this.modal.find("@search-form")),e=this.name.split(" "),this.modal.find("@keyword").val(""+e[0]+" "+e[1]),this.modal.find("@include-no-price").attr("checked",!0),this.refresh_on_open)?void 0:this.load_suggestions()},e.prototype.show=function(){return this.modal.modal("show"),this.refresh_on_open?this.load_suggestions():void 0},e.prototype.set_title=function(e){return this.modal.find("@their-name").text(e)},e.prototype.load_suggestions=function(){return this.modal.find("@search-form").submit()},e.prototype.set_ids_for_bulk_match=function(e){return this.modal.find("form input[name=ids_for_bulk_match]").val(e)},e.prototype.hide_archive_button=function(){return this.modal.find("@archive-btn").hide()},e.prototype.set_dialog_type=function(e){return this.modal.find("form input[name=match_type]").val(e)},e}(),e.ResultsTable=function(){function e(e,t,i){this.id=e,this.modal=t,this.results=i}return e.prototype.show=function(){return this.results.source_id=this.id,this.modal.find("@matched-products").html(Mustache.to_html(Templates.search_results,this.results,{action_link:Templates.action_link_single}))},e}(),e.ResultsTable.Bulk=function(){function e(e,t){this.id="bulk",this.modal=e,this.results=t}return e.prototype.show=function(){return this.modal.find("@matched-products").html(Mustache.to_html(Templates.search_results,this.results,{action_link:Templates.action_link_bulk}))},e}(),this.AssignDialog=e,this.AssignDialog.ResultsTable=e.ResultsTable,this.AssignDialog.ResultsTable.Bulk=e.ResultsTable.Bulk}.call(this),function(){var e;e=function(){function e(e){this.products=e.map(function(e){return $.parseJSON(e)}),this.modal=$("@product-dlg[data-id='"+this.products[0].id+"']"),this.render()}return e.prototype.render=function(){return this.modal.length?void 0:(this.modal=$("@new-product-dlg").clone(),this.modal.attr("role","product-dlg"),this.modal.attr("data-id",this.products[0].id),this.modal.insertAfter("@new-product-dlg"),this.modal.draggable({handle:".modal-header"}),this.modal.css("top","20px"),this.modal.find("@their-name").text(this.products[0].their_name),this.render_affiliate_product_details(),this.show_new_product_form())},e.prototype.render_affiliate_product_details=function(){var e,t;return e=this.modal.find("@affiliate-products-details"),t=e.find("tr"),$(this.products).each(function(i,n){var s;return s=t.clone(),s.attr("style","display: block;"),s.find(".their_name").text(n.their_name),s.find(".affiliate").text(n.feed_name),s.find(".their_id").text(n.their_id),s.find(".price").text(n.price),s.find("@view-details-link").attr("href",n.url),e.append(s)})},e.prototype.show_new_product_form=function(){var e;return e=this.modal,$.ajax("/affiliate/products_to_add/new.js",{success:function(t){return e.find(".new_product_form").html(t),e.find(".new_product_form form").attr("action","/affiliate/products_to_add")}})},e.prototype.show=function(){return this.modal.modal("show")},e}(),this.CreateProductDialog=e}.call(this),function(){var e;e=function(){function e(e,t){this.products=e.map(function(e){return $.parseJSON(e)}),this.product_name=t,this.product_name||(this.product_name=this.products[0].their_name),this.modal=$("@affiliate-products-dlg[data-id='"+this.products[0].id+"']"),this.render()}return e.prototype.render=function(){return this.modal.length?void 0:(this.modal=$("@list-affiliate-dlg").clone(),this.modal.attr("role","affiliate-products-dlg"),this.modal.attr("data-id",this.products[0].id),this.modal.insertAfter("@list-affiliate-dlg"),this.modal.draggable({handle:".modal-header"}),this.modal.css("top","20px"),this.modal.find("@their-name").text(this.product_name),this.render_affiliate_product_details())},e.prototype.render_affiliate_product_details=function(){var e,t;return e=this.modal.find("@affiliate-products-table tbody"),t=e.find("tr"),$(this.products).each(function(i,n){var s,r;return r=t.clone(),console.log(r.html()),r.attr("style","display: table-row;"),s=r.find(".their_name"),s.text(n.their_name),s.attr("href",n.url),r.find(".affiliate").text(n.feed_name),r.find(".their_id").text(n.their_id),r.find(".price").text(n.price),r.find(".add").attr("href","/affiliate/products_to_add/"+n.id+"/remove_from_single_list"),r.find(".remove").attr("href","/affiliate/products_to_add/"+n.id),e.append(r)})},e.prototype.show=function(){return this.modal.modal("show")},e}(),this.AffiliateProductsDialog=e}.call(this),function(){amplify.request.define("affiliate_products.garbage","ajax",{url:"/affiliate/products/{id}/garbage/true",type:"POST"}),amplify.request.define("affiliate_products.ungarbage","ajax",{url:"/affiliate/products/{id}/garbage/false",type:"POST"}),amplify.request.define("affiliate_products.un-assign","ajax",{url:"{url}.json",type:"POST"}),amplify.subscribe("affiliate_products.un-assign",function(e,t,i){return amplify.request("affiliate_products.un-assign",{url:e},function(){var e,n,s;return s={id:t,source_id:i,already_matched:!1},n=$("@assign-product-dlg[data-id='"+i+"']"),e=n.find(".un-assign[data-id='"+t+"']"),e.tooltip("destroy"),e.replaceWith(Mustache.to_html(Templates.action_link_single,s))})}),amplify.subscribe("affiliate_products.open_assign_dialog",function(e,t){var i;return i=new AssignDialog(e,t),i.set_title(t),i.show()}),amplify.subscribe("affiliate_products.open_bulk_assign_dialog",function(e,t,i){var n;return n=new AssignDialog(e,t,{refresh_on_open:!0}),n.set_dialog_type("bulk"),n.show(),n.set_title("Bulk Match"),n.set_ids_for_bulk_match(i),n.hide_archive_button()}),amplify.subscribe("affiliate_products.bulk-assign",function(e,t){return $.post("/affiliate/products/"+e+"/bulk_match",{ids:t.split(",")},function(e){return"ok"===e.status?window.location.reload():alert("Sorry, you can not Bulk Match multiple items from the same affiliate. Please modify your selection and try again.")})}),amplify.subscribe("affiliate_products.single-add-to-new-list",function(e){return window.location.href="/affiliate/products/single_add_to_new_product_list?ids="+e}),amplify.subscribe("affiliate_products.multiple-add-to-new-list",function(e){return window.location.href="/affiliate/products/multiple_add_to_new_product_list?ids="+e}),amplify.subscribe("affiliate_products.search_unmatched",function(e,t){var i;return i=$(e),i.find("@matched-products").html("<li>Loading Search Results</li>"),i.find("@pagination").html(""),t.search=!0,null==t.per_page&&(t.per_page=13),amplify.request("products.list",t,function(e){var n,s,r;return s=i.data("id"),r="bulk"===s?new AssignDialog.ResultsTable.Bulk(i,e):new AssignDialog.ResultsTable(s,i,e),r.show(),i.find(".un-assign").tooltip(),n=i.find("@pagination"),n.html(Mustache.to_html(Templates.pagination,e)),n.data("query",t)})}),amplify.subscribe("affiliate_products.garbage",function(e){return amplify.request("affiliate_products.garbage",{id:e},function(){var t;return t=$("@unmatched-products-list @garbage-btn[data-id='"+e+"']"),t.removeRole("garbage-btn"),t.addRole("ungarbage-btn"),t.text("un-Garbage")})}),amplify.subscribe("affiliate_products.ungarbage",function(e){return amplify.request("affiliate_products.ungarbage",{id:e},function(){var t;return t=$("@unmatched-products-list @ungarbage-btn[data-id='"+e+"']"),t.removeRole("ungarbage-btn"),t.addRole("garbage-btn"),t.text("Garbage")})}),jQuery(function(){return $("@affiliate-products-sort-frm select").on("change",function(){return $("@affiliate-products-sort-frm").submit()}),$("@unmatched-products-list @assign-btn, #affiliate-products-list @assign-btn").on("click",function(e){return e.preventDefault(),amplify.publish("affiliate_products.open_assign_dialog",$(this).data("id"),$(this).data("name"))}),$("@unmatched-products-list").on("click","@garbage-btn",function(e){return e.preventDefault(),amplify.publish("affiliate_products.garbage",$(this).data("id"))}),$("body").on("click","@assign-product-dlg @archive-btn",function(e){var t,i;return e.preventDefault(),i=$(this).parents("@assign-product-dlg").data("id"),t=$(this).parents("@archive-form"),t.attr("action","/affiliate/products/"+i+"/garbage/true"),t.submit()}),$("body").on("click","@assign-product-dlg @add-to-new-product-list",function(e){var t,i,n;return e.preventDefault(),t=$(this).parents("@assign-product-dlg"),i=t.data("id"),"bulk"===i?(n=t.find("form input[name=ids_for_bulk_match]").val(),amplify.publish("affiliate_products.single-add-to-new-list",n)):window.location.href="/affiliate/products/"+i+"/add_to_new_product_list"}),$("@unmatched-products-list").on("click","@ungarbage-btn",function(e){return e.preventDefault(),amplify.publish("affiliate_products.ungarbage",$(this).data("id"))}),$("body").on("submit","@assign-product-dlg @search-form",function(e){var t;return e.preventDefault(),t=$(this).serializeObject(),amplify.publish("affiliate_products.search_unmatched",$(this).parents("@assign-product-dlg"),t)}),$("body").on("click","@assign-product-dlg @pagination a",function(e){var t;return e.preventDefault(),t=$(this).parents("@pagination").data("query"),t.page=$(this).data("page"),amplify.publish("affiliate_products.search_unmatched",$(this).parents("@assign-product-dlg"),t)}),$("body").on("click","@assign-product-dlg @unassign",function(e){var t,i,n;return e.preventDefault(),n=$(this).attr("href"),t=$(this).data("id"),i=$(this).data("source_id"),amplify.publish("affiliate_products.un-assign",n,t,i)}),$("body").on("click","@assign-product-dlg @bulk-match-link",function(e){var t,i;return e.preventDefault(),t=$(this).parents("@assign-product-dlg").find("form input[name=ids_for_bulk_match]").val(),i=$(this).data("id"),amplify.publish("affiliate_products.bulk-assign",i,t)}),$(".break_match_all_cbx").on("click",function(){return $(this).attr("checked")?$(".break_match_cbx").attr("checked",!0):$(".break_match_cbx").removeAttr("checked")}),$(".break_match_cbx").on("click",function(){return $(".break_match_all_cbx").removeAttr("checked")}),$(".confirm_match_all_cbx").on("click",function(){return $(this).attr("checked")?$(".confirm_match_cbx").attr("checked",!0):$(".confirm_match_cbx").removeAttr("checked")}),$(".confirm_match_cbx").on("click",function(){return $(".confirm_match_all_cbx").removeAttr("checked")})})}.call(this),function(){var e;jQuery(function(){return $(".spoiler").each(function(e,t){var i;return t=$(t),t.hide(),i="undefined"!=typeof t.attr("data-spoiler")?t.attr("data-spoiler"):"Reveal",$("<a class='reveal' href='#'>"+i+"</a>").insertBefore(t)}),$(".reveal").click(function(e){var t;return e.preventDefault(),t=$(this),t.fadeOut(600,function(){return t.next().fadeIn(600)})}),$("@affiliate-feed-datafeed-type").length?$("@affiliate-feed-datafeed-type input").on("change",function(){return $("@affiliate-feed-datafeed-url, @affiliate-feed-datafeed-file").hide(),$("@affiliate-feed-datafeed-"+$(this).val()).show()}):void 0}),0!==$("#affiliate_feed_format").size()&&(e=function(){var e,t,i;return e=$("#affiliate_feed_format").val(),""===e?$("[data-formats]").parent().hide():($("[data-formats]:not([data-formats*='"+e+"'])").parent().hide(),$("[data-formats*='"+e+"']").parent().show()),i=$.parseJSON($("#types").html()),t="<option value=''></option>",""!==e&&$.each(i[e],function(e,i){return t+="<option value='"+i+"'>"+i+"</option>"}),$("[data-uses-types=true] select").each(function(e,i){var n;return n=$(i).val(),i.innerHTML=t,$(i).val(n)})},e(),$("#affiliate_feed_format").on("change",e)),$("@search-affiliate-product-btn").length&&$("@search-affiliate-product-btn").on("click",function(){return $("@search-affiliate-product-dlg").modal("show")})}.call(this),function(){jQuery(function(){var e;return e=function(){var e,t;return e=$("#to-be-added-products-list tbody input:checked[type=checkbox]"),t=$.map(e,function(e){return $(e).data("id")}),$("#to-be-added-products-list .page_nav form input[name=ids]").val(t)},$("#to-be-added-products-list #bulk-check").change(function(){var t;return t=!!$(this).attr("checked"),$("#to-be-added-products-list tbody input[type=checkbox]").attr("checked",t),e()}),$("#to-be-added-products-list tbody input[type=checkbox]").click(function(){return e()}),amplify.subscribe("products_to_add.open_create_product_dialog",function(e){var t;return t=new CreateProductDialog(e),t.show()}),amplify.subscribe("products_to_add.show_affiliate_products_dialog",function(e,t){var i;return null==t&&(t=null),i=new AffiliateProductsDialog(e,t),i.show()}),$("body").on("click","#to-be-added-products-list @add-product",function(e){return e.preventDefault(),amplify.publish("products_to_add.open_create_product_dialog",$(this).parents("tr").data("products"))}),$("body").on("click","#to-be-added-products-list @show-affiliate-products",function(e){return e.preventDefault(),amplify.publish("products_to_add.show_affiliate_products_dialog",$(this).parents("tr").data("products"))}),$("body").on("submit","@product-dlg .new_product_form form",function(e){var t,i;return e.preventDefault(),t=$(this),i=t.parents("@product-dlg"),t.ajaxSubmit({url:"/affiliate/products_to_add",type:"POST",data:{id:i.data("id")},success:function(e){return"ok"===e.status?window.location.reload():(i.find("@create-new-product").show(),i.find("@submitting-new-product").hide(),i.find(".new_product_form").html(e.content))}})}),$("body").on("click","@product-dlg @create-new-product",function(){var e,t;return e=$(this),e.hide(),t=e.parents("@product-dlg"),t.find("@submitting-new-product").show(),t.find(".new_product_form form").submit()})})}.call(this),function(){amplify.request.define("products.list","ajax",{url:"/products.json",type:"GET",dataType:"json"}),amplify.subscribe("products.setup_search_form",function(e){var t,i,n,s,r,o,a;return t=$(e),t.length?(a=function(){return $("#price").val(1)},r=t.find("@price-range-slider"),i=t.find("@price-range"),s=t.find("@price-range-min"),n=t.find("@price-range-max"),o=s.length&&n.length?[Number(s.val().replace(/[^0-9\.]+/g,"")),Number(n.val().replace(/[^0-9\.]+/g,""))]:[0,0],r.slider({range:!0,min:0,max:r.data("max-price"),step:r.data("max-price")/100,values:o,slide:function(e,t){return a(),i.val("$"+t.values[0]+" - $"+t.values[1]),s.val(t.values[0]),n.val(t.values[1])}}),i.val("$"+s.val()+" - $"+n.val()),t.on("click","@category-link",function(e){return e.preventDefault(),t.find("@category").val($(this).data("id")),t.find("@category-fld").val($(this).text()),t.find("@clear-category").fadeTo(300,1)}),t.on("click","@clear-category",function(){return $(this).delay(300).fadeTo(300,0).hide(),t.find("@category").val(""),t.find("@category-fld").val("")}),t.find("@category-fld").val()&&t.find("@clear-category").show(),t.find("@brand").chosen({allow_single_deselect:!0}),t.on("click","@reset",function(e){return e.preventDefault(),amplify.publish("products.reset_search_form",t)})):void 0}),amplify.subscribe("products.reset_search_form",function(e){var t,i,n;return t=$(e),t.find("@keyword").val(""),t.find("@brand").val(""),t.find("@brand").val("").trigger("liszt:updated"),i=t.find("@price-range-slider"),n=i.data("max-price"),i.slider("values",0,0),i.slider("values",1,n),t.find("@price-range").val("$0 - $"+n),t.find("@price-range-min").val(0),t.find("@price-range-max").val(n),t.find("@include-no-price").attr("checked",!0),t.find("@category").val(""),t.find("@category-fld").val(""),t.find("@year").removeAttr("checked"),t.find("@year:first").attr("checked",!0)}),amplify.subscribe("products.show_description",function(){var e;return e=$("@product-description-dlg"),e.length?(e.children(".modal-body").html(e.data("text")),e.modal("show")):void 0}),jQuery(function(){return amplify.publish("products.setup_search_form","@products-search-form"),$("@product-description-link").length&&$("@product-description-link").on("click",function(e){return e.preventDefault(),amplify.publish("products.show_description")}),$("#find-products #reset-filter").click(function(e){return e.preventDefault(),$("#find-products #keyword").val(""),$("#find-products #brands").val("[]").trigger("liszt:updated"),$("#find-products #years").val("[]").trigger("liszt:updated"),$("#find-products #creators").val("[]").trigger("liszt:updated"),$("#find-products #affiliate").val("[]").trigger("liszt:updated"),$("#find-products #status").val("[]").trigger("liszt:updated"),$("#find-products #categories").val("[]").trigger("liszt:updated")}),$("#find-products #brands, #find-products #years, #find-products #affiliate, #find-products #status, #find-products #creators").chosen(),$("#find-products #categories").chosen({batch_select:!0}),$("body").on("click","#products-list @show-affiliate-products",function(e){var t;return e.preventDefault(),t=$(this).parents("tr"),amplify.publish("products_to_add.show_affiliate_products_dialog",t.data("products"),t.data("product_name"))}),$("#products-list #bulk-check").change(function(){var e;return e=!!$(this).attr("checked"),$("#products-list tbody input[type=checkbox]").attr("checked",e)}),$("#products-list #bulk-apply").click(function(){var e,t,i;return e=$("#products-list #bulk_action").val(),t=$("#products-list tbody input:checked[type=checkbox]"),0!==t.length?(i=$.map(t,function(e){return $(e).data("id")}),$.ajax({url:"/products/bulk_action",type:"PUT",success:function(){return window.location.reload()},data:{ids:i,bulk_action:e}})):void 0}),$("#product-panels .current_location").click(function(e){return e.preventDefault(),amplify.publish("search_with_current_location",function(e){return $("#lat").val(e.coords.latitude),$("#long").val(e.coords.longitude),$("#product-panels .current_location").parents("form").submit()})}),$("@open_affiliate_product").click(function(e){var t;return e.preventDefault(),t=$(this),Analytical.event("Clicked Affiliate Link",{product_id:t.data("product-id"),affiliate_product_id:t.data("affiliate-product-id"),shopping_partner_id:t.data("shopping-partner-id"),member_id:t.data("member-id"),region:t.data("region")}),setTimeout(function(){return window.open(t.attr("href"),"_blank")},200)}),$("@view_store_link").click(function(e){var t;return e.preventDefault(),t=$(this),Analytical.event(t.data("event-name"),{product_id:t.data("product-id"),store_id:t.data("store-id"),search_location:t.data("location")}),$.ajax({url:"/events",type:"POST",data:{event:{event_type:t.data("event-name").replace(RegExp(" ","g"),""),product_id:t.data("product-id"),store_id:t.data("store-id"),search_location:t.data("location"),member_id:t.data("member-id")}}}),-(t.data("remote")?void 0:setTimeout(function(){return window.open(t.attr("href"),"_blank")
},300))})}),jQuery(function(){var e;return null!==window.location.pathname.match(/^\/products/i)&&(e=document.createElement("script"),e.type="text/javascript",e.src="http://maps.googleapis.com/maps/api/js?sensor=false&libraries=places",e.src=""+e.src+"&callback=testing",document.body.appendChild(e)),$("#address").keypress(function(e){var t;return t=e.keyCode,13===t?e.preventDefault():void 0})}),window.testing=function(){var e,t;return t=document.getElementById("address"),e=new google.maps.places.Autocomplete(t)},window.search_products=function(e,t){return"undefined"==typeof e.page&&(e.page=1),$.ajax({url:"/products.json?search=true&keyword="+e.query+"&page="+e.page,type:"GET"}).done(function(e){return t(e)})},window.clear_store_product_search=function(){return $("form #keyword").val(""),$("form #q_store_brand_id_eq").val(""),$("form #q_store_product_category_id_eq").val(""),!1}}.call(this),function(){var e;e={item:'    <li class="products-comparison-panel-item" role="item" data-id="{{id}}">      <div class="br-tooltip" role="tooltip"><div class="br-tooltip-inner">        <a href="#" class="br-tooltip-remove" role="remove" title="Remove">Remove</a>        <a href="/products/{{id}}" target="_blank">          <span class="br-tooltip-header">{{model}}</span>          <img class="br-tooltip-image" src="{{image}}" />        </a>      </div></div>    </li>  '},amplify.subscribe("productsComparison.compare",function(){var e,t;return t=amplify.store("productsForComparison"),e=Object.keys(t),document.location.href="/products_comparison/"+e}),amplify.subscribe("productsComparison.showPanel",function(){return $("@products-comparison-panel").show()}),amplify.subscribe("productsComparison.hidePanel",function(){return $("@products-comparison-panel").hide()}),amplify.subscribe("productsComparison.show",function(t,i,n){var s,r;return r=$(Mustache.to_html(e.item,{id:t,model:i,image:n})),$("@products-comparison-panel @item-list").append(r),amplify.publish("productsComparison.showPanel"),s=$("@products-compare-actions[data-id='"+t+"']"),s.addClass("product-compare-actions-active").addRole("active")}),amplify.subscribe("productsComparison.hide",function(e){var t;return $("@products-comparison-panel @item-list @item[data-id='"+e+"']").remove(),$("@products-comparison-panel @item-list @item").length||amplify.publish("productsComparison.hidePanel"),t=$("@products-compare-actions[data-id='"+e+"']"),t.removeClass("product-compare-actions-active").removeRole("active")}),amplify.subscribe("productsComparison.add",function(e){var t,i,n,s;return s=amplify.store("productsForComparison"),s instanceof Object||(s={}),null!=s[e]||Object.keys(s).length>=4?void 0:(t=$("@products-item[data-id='"+e+"']"),n=t.find("@model").html(),i=t.find("@image").attr("src"),s[e]={model:n,image:i},amplify.store("productsForComparison",s),amplify.store("productsComparisonBackUrl",document.location.href),amplify.publish("productsComparison.show",e,n,i))}),amplify.subscribe("productsComparison.remove",function(e){var t;return t=amplify.store("productsForComparison"),t instanceof Object||(t={}),null!=t[e]&&(delete t[e],amplify.store("productsForComparison",t),amplify.publish("productsComparison.hide",e),document.location.pathname.match(/^\/products_comparison\/.*/))?Object.keys(t).length>0?amplify.publish("productsComparison.compare"):amplify.publish("productsComparison.back_to_search_results"):void 0}),amplify.subscribe("productsComparison.clear",function(e){var t,i,n,s;if(t=amplify.store("productsForComparison"),t instanceof Object)for(s=Object.keys(t),i=0,n=s.length;n>i;i++)e=s[i],amplify.publish("productsComparison.hide",e);return amplify.store("productsForComparison",null),document.location.pathname.match(/^\/products_comparison\/.*/)?amplify.publish("productsComparison.back_to_search_results"):void 0}),amplify.subscribe("productsComparison.back_to_search_results",function(){var e;return e=amplify.store("productsComparisonBackUrl"),document.location.href=e?e:"/products"}),jQuery(function(){var e,t,i,n;if($("@products-compare-actions").length&&$("@products-compare-actions @checkbox").on("click",function(e){var t;return e.preventDefault(),t=$(this).parents("@products-compare-actions"),t.hasRole("active")?amplify.publish("productsComparison.remove",t.data("id")):amplify.publish("productsComparison.add",t.data("id"))}),$("@products-compare-btn").length&&$("@products-compare-btn").on("click",function(e){return e.preventDefault(),amplify.publish("productsComparison.compare")}),$("@products-comparison-back-link").length&&$("@products-comparison-back-link").on("click",function(e){return e.preventDefault(),amplify.publish("productsComparison.back_to_search_results")}),e=$("@products-comparison-panel"),e.length){i=amplify.store("productsForComparison");for(t in i)n=i[t],amplify.publish("productsComparison.show",t,n.model,n.image);return e.on("mouseover","@item",function(){return $(this).find("@tooltip").addClass("br-tooltip-visible")}),e.on("mouseout","@item",function(){return $(this).find("@tooltip").removeClass("br-tooltip-visible")}),e.on("click","@item @remove",function(e){return e.preventDefault(),t=$(this).parents("@item").data("id"),amplify.publish("productsComparison.remove",t)}),e.find("@clear-btn").on("click",function(e){return e.preventDefault(),amplify.publish("productsComparison.clear")})}})}.call(this),function(){amplify.request.define("prices.get","ajax",{url:"/prices",type:"GET",dataType:"json"}),amplify.subscribe("prices.refresh_prices",function(){var e;return $("@price-to-refresh").length?($("@price-to-refresh").each(function(){return $(this).addClass("muted").prepend("<img role='price-loader' src='/assets/price-loader.gif' title='Refreshing price...' />")}),e=function(){var t;return t=[],$("@price-to-refresh").each(function(){return t.push($(this).data("ap-id"))}),amplify.request("prices.get",{ap:t},function(t){var i,n,s;for(n in t)s=t[n],null!=s&&(i=$("@price-to-refresh[data-ap-id='"+n+"']"),i.removeClass("muted").removeRole("price-to-refresh"),i.find("@price-loader").remove(),s&&i.html(s));return $("@price-to-refresh").length?setTimeout(e,5e3):void 0})},setTimeout(e,5e3)):void 0}),amplify.request.define("llp.get","ajax",{url:"/prices/llp",dataType:"json",type:"GET"}),amplify.subscribe("llp.refresh",function(){var e,t;return e=$(".product-approx.product-approx-buy.refreshing"),t=[],e.each(function(){return t.push($(this).data("product"))}),amplify.request("llp.get",{product_ids:t},function(t){var i;return i=!1,e.each(function(){var e,n;return e=$(this),(n=t[e.data("product")])?e.html(""+e.html()+n).removeClass("refreshing"):n===!1?e.remove():i=!0}),i?setTimeout(function(){return amplify.publish("llp.refresh")},5e3):void 0})}),jQuery(function(){return amplify.publish("prices.refresh_prices")})}.call(this),function(){var batchSelect,desc,greenColor,yellowColor;batchSelect=function(e){return!e&&"undefined"!=typeof e||0!==$("#batchSelect").length?($("#batchSelect").remove(),$("#bulkEdit").parent().hide(),$("#brands tbody tr").each(function(e,t){return $(t).children("td:first").remove()})):($("<th style='width: 35px;' id='batchSelect'>Select</th>").prependTo("#brands thead tr"),$("#bulkEdit").parent().show(),$("#brands tbody tr").each(function(e,t){var i,n,s,r;return n=$(t).children("td"),s=$(n[1]).children("a").attr("href").replace(/\/local_bike_stores\/adding_brand\/([0-9]+).js/,"$1"),r=n[0].innerHTML,i=function(){switch($(n[2]).css("color")){case greenColor:return 2;case yellowColor:return 1;default:return 0}}(),$(t).remove(),add_brand(s,r,i)}))},greenColor="rgb(10, 172, 100)",yellowColor="rgb(190, 190, 36)",window.add_brand=function(e,t,i){var n;return n="",n+="<tr style='height: 32px'>",n+="<td><input type='checkbox' onchange='lbsBrandChange(this)' name='brands["+e+"]'",n+="></td>",n+="<td>"+t+"</td>",n+="<td><a href='/local_bike_stores/adding_brand/"+e+".js' data-remote=true>",n+="Edit Stores",n+="</a></td>",n+="<td style='font-size: 20px",2===i?n+="; color: "+greenColor+";":1===i&&(n+="; color: "+yellowColor+";"),n+="'>",i>0&&(n+="&#10003;"),n+="</td></tr>",$(n).appendTo("#brands tbody")},window.lbsBrandChange=function(e){var t,i,n,s,r,o;return i=$(e),r=i.attr("name"),n=r.replace(/\[|\]/g,"_").replace(/\_$/,""),s=$("#selected form").children("#"+n),t=$($(i.parent()).parent().children("td")[3]).css("color"),t!==yellowColor&&0!==s.length?s.remove():(o="checked"===i.attr("checked")?1:0,$("<input type=hidden name='"+r+"' id='"+n+"' value='"+o+"'>").appendTo("#selected form"))},window.lbsBrandSelected=function(e,t){var i,n;return i=$(e),n=document.getElementById("remove_brand_label_"+t),n?n.style.display="checked"===i.attr("checked")?"none":"block":void 0},window.lbsProductChange=function(e){var t,i,n,s,r;return t=$(e),s=t.attr("name"),i=s.replace(/\[|\]/g,"_").replace(/\_$/,""),n=$("#selected form").children("#"+i),r="checked"===t.attr("checked")?1:0,$("<input type=hidden name='"+s+"' id='"+i+"' value='"+r+"'>").appendTo("#selected form")},window.lbsReviewProductChange=function(e){var t;return t=$(e),"checked"===t.attr("checked")?(document.getElementById("product_name").value=t.attr("value"),document.getElementById("product_id").value=t.attr("id")):void 0},window.setPurchaseDate=function(e,t){var i;return i="start_date_"+e,document.getElementById(i).value=t,document.getElementById(i).disabled=!1},window.enablePurchaseDates=function(){var e,t,i,n,s,r,o,a,l,c;for(s=document.getElementsByClassName("payment_level"),c=[],a=0,l=s.length;l>a;a++)t=s[a],n=t.options[t.selectedIndex].text,r=n.split("$"),e=r[1],e?(i=t.id.split("_"),o="start_date_"+i[2],c.push(document.getElementById(o).disabled=!1)):c.push(void 0);return c},window.setPurchaseTotal=function(){var e,t,i,n,s,r,o,a;for(r=0,n=document.getElementsByClassName("payment_level"),o=0,a=n.length;a>o;o++)t=n[o],i=t.options[t.selectedIndex].text,s=i.split("$"),e=s[1],e&&(r+=parseFloat(e.replace(/,/g,"")));return document.getElementById("payment_total").value="$"+r+".00"},window.setDiscountPercentage=function(){var e,t,i;return i=document.getElementById("store_product_rrp").value.replace(/,/g,""),t=document.getElementById("store_product_our_price").value.replace(/,/g,""),e=""===i||"0"===t||""===t?0:Math.round(100*((i-t)/i)),document.getElementById("store_product_price_discount").value=e},window.setOurPrice=function(){var e,t,i;return i=document.getElementById("store_product_rrp").value.replace(/,/g,""),e=document.getElementById("store_product_price_discount").value.replace(/%/g,""),t=Math.round(i*(100-e)/100),document.getElementById("store_product_our_price").value=t+".00"},window.setInitialOurPrice=function(){var e,t;return t=document.getElementById("store_product_rrp").value,e=document.getElementById("store_product_our_price").value,"0"===e?document.getElementById("store_product_our_price").value=t:void 0},window.setCommentText=function(){var e,t,i;return i=document.getElementById("comment_template").value,t="template_"+i,e=document.getElementById(t).value,document.getElementById("store_product_comments").innerHTML=e,comments_editor.d=0,comments_editor.toggle()},window.displayTemplateFields=function(){var e,t;return t=document.getElementById("comments_check_box").value,e=$("#comments_check_box").is(":checked"),e?($("#template-name-label").show(),$("#template-name-field").show()):($("#template-name-label").hide(),$("#template-name-field").hide())},desc=-1!==window.location.href.indexOf("desc="),jQuery(function(){return $("#per_page").on("change",function(){var url;return url=window.location.href,-1===url.indexOf("add_brands.js")&&(url=url.replace("add_brands","add_brands.js")),url+=-1===url.indexOf("?")?"?per_page="+$(this).val():"&per_page="+$(this).val(),$.ajax({url:url,cache:!1,success:function(data){return eval(data)}})}),$("#grouping").on("change",function(){return $("#brand_search").submit()}),$("#bulkAdd").on("click",function(e){return"Bulk Add"===$("#bulkAdd").html()?(batchSelect(!0),$("#bulkAdd").html("Cancel")):(batchSelect(!1),$("#bulkAdd").html("Bulk Add")),e.preventDefault()})})}.call(this),function(){amplify.request.define("feeds.get_links","ajax",{url:"/feeds",type:"GET",dataType:"text"}),amplify.subscribe("feeds.open_dialog",function(){return amplify.request({resourceId:"feeds.get_links",success:function(e){var t;return t=$("@feeds-dlg"),t.children(".modal-body").html(e),t.modal("show")}})}),jQuery(function(){return $("@feeds-link").on("click",function(e){return e.preventDefault(),amplify.publish("feeds.open_dialog")})})}.call(this),function(){jQuery(function(){return $("@embed-lbs-widget-btn").length&&$("@embed-lbs-widget-dlg").length?($("@embed-lbs-widget-btn").on("click",function(e){var t;return e.preventDefault(),Analytical.event("Clicked Embed Link"),$.ajax({url:"/events",type:"POST",data:{event:{event_type:"ClickedEmbedLink",member_id:$(this).data("member_id")}}}),t=$("@embed-lbs-widget-dlg"),t.modal(),t.find("@embed-lbs-widget-types button:first").click()}),$("@embed-lbs-widget-types button").on("click",function(){var e,t;return $("@embed-lbs-widget-types button").removeClass("btn-primary"),e=$(this),t=e.data("type"),e.addClass("btn-primary"),$("@embed-lbs-widget-dlg .modal-body").html("<img src='/assets/ajax-loader.gif' />"),$.ajax({url:"/lbs_widgets/"+t,type:"GET",dataType:"text",success:function(e){return $("@embed-lbs-widget-dlg .modal-body").html(e)}})}),$("body").on("change","@embed-lbs-widget-width",function(){var e,t,i;return i=parseInt($(this).val()),(isNaN(i)||305>i)&&(i=305,$(this).val(i)),e=$("@embed-lbs-widget-preview > div"),e.data("width",i),e.text(""),e.removeAttr("data-ready"),BikeRoar.initializeWidgets(),t=$("@embed-lbs-widget-container"),t.val(t.val().replace(/data-width=\d*/,"data-width="+i))})):void 0})}.call(this),function(){jQuery(function(){return $("body").on("click",".captcha .captcha-image",function(){var e,t;return t=$(this),e=t.parents(".captcha"),e.find(".captcha-image-active").removeClass("captcha-image-active"),t.addClass("captcha-image-active"),e.find("input[name='captcha_answer']").val(t.data("id"))})})}.call(this),function(){var has_field;has_field=function(obj,field){return"undefined"!=typeof obj?"undefined"!==eval("typeof(obj."+field+")"):!1},window.modal_for=function(e,t,i,n,s){var r,o;return $(".ui-dialog").remove(),$(".dialog_content").remove(),t="dialog_"+t,r="<div class='display_none'>",0===$("#"+t).length&&(r+="<div id='"+t+"' class='dialog_content "+e+"' title='"+i+"'>",has_field(s,"start")&&(r+=s.start),r+="<div class='block'>\n  <div class='section'>\n    <div class='dashed_line'></div> \n    "+n+"\n  </div>",has_field(s,"buttons")&&(r+="<div class='button_bar clearfix'>\n  "+s.buttons+"\n</div>"),has_field(s,"end")&&(r+=s.end),r+="</div></div></div>",$(r).appendTo("body")),o=300,e.indexOf("very_narrow")>=0?o=300:e.indexOf("narrow")>=0?o=450:e.indexOf("wide")>=0?o=550:e.indexOf("very_wide")>=0&&(o=650),$("#"+t).dialog({title:i,width:o,resizable:!1})}}.call(this),/*!
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
function(e){e.cookie=function(t,i,n){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(i))||null===i||void 0===i)){if(n=e.extend({},n),(null===i||void 0===i)&&(n.expires=-1),"number"==typeof n.expires){var s=n.expires,r=n.expires=new Date;r.setDate(r.getDate()+s)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",n.raw?i:encodeURIComponent(i),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=i||{};for(var o,a=n.raw?function(e){return e}:decodeURIComponent,l=document.cookie.split("; "),c=0;o=l[c]&&l[c].split("=");c++)if(a(o[0])===t)return a(o[1]||"");return null}}(jQuery);/*

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var Handlebars={};!function(e,t){e.VERSION="1.0.0",e.COMPILER_REVISION=4,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},e.helpers={},e.partials={};var i=Object.prototype.toString,n="[object Function]",s="[object Object]";e.registerHelper=function(t,n,r){if(i.call(t)===s){if(r||n)throw new e.Exception("Arg not supported with multiple helpers");e.Utils.extend(this.helpers,t)}else r&&(n.not=r),this.helpers[t]=n},e.registerPartial=function(t,n){i.call(t)===s?e.Utils.extend(this.partials,t):this.partials[t]=n},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return t;throw new Error("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,s){var r=s.inverse||function(){},o=s.fn,a=i.call(t);return a===n&&(t=t.call(this)),t===!0?o(this):t===!1||null==t?r(this):"[object Array]"===a?t.length>0?e.helpers.each(t,s):r(this):o(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var i=new e.K;return e.K.prototype=null,i},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,i){if(e.logger.level<=t){var n=e.logger.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,i)}}},e.log=function(t,i){e.logger.log(t,i)},e.registerHelper("each",function(t,s){var r,o=s.fn,a=s.inverse,l=0,c="",u=i.call(t);if(u===n&&(t=t.call(this)),s.data&&(r=e.createFrame(s.data)),t&&"object"==typeof t)if(t instanceof Array)for(var d=t.length;d>l;l++)r&&(r.index=l),c+=o(t[l],{data:r});else for(var h in t)t.hasOwnProperty(h)&&(r&&(r.key=h),c+=o(t[h],{data:r}),l++);return 0===l&&(c=a(this)),c}),e.registerHelper("if",function(t,s){var r=i.call(t);return r===n&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?s.inverse(this):s.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn})}),e.registerHelper("with",function(t,s){var r=i.call(t);return r===n&&(t=t.call(this)),e.Utils.isEmpty(t)?void 0:s.fn(t)}),e.registerHelper("log",function(t,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;e.log(n,t)});var r=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(e,t,i,n,s,r){var o=r.length-1;switch(s){case 1:return r[o-1];case 2:this.$=new n.ProgramNode([],r[o]);break;case 3:this.$=new n.ProgramNode(r[o-2],r[o]);break;case 4:this.$=new n.ProgramNode(r[o-1],[]);break;case 5:this.$=new n.ProgramNode(r[o]);break;case 6:this.$=new n.ProgramNode([],[]);break;case 7:this.$=new n.ProgramNode([]);break;case 8:this.$=[r[o]];break;case 9:r[o-1].push(r[o]),this.$=r[o-1];break;case 10:this.$=new n.BlockNode(r[o-2],r[o-1].inverse,r[o-1],r[o]);break;case 11:this.$=new n.BlockNode(r[o-2],r[o-1],r[o-1].inverse,r[o]);break;case 12:this.$=r[o];break;case 13:this.$=r[o];break;case 14:this.$=new n.ContentNode(r[o]);break;case 15:this.$=new n.CommentNode(r[o]);break;case 16:this.$=new n.MustacheNode(r[o-1][0],r[o-1][1]);break;case 17:this.$=new n.MustacheNode(r[o-1][0],r[o-1][1]);break;case 18:this.$=r[o-1];break;case 19:this.$=new n.MustacheNode(r[o-1][0],r[o-1][1],"&"===r[o-2][2]);break;case 20:this.$=new n.MustacheNode(r[o-1][0],r[o-1][1],!0);break;case 21:this.$=new n.PartialNode(r[o-1]);break;case 22:this.$=new n.PartialNode(r[o-2],r[o-1]);break;case 23:break;case 24:this.$=[[r[o-2]].concat(r[o-1]),r[o]];break;case 25:this.$=[[r[o-1]].concat(r[o]),null];break;case 26:this.$=[[r[o-1]],r[o]];break;case 27:this.$=[[r[o]],null];break;case 28:this.$=[[r[o]],null];break;case 29:r[o-1].push(r[o]),this.$=r[o-1];break;case 30:this.$=[r[o]];break;case 31:this.$=r[o];break;case 32:this.$=new n.StringNode(r[o]);break;case 33:this.$=new n.IntegerNode(r[o]);break;case 34:this.$=new n.BooleanNode(r[o]);break;case 35:this.$=r[o];break;case 36:this.$=new n.HashNode(r[o]);break;case 37:r[o-1].push(r[o]),this.$=r[o-1];break;case 38:this.$=[r[o]];break;case 39:this.$=[r[o-2],r[o]];break;case 40:this.$=[r[o-2],new n.StringNode(r[o])];break;case 41:this.$=[r[o-2],new n.IntegerNode(r[o])];break;case 42:this.$=[r[o-2],new n.BooleanNode(r[o])];break;case 43:this.$=[r[o-2],r[o]];break;case 44:this.$=new n.PartialNameNode(r[o]);break;case 45:this.$=new n.PartialNameNode(new n.StringNode(r[o]));break;case 46:this.$=new n.PartialNameNode(new n.IntegerNode(r[o]));break;case 47:this.$=new n.DataNode(r[o]);break;case 48:this.$=new n.IdNode(r[o]);break;case 49:r[o-2].push({part:r[o],separator:r[o-1]}),this.$=r[o-2];break;case 50:this.$=[{part:r[o]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=i.lexer.lex()||1,"number"!=typeof e&&(e=i.symbols_[e]||e),e}var i=this,n=[0],s=[null],r=[],o=this.table,a="",l=0,c=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;r.push(d);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,m,g,v,y,b,_,w,x={};;){if(m=n[n.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===f||"undefined"==typeof f)&&(f=t()),g=o[m]&&o[m][f]),"undefined"==typeof g||!g.length||!g[0]){var C="";if(!u){w=[];for(y in o[m])this.terminals_[y]&&y>2&&w.push("'"+this.terminals_[y]+"'");C=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(C,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:d,expected:w})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+f);switch(g[0]){case 1:n.push(f),s.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(g[1]),f=null,p?(f=p,p=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,u>0&&u--);break;case 2:if(b=this.productions_[g[1]][1],x.$=s[s.length-b],x._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},h&&(x._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),v=this.performAction.call(x,a,c,l,this.yy,g[1],s,r),"undefined"!=typeof v)return v;b&&(n=n.slice(0,2*-1*b),s=s.slice(0,-1*b),r=r.slice(0,-1*b)),n.push(this.productions_[g[1]][0]),s.push(x.$),r.push(x._$),_=o[n[n.length-2]][n[n.length-1]],n.push(_);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,n,s;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length&&(i=this._input.match(this.rules[r[o]]),!i||t&&!(i[0].length>t[0].length)||(t=i,n=o,this.options.flex));o++);return t?(s=t[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,i,n){switch(i){case 0:return t.yytext="\\",14;case 1:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1)),14;case 4:return t.yytext=t.yytext.substr(0,t.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),31;case 23:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return t.yytext=t.yytext.substr(1,t.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},e.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},e}();return t.lexer=i,e.prototype=t,t.Parser=e,new e}();e.Parser=r,e.parse=function(t){return t.constructor===e.AST.ProgramNode?t:(e.Parser.yy=e.AST,e.Parser.parse(t))},e.AST={},e.AST.ProgramNode=function(t,i){this.type="program",this.statements=t,i&&(this.inverse=new e.AST.ProgramNode(i))},e.AST.MustacheNode=function(e,t,i){this.type="mustache",this.escaped=!i,this.hash=t;var n=this.id=e[0],s=this.params=e.slice(1),r=this.eligibleHelper=n.isSimple;this.isHelper=r&&(s.length||t)},e.AST.PartialNode=function(e,t){this.type="partial",this.partialName=e,this.context=t},e.AST.BlockNode=function(t,i,n,s){var r=function(t,i){if(t.original!==i.original)throw new e.Exception(t.original+" doesn't match "+i.original)};r(t.id,s),this.type="block",this.mustache=t,this.program=i,this.inverse=n,this.inverse&&!this.program&&(this.isInverse=!0)},e.AST.ContentNode=function(e){this.type="content",this.string=e},e.AST.HashNode=function(e){this.type="hash",this.pairs=e},e.AST.IdNode=function(t){this.type="ID";for(var i="",n=[],s=0,r=0,o=t.length;o>r;r++){var a=t[r].part;if(i+=(t[r].separator||"")+a,".."===a||"."===a||"this"===a){if(n.length>0)throw new e.Exception("Invalid path: "+i);".."===a?s++:this.isScoped=!0}else n.push(a)}this.original=i,this.parts=n,this.string=n.join("."),this.depth=s,this.isSimple=1===t.length&&!this.isScoped&&0===s,this.stringModeValue=this.string},e.AST.PartialNameNode=function(e){this.type="PARTIAL_NAME",this.name=e.original},e.AST.DataNode=function(e){this.type="DATA",this.id=e},e.AST.StringNode=function(e){this.type="STRING",this.original=this.string=this.stringModeValue=e},e.AST.IntegerNode=function(e){this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},e.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},e.AST.CommentNode=function(e){this.type="comment",this.comment=e};var o=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(){for(var e=Error.prototype.constructor.apply(this,arguments),t=0;t<o.length;t++)this[o[t]]=e[o[t]]},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/,u=function(e){return a[e]||"&amp;"};e.Utils={extend:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},escapeExpression:function(t){return t instanceof e.SafeString?t.toString():null==t||t===!1?"":(t=t.toString(),c.test(t)?t.replace(l,u):t)},isEmpty:function(e){return e||0===e?"[object Array]"===i.call(e)&&0===e.length?!0:!1:!0}};var d=e.Compiler=function(){},h=e.JavaScriptCompiler=function(){};d.prototype={compiler:d,disassemble:function(){for(var e,t,i,n=this.opcodes,s=[],r=0,o=n.length;o>r;r++)if(e=n[r],"DECLARE"===e.opcode)s.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var a=0;a<e.args.length;a++)i=e.args[a],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),t.push(i);s.push(e.opcode+" "+t.join(" "))}return s.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var i=0;t>i;i++){var n=this.opcodes[i],s=e.opcodes[i];if(n.opcode!==s.opcode||n.args.length!==s.args.length)return!1;for(var r=0;r<n.args.length;r++)if(n.args[r]!==s.args[r])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(i=0;t>i;i++)if(!this.children[i].equals(e.children[i]))return!1;return!0},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,i=e.statements;this.opcodes=[];for(var n=0,s=i.length;s>n;n++)t=i[n],this[t.type](t);return this.isSimple=1===s,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,i=(new this.compiler).compile(e,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[n]=i;for(var s=0,r=i.depths.list.length;r>s;s++)t=i.depths.list[s],2>t||this.addDepth(t-1);return n},block:function(e){var t=e.mustache,i=e.program,n=e.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var s=this.classifyMustache(t);"helper"===s?this.helperMustache(t,i,n):"simple"===s?(this.simpleMustache(t),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(t,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,i,n=e.pairs;this.opcode("pushHash");for(var s=0,r=n.length;r>s;s++)t=n[s],i=t[1],this.options.stringParams?(i.depth&&this.addDepth(i.depth),this.opcode("getContext",i.depth||0),this.opcode("pushStringParam",i.stringModeValue,i.type)):this.accept(i),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,i=this.classifyMustache(e);"simple"===i?this.simpleMustache(e):"helper"===i?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(e,t,i){var n=e.id,s=n.parts[0],r=null!=t||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",s,r)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,i){var n=this.setupFullMustacheParams(e,t,i),s=e.id.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",n.length,s);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+s);this.opcode("invokeHelper",n.length,s)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var i=1,n=e.parts.length;n>i;i++)this.opcode("lookup",e.parts[i])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new e.Exception("Scoped data references are not supported: "+t.original);this.opcode("lookupData");for(var i=t.id.parts,n=0,s=i.length;s>n;n++)this.opcode("lookup",i[n])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,i=e.eligibleHelper,n=this.options;if(i&&!t){var s=e.id.parts[0];n.knownHelpers[s]?t=!0:n.knownHelpersOnly&&(i=!1)}return t?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t,i=e.length;i--;)t=e[i],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(e,t,i){var n=e.params;return this.pushParams(n),this.opcode("pushProgram",t),this.opcode("pushProgram",i),e.hash?this.hash(e.hash):this.opcode("emptyHash"),n}};var f=function(e){this.value=e};h.prototype={nameLookup:function(e,t){return/^[0-9]+$/.test(t)?e+"["+t+"]":h.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,i,n,s){this.environment=t,this.options=i||{},e.log(e.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(t,i);var r,o=t.opcodes;for(this.i=0,v=o.length;this.i<v;this.i++)r=o[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args);return this.createFunctionContext(s)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,i="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(i=i+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(i+=" data = data || {};"),e.push(i)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(t){var i=this.stackVars.concat(this.registers.list);if(i.length>0&&(this.source[1]=this.source[1]+", "+i.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var s=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,o=this.environment.depths.list.length;o>r;r++)s.push("depth"+this.environment.depths.list[r]);var a=this.mergeSource();if(!this.isChild){var l=e.COMPILER_REVISION,c=e.REVISION_CHANGES[l];a="this.compilerInfo = ["+l+",'"+c+"'];\n"+a}if(t)return s.push(a),Function.apply(this,s);var u="function "+(this.name||"")+"("+s.join(",")+") {\n  "+a+"}";return e.log(e.logger.DEBUG,u+"\n\n"),u},mergeSource:function(){for(var e,i="",n=0,s=this.source.length;s>n;n++){var r=this.source[n];r.appendToBuffer?e=e?e+"\n    + "+r.content:r.content:(e&&(i+="buffer += "+e+";\n  ",e=t),i+=r+"\n  ")}return i},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),e[e.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){this.flushInline();var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"string"==typeof e?this.pushString(e):this.pushStackLiteral(e)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=t,this.options.stringParams&&(this.register("hashContexts","{"+e.contexts.join(",")+"}"),this.register("hashTypes","{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var i=this.lastHelper=this.setupHelper(e,t,!0),n=this.nameLookup("depth"+this.lastContext,t,"context");this.push(i.name+" || "+n),this.replaceStack(function(e){return e+" ? "+e+".call("+i.callParams+") "+": helperMissing.call("+i.helperMissingParams+")"})},invokeKnownHelper:function(e,t){var i=this.setupHelper(e,t);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var i=this.setupHelper(0,e,t),n=this.lastHelper=this.nameLookup("helpers",e,"helper"),s=this.nameLookup("depth"+this.lastContext,e,"context"),r=this.nextStack();this.source.push("if ("+r+" = "+n+") { "+r+" = "+r+".call("+i.callParams+"); }"),this.source.push("else { "+r+" = "+s+"; "+r+" = typeof "+r+" === functionType ? "+r+".apply(depth0) : "+r+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,i,n=this.popStack();this.options.stringParams&&(i=this.popStack(),t=this.popStack());var s=this.hash;t&&s.contexts.push("'"+e+"': "+t),i&&s.types.push("'"+e+"': "+i),s.values.push("'"+e+"': ("+n+")")},compiler:h,compileChildren:function(e,t){for(var i,n,s=e.children,r=0,o=s.length;o>r;r++){i=s[r],n=new this.compiler;var a=this.matchExistingProgram(i);null==a?(this.context.programs.push(""),a=this.context.programs.length,i.index=a,i.name="program"+a,this.context.programs[a]=n.compile(i,t,this.context),this.context.environments[a]=i):(i.index=a,i.name="program"+a)}},matchExistingProgram:function(e){for(var t=0,i=this.context.environments.length;i>t;t++){var n=this.context.environments[t];
if(n&&n.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,i=this.environment.children[e],n=i.depths.list,s=[i.index,i.name,"data"],r=0,o=n.length;o>r;r++)t=n[r],1===t?s.push("depth0"):s.push("depth"+(t-1));return(0===n.length?"self.program(":"self.programWithDepth(")+s.join(", ")+")"},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new f(e))},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.source.push(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,i="",n=this.isInline();if(n){var s=this.popStack(!0);if(s instanceof f)t=s.value;else{var r=this.stackSlot?this.topStackName():this.incrStack();i="("+this.push(r)+" = "+s+"),",t=this.topStack()}}else t=this.topStack();var o=e.call(this,t);return n?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+i+o+")")):(/^stack/.test(t)||(t=this.nextStack()),this.source.push(t+" = ("+i+o+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,i=e.length;i>t;t++){var n=e[t];n instanceof f?this.compileStack.push(n):this.pushStack(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),i=(t?this.inlineStack:this.compileStack).pop();return!e&&i instanceof f?i.value:(t||this.stackSlot--,i)},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,i=t[t.length-1];return!e&&i instanceof f?i.value:i},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,i){var n=[];this.setupParams(e,n,i);var s=this.nameLookup("helpers",t,"helper");return{params:n,name:s,callParams:["depth0"].concat(n).join(", "),helperMissingParams:i&&["depth0",this.quotedString(t)].concat(n).join(", ")}},setupParams:function(e,t,i){var n,s,r,o=[],a=[],l=[];o.push("hash:"+this.popStack()),s=this.popStack(),r=this.popStack(),(r||s)&&(r||(this.context.aliases.self="this",r="self.noop"),s||(this.context.aliases.self="this",s="self.noop"),o.push("inverse:"+s),o.push("fn:"+r));for(var c=0;e>c;c++)n=this.popStack(),t.push(n),this.options.stringParams&&(l.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(o.push("contexts:["+a.join(",")+"]"),o.push("types:["+l.join(",")+"]"),o.push("hashContexts:hashContexts"),o.push("hashTypes:hashTypes")),this.options.data&&o.push("data:data"),o="{"+o.join(",")+"}",i?(this.register("options",o),t.push("options")):t.push(o),t.join(", ")}};for(var p="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),m=h.RESERVED_WORDS={},g=0,v=p.length;v>g;g++)m[p[g]]=!0;h.isValidJavaScriptVariableName=function(e){return!h.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1},e.precompile=function(t,i){if(null==t||"string"!=typeof t&&t.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);i=i||{},"data"in i||(i.data=!0);var n=e.parse(t),s=(new d).compile(n,i);return(new h).compile(s,i)},e.compile=function(i,n){function s(){var s=e.parse(i),r=(new d).compile(s,n),o=(new h).compile(r,n,t,!0);return e.template(o)}if(null==i||"string"!=typeof i&&i.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+i);n=n||{},"data"in n||(n.data=!0);var r;return function(e,t){return r||(r=s()),r.call(this,e,t)}},e.VM={template:function(t){var i={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,i,n){var s=this.programs[t];return n?s=e.VM.program(t,i,n):s||(s=this.programs[t]=e.VM.program(t,i)),s},merge:function(t,i){var n=t||i;return t&&i&&(n={},e.Utils.extend(n,i),e.Utils.extend(n,t)),n},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(n,s){s=s||{};var r=t.call(i,e,n,s.helpers,s.partials,s.data),o=i.compilerInfo||[],a=o[0]||1,l=e.COMPILER_REVISION;if(a!==l){if(l>a){var c=e.REVISION_CHANGES[l],u=e.REVISION_CHANGES[a];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+u+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return r}},programWithDepth:function(e,t,i){var n=Array.prototype.slice.call(arguments,3),s=function(e,s){return s=s||{},t.apply(this,[e,s.data||i].concat(n))};return s.program=e,s.depth=n.length,s},program:function(e,t,i){var n=function(e,n){return n=n||{},t(e,n.data||i)};return n.program=e,n.depth=0,n},noop:function(){return""},invokePartial:function(i,n,s,r,o,a){var l={helpers:r,partials:o,data:a};if(i===t)throw new e.Exception("The partial "+n+" could not be found");if(i instanceof Function)return i(s,l);if(e.compile)return o[n]=e.compile(i,{data:a!==t}),o[n](s,l);throw new e.Exception("The partial "+n+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template}(Handlebars),function(){jQuery(function(){return $(document).on("scroll",function(){return $("@fixed-wrapper").each(function(){var e,t,i;return t=$(this),i=$(document).scrollTop()-t.offset().top,e=t.find("@fixed-y"),i>0?(t.css({position:"relative","padding-top":e.height()}),e.css({top:i,position:"absolute"})):(t.css({"padding-top":0}),e.css({position:"static"}))})})})}.call(this),function(){amplify.subscribe("affiliate_products.bulk_action",function(e,t){return $.ajax({url:"/affiliate/products/bulk_action",type:"PUT",success:function(){return window.location.reload()},data:{ids:e,bulk_action:t}})}),jQuery(function(){return $("#affiliate-products-list #bulk-check").change(function(){var e;return e=!!$(this).attr("checked"),$("#affiliate-products-list tbody input[type=checkbox]").attr("checked",e)}),$("#affiliate-products-list #bulk-apply").click(function(){var e,t,i,n,s;return e=$("#affiliate-products-list #bulk_action").val(),i=$("#affiliate-products-list tbody input:checked[type=checkbox]"),0!==i.length?(s=$.map(i,function(e){return $(e).data("id")}),t=$.map(i,function(e){return $(e).data("affiliate_id")}),"match"===e?t.unique().length<i.length?alert("Sorry, you can not Bulk Match multiple items from the same affiliate. Please modify your selection and try again."):(n=i.first(),amplify.publish("affiliate_products.open_bulk_assign_dialog","bulk",n.data("name"),s)):"pend"===e?amplify.publish("show_confirm",{text:"Warning! Are you sure you want to unlink this product?",buttons:{Cancel:function(){return $(this).dialog("close")},OK:function(){return amplify.publish("affiliate_products.bulk_action",s,e)}}}):"add_to_new"===e?t.unique().length===i.length?amplify.publish("show_confirm",{text:"Do you want to create a new product for each selection, or associate all to a single new product?",buttons:{Multiple:function(){return amplify.publish("affiliate_products.multiple-add-to-new-list",s)},Single:function(){return amplify.publish("affiliate_products.single-add-to-new-list",s)}}}):amplify.publish("show_confirm",{text:"Selected items are not all from different affiliate. This will create multiple new products - one for each item selected.",buttons:{Cancel:function(){return $(this).dialog("close")},Continue:function(){return amplify.publish("affiliate_products.multiple-add-to-new-list",s)}}}):amplify.publish("affiliate_products.bulk_action",s,e)):void 0}),$("#find-affiliate-products #reset-filter").click(function(){return $("#find-affiliate-products #keyword").val(""),$("#find-affiliate-products #affiliate").val(""),$("#find-affiliate-products #status").val(""),$("#find-affiliate-products #per_page").val(10)}),$("#find-affiliate-products #status, #find-affiliate-products #affiliate").chosen(),$("#find-affiliate-products").submit(function(){var e,t;return t=$(this).find("select[name^=status]"),e=$(this).find("select[name^=affiliate]"),t.val()||t.val(""),e.val()?void 0:e.val("")})})}.call(this),function(){amplify.subscribe("prevent_requests_deleting",function(e){return amplify.publish("show_confirm",{text:"Are you sure you want to remove the selected review requests? This can not be undone.",buttons:{Cancel:function(){return $(this).dialog("close")},Remove:function(){return e()}}})}),jQuery(function(){var e;return e=function(){var e,t;return e=$("#product-review-requests-list tbody input:checked[type=checkbox]"),t=$.map(e,function(e){return $(e).data("id")}),$("#product-review-requests-list .page_nav form input[name=ids]").val(t)},$("#product-review-requests-list #bulk-check").change(function(){var t;return t=!!$(this).attr("checked"),$("#product-review-requests-list tbody input[type=checkbox]").attr("checked",t),e()}),$("#product-review-requests-list tbody input[type=checkbox]").click(function(){return e()}),$("#product-review-requests-list #bulk-remove").click(function(e){var t;return e.preventDefault(),t=$(this),amplify.publish("prevent_requests_deleting",function(){return t.parents("form").submit()})}),$("#product-review-requests-list @remove-requests").click(function(e){var t;return e.preventDefault(),t=$(this),amplify.publish("prevent_requests_deleting",function(){return window.location=t.data("url")})})})}.call(this),function(){amplify.subscribe("editror_review:bind_fields",function(){return $("#editor_review_review_headline").counter({goal:60}),$(".chosen").chosen({allow_single_deselect:!0}),$(".brands, #year").on("change",function(){var e,t;return t="",e={brands:[$(".brands").val()],year:$("#year").val()},$.ajax({url:"/products/by_brands.json",cache:!1,type:"POST",data:e,success:function(e){var i;return $("#product").find("option").remove(),i=0,$(e.products).each(function(e,i){return t+='<option value="'+i.id+'">'+i.mo+" ("+i.rd+")</option>"}),$("#product").append(t),$("#product").trigger("liszt:updated")}})})}),jQuery(function(){return $("body").on("change","@review_rating",function(){var e,t;return t=0,$("@review_rating").each(function(e,i){return t+=parseFloat($(i).val())}),e=Number((t/4).toFixed(1)),$("input[name*='overall_rating']").val(e),$("#overall-rating").html(e)}),$("#editor-reviews-list #bulk-check").change(function(){var e;return e=!!$(this).attr("checked"),$("#editor-reviews-list tbody input[type=checkbox]").attr("checked",e)}),$("#find-reviews #reset-filter").click(function(e){return e.preventDefault(),$("#find-reviews #keyword").val(""),$("#find-reviews #member").val("[]").trigger("liszt:updated"),$("#find-reviews #status").val("pending").trigger("liszt:updated"),$("#find-reviews #per_page").val(50),$("#find-reviews #q_product_category_name_or_model_or_brand_name_or_year_cont").val(""),$("#find-reviews #q_brand_id_in").val("[]").trigger("liszt:updated"),$("#find-reviews #q_year_in").val("[]").trigger("liszt:updated"),$("#find-reviews #q_affiliate_names").val("[]").trigger("liszt:updated"),$("#find-reviews #q_published_on_null").val("[]").trigger("liszt:updated"),$("#find-reviews #q_product_category_id_in").val("[]").trigger("liszt:updated")}),$("#find-reviews #status, #find-reviews #member, #q_brand_id_in, #q_year_in, #q_affiliate_names, #q_published_on_null, #q_product_category_id_in").chosen(),$("#find-reviews").submit(function(){var e,t;return t=$(this).find("select[name^=status]"),e=$(this).find("select[name^=member]"),t.val()||t.val(""),e.val()?void 0:e.val("")}),$("#editor-reviews-list #bulk-apply").click(function(){var e,t,i;return e=$("#editor-reviews-list #bulk_action").val(),t=$("#editor-reviews-list tbody input:checked[type=checkbox]"),0!==t.length?(i=$.map(t,function(e){return $(e).data("id")}),$.ajax({url:"/editor_reviews/bulk_action",type:"PUT",success:function(){return window.location.reload()},data:{ids:i,bulk_action:e}})):void 0})})}.call(this),function(){jQuery(function(){return $("#store-reviews-list #bulk-check").change(function(){var e;return e=!!$(this).attr("checked"),$("#store-reviews-list tbody input[type=checkbox]").attr("checked",e)}),$("#find-store-reviews #reset-filter").click(function(e){return e.preventDefault(),$("#find-store-reviews #store_keyword").val(""),$("#find-store-reviews #status").val("pending").trigger("liszt:updated"),$("#find-store-reviews #per_page").val(50)}),$("#find-store-reviews #status").chosen(),$("#find-store-reviews").submit(function(){var e;return e=$(this).find("select[name^=status]"),e.val()?void 0:e.val("")}),$("#store-reviews-list #bulk-apply").click(function(){var e,t,i;return e=$("#store-reviews-list #bulk_action").val(),t=$("#store-reviews-list tbody input:checked[type=checkbox]"),0!==t.length?(i=$.map(t,function(e){return $(e).data("id")}),$.ajax({url:"/store_reviews/bulk_action",type:"PUT",success:function(){return window.location.reload()},data:{ids:i,bulk_action:e}})):void 0})})}.call(this),function(){jQuery(function(){return $("#product-reviews-list #bulk-check").change(function(){var e;return e=!!$(this).attr("checked"),$("#product-reviews-list tbody input[type=checkbox]").attr("checked",e)}),$("#find-product-reviews #reset-filter").click(function(e){return e.preventDefault(),$("#find-product-reviews #product_keyword").val(""),$("#find-product-reviews #member_keyword").val(""),$("#find-product-reviews #brand").val("").trigger("liszt:updated"),$("#find-product-reviews #status").val("pending").trigger("liszt:updated"),$("#find-product-reviews #per_page").val(10)}),$("#find-product-reviews #brand").chosen(),$("#find-product-reviews #status").chosen(),$("#find-product-reviews").submit(function(){var e,t;return t=$(this).find("select[name^=status]"),t.val()||t.val(""),e=$(this).find("select[name^=brand]"),e.val()?void 0:e.val("")}),$("#product-reviews-list #bulk-apply").click(function(){var e,t,i;return e=$("#product-reviews-list #bulk_action").val(),t=$("#product-reviews-list tbody input:checked[type=checkbox]"),0!==t.length?(i=$.map(t,function(e){return $(e).data("id")}),$.ajax({url:"/admin/product_reviews/bulk_action",type:"PUT",success:function(){return window.location.reload()},data:{ids:i,bulk_action:e}})):void 0})})}.call(this),function(){var e;amplify.request.define("demo_day_members.save_license_line","ajax",{url:"/admin/demo_day_licenses/{license_id}",type:"PUT",dataType:"json"}),amplify.request.define("demo_day_members.remove_license_line","ajax",{url:"/admin/demo_day_licenses/{license_id}",type:"DELETE",dataType:"json"}),amplify.request.define("demo_day_members.requests.update_member_row","ajax",{url:"/admin/demo_day_members/{member_id}/load_row",type:"GET",dataType:"html"}),amplify.subscribe("demo_day_members.search_filter.reset",function(){var e;return e=$("#find-demo-day-members .filter-form"),e.find("#keywords").val(""),e.find("#demo_day_license_type").val([]).trigger("liszt:updated"),e.find("#manufacturer_profile").val("").trigger("liszt:updated"),e.find("#per_page option[value='10']").prop("selected",!0)}),amplify.subscribe("demo_day_members.license_list_dialog.close",function(){var e;return e=$("#dialog_demo_day_licenses_list"),e.dialog("close").empty(),e.remove()}),amplify.subscribe("demo_day_members.license_list_dialog.enable_inline_edit_mode",function(e){var t,i,n;return i=e.find("td.editable"),n=e.find(".view-mode"),t=e.find(".edit-mode"),i.attr("contenteditable",!0).attr("bgcolor","#FFF"),n.hide(),t.show()}),amplify.subscribe("demo_day_members.license_list_dialog.save_line",function(t){var i,n,s,r;return i=t.find("td.device-cell"),r=t.find("td.start-cell"),n=t.find("td.end-cell"),s=t.data("id"),amplify.request("demo_day_members.save_license_line",{license_id:s,demo_day_license:{device_limit:i.text(),license_start_date:r.text(),license_end_date:n.text()}},function(s){return"success"===s.code?e(t):(i.text(s.prev_data.device_limit),r.text(s.prev_data.license_start_date),n.text(s.prev_data.license_end_date))})}),amplify.subscribe("demo_day_members.license_list_dialog.remove_line",function(e){var t,i,n,s;return t=e.data("id"),n=e.data("member-id"),s=$("tr#row_demo_day_member_"+n),i=s.find(".licenses-count-cell"),amplify.request("demo_day_members.remove_license_line",{license_id:t},function(t){var s;return"success"===t.code?(s=e.parent().find("tr.demo-day-license-row").length,e.remove(),1>=s?($("#dialog_demo_day_licenses_list").dialog("close").remove(),i.empty().text("0")):amplify.publish("demo_day_members.actions.update_member_row",n)):void 0})}),amplify.subscribe("demo_day_members.license_list_dialog.cancel_line",function(t){return e(t)}),amplify.subscribe("demo_day_members.actions.update_member_row",function(e){var t;return t=$("#row_demo_day_member_"+e),amplify.request("demo_day_members.requests.update_member_row",{member_id:e},function(e){return e?t.html($(e).html()):void 0})}),e=function(e){var t,i,n;return i=e.find("td.editable"),n=e.find(".view-mode"),t=e.find(".edit-mode"),i.removeAttr("contenteditable").removeAttr("bgcolor"),t.hide(),n.show()},jQuery(function(){return $("#find-demo-day-members #reset-filter").click(function(e){return e.preventDefault(),amplify.publish("demo_day_members.search_filter.reset")}),$("body").on("click","#dialog_demo_day_licenses_list a.edit, #dialog_demo_day_licenses_list a.cancel, #dialog_demo_day_licenses_list a.save, #dialog_demo_day_licenses_list a.remove",function(e){var t,i,n;if(e.preventDefault(),n=$(this),i=n.parents("tr.demo-day-license-row"),i.length>0)switch(t=$(i[0]),!1){case!n.hasClass("edit"):return amplify.publish("demo_day_members.license_list_dialog.enable_inline_edit_mode",t);case!n.hasClass("cancel"):return amplify.publish("demo_day_members.license_list_dialog.cancel_line",t);case!n.hasClass("save"):return amplify.publish("demo_day_members.license_list_dialog.save_line",t);case!n.hasClass("remove"):return amplify.publish("demo_day_members.license_list_dialog.remove_line",t)}}),$("body").on("click",".license-dialog-close-btn",function(e){return e.preventDefault(),amplify.publish("demo_day_members.license_list_dialog.close")})})}.call(this),function(){var e,t,i,n,s,r,o,a,l,c,u;amplify.request.define("demo_day_licenses.request.list_existing_licenses","ajax",{url:"/admin/demo_day_licenses/list_existing_licenses?member_id={member_id}",type:"GET",dataType:"html"}),amplify.request.define("demo_day_licenses.request.render_details_fields","ajax",{url:"/admin/demo_day_licenses/details_fields",type:"POST",dataType:"html"}),amplify.request.define("demo_day_licenses.request.submit_license_form","ajax",{url:"/admin/demo_day_licenses",type:"POST",dataType:"json"}),amplify.subscribe("demo_day_licenses.actions.member_select",function(t){return t?(i(),amplify.request("demo_day_licenses.request.list_existing_licenses",{member_id:t},function(e){return e&&$(e).find(".license-info-row").length>0?c(e):r()})):(e(),r())}),amplify.subscribe("demo_day_licenses.actions.license_type_select",function(e){var t;return t=$("button#submit-form.update-license"),e?(t.removeAttr("disabled"),amplify.request("demo_day_licenses.request.render_details_fields",{license_type_id:e},function(e){return e.trim()?(l(e),a()):s()})):t.attr("disabled","disabled")}),amplify.subscribe("demo_day_licenses.actions.prepare_license_modal_for_member",function(e){return e?(t(".member-select"),amplify.publish("demo_day_licenses.actions.member_select",e)):void 0}),amplify.subscribe("demo_day_licenses.actions.submit_license_form",function(e){var t,i;return t=e.form_data,i=e.member_id,t?amplify.request("demo_day_licenses.request.submit_license_form",t,function(e){return e&&"success"===e.code?i?(amplify.publish("demo_day_members.actions.update_member_row",i),$("#dialog_demo_day_new_license").modal("hide").remove()):window.location.reload():void 0}):void 0}),amplify.subscribe("demo_day_licenses"),o=function(e){var t;return t=$("#"+e),t.fadeOut(1e3,function(){return t.empty()})},u=function(e,t){var i;return i=$("#"+e),i.html(t),i.fadeIn(1e3)},n=function(e){var t;return t=$(e),t.removeAttr("disabled"),t.trigger("liszt:updated")},t=function(e){var t;return t=$(e),t.attr("disabled","disabled"),t.trigger("liszt:updated")},r=function(){return o("existing-license-list")},c=function(e){return u("existing-license-list",e)},s=function(){return o("demo-day-license-details-fields")},l=function(e){return u("demo-day-license-details-fields",e)},i=function(){return n(".license-type-select")},e=function(){return t(".license-type-select")},a=function(){return $(".admin-field .datepicker").datepicker({format:"dd/mm/yyyy"}).on("changeDate",function(){return $(this).datepicker("hide")})}}.call(this),function(){var e,t;$(function(){return $("body").on("click","#dialog_nurture_program_form #browse_link",function(e){var t;return e.preventDefault(),t=$(this).parents(".dropzone-placeholder"),t.parent().find(".error").remove(),t.find(".file_upload_hidden_field").trigger("click"),t.find("#progress > .progress-bar").css("width","0%")}),$("body").on("change","#dialog_nurture_program_form .file_upload_hidden_field",function(){var e;return e=$(this).parents(".dropzone-placeholder"),e.trigger("fileuploaddrop",$(this).val())}),$("body").on("click","button#sign_in.btn.btn-success.send-nurture-program-data",function(t){var i;return t.preventDefault(),i=$("form#new-program-modal"),$("textarea#nurture_program_content").html(tinyMCE.activeEditor.getContent()),$.ajax({url:i.attr("action"),type:i.attr("method"),dataType:"json",data:i.serialize(),success:function(t){var i,n,s,r;if(t&&"success"===t.code)return amplify.publish("admin_nurture_programs.actions.after_succesfull_program_create",t);if(null!=t.errors){s=t.errors,r=[];for(n in s)i=s[n],r.push(e(n,i));return r}}})}),$("body").on("focus",".controls input, .controls .textarea",function(){return t($(this))})}),e=function(e,t){var i,n;return n=$("#nurture_program_"+e),i=n.parent(),i.parent().addClass("error"),i.append("<span class='help-inline'>"+t.join("<br>")+"</span>")},t=function(e){var t;return t=e.parent(),t.parent().removeClass("error"),t.find("span.help-inline").remove()}}.call(this),window.Modernizr=function(e,t,i){function n(e){p.cssText=e}function s(e,t){return typeof e===t}var r,o,a,l="2.6.2",c={},u=!0,d=t.documentElement,h="modernizr",f=t.createElement(h),p=f.style,m=({}.toString,{}),g=[],v=g.slice,y={}.hasOwnProperty;a=s(y,"undefined")||s(y.call,"undefined")?function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")}:function(e,t){return y.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=v.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=t.prototype;var r=new s,o=t.apply(r,i.concat(v.call(arguments)));return Object(o)===o?o:r}return t.apply(e,i.concat(v.call(arguments)))};return n}),m.geolocation=function(){return"geolocation"in navigator};for(var b in m)a(m,b)&&(o=b.toLowerCase(),c[o]=m[b](),g.push((c[o]?"":"no-")+o));return c.addTest=function(e,t){if("object"==typeof e)for(var n in e)a(e,n)&&c.addTest(n,e[n]);else{if(e=e.toLowerCase(),c[e]!==i)return c;t="function"==typeof t?t():t,"undefined"!=typeof u&&u&&(d.className+=" "+(t?"":"no-")+e),c[e]=t}return c},n(""),f=r=null,function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function s(e){var t=g[e[p]];return t||(t={},m++,e[p]=m,g[m]=t),t}function r(e,i,n){if(i||(i=t),u)return i.createElement(e);n||(n=s(i));var r;return r=n.cache[e]?n.cache[e].cloneNode():f.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),r.canHaveChildren&&!h.test(e)?n.frag.appendChild(r):r}function o(e,i){if(e||(e=t),u)return e.createDocumentFragment();i=i||s(e);for(var r=i.frag.cloneNode(),o=0,a=n(),l=a.length;l>o;o++)r.createElement(a[o]);return r}function a(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return v.shivMethods?r(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function l(e){e||(e=t);var n=s(e);return v.shivCSS&&!c&&!n.hasCSS&&(n.hasCSS=!!i(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),u||a(e,n),e}var c,u,d=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",m=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(i){c=!0,u=!0}}();var v={elements:d.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:d.shivCSS!==!1,supportsUnknownElements:u,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:l,createElement:r,createDocumentFragment:o};e.html5=v,l(t)}(this,t),c._version=l,d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(u?" js "+g.join(" "):""),c}(this,this.document),function(e,t,i){function n(e){return"[object Function]"==g.call(e)}function s(e){return"string"==typeof e}function r(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function a(){var e=v.shift();y=1,e?e.t?p(function(){("c"==e.t?h.injectCss:h.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),a()):y=0}function l(e,i,n,s,r,l,c){function u(t){if(!f&&o(d.readyState)&&(b.r=f=1,!y&&a(),d.onload=d.onreadystatechange=null,t)){"img"!=e&&p(function(){w.removeChild(d)},50);for(var n in T[i])T[i].hasOwnProperty(n)&&T[i][n].onload()}}var c=c||h.errorTimeout,d=t.createElement(e),f=0,g=0,b={t:n,s:i,e:r,a:l,x:c};1===T[i]&&(g=1,T[i]=[]),"object"==e?d.data=i:(d.src=i,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,g)},v.splice(s,0,b),"img"!=e&&(g||2===T[i]?(w.insertBefore(d,_?null:m),p(u,c)):T[i].push(d))}function c(e,t,i,n,r){return y=0,t=t||"j",s(e)?l("c"==t?C:x,e,t,this.i++,i,n,r):(v.splice(this.i++,0,e),1==v.length&&a()),this}function u(){var e=h;return e.loader={load:c,i:0},e}var d,h,f=t.documentElement,p=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in f.style,_=b&&!!t.createRange().compareNode,w=_?f:m.parentNode,f=e.opera&&"[object Opera]"==g.call(e.opera),f=!!t.attachEvent&&!f,x=b?"object":f?"script":"img",C=f?"script":x,k=Array.isArray||function(e){return"[object Array]"==g.call(e)},S=[],T={},D={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};h=function(e){function t(e){var t,i,n,e=e.split("!"),s=S.length,r=e.pop(),o=e.length,r={url:r,origUrl:r,prefixes:e};for(i=0;o>i;i++)n=e[i].split("="),(t=D[n.shift()])&&(r=t(r,n));for(i=0;s>i;i++)r=S[i](r);return r}function o(e,s,r,o,a){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(s&&(s=n(s)?s:s[e]||s[o]||s[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,s,r,o,a):(T[l.url]?l.noexec=!0:T[l.url]=1,r.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(n(s)||n(c))&&r.load(function(){u(),s&&s(l.origUrl,a,o),c&&c(l.origUrl,a,o),T[l.url]=2})))}function a(e,t){function i(e,i){if(e){if(s(e))i||(d=function(){var e=[].slice.call(arguments);h.apply(this,e),f()}),o(e,d,t,0,c);else if(Object(e)===e)for(l in a=function(){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(),e)e.hasOwnProperty(l)&&(!i&&!--a&&(n(d)?d=function(){var e=[].slice.call(arguments);h.apply(this,e),f()}:d[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(h[l])),o(e[l],d,t,l,c))}else!i&&f()}var a,l,c=!!e.test,u=e.load||e.both,d=e.callback||r,h=d,f=e.complete||r;i(c?e.yep:e.nope,!!u),u&&i(u)}var l,c,d=this.yepnope.loader;if(s(e))o(e,0,d,0);else if(k(e))for(l=0;l<e.length;l++)c=e[l],s(c)?o(c,0,d,0):k(c)?h(c):Object(c)===c&&a(c,d);else Object(e)===e&&a(e,d)},h.addPrefix=function(e,t){D[e]=t},h.addFilter=function(e){S.push(e)},h.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=a,e.yepnope.injectJs=function(e,i,n,s,l,c){var u,d,f=t.createElement("script"),s=s||h.errorTimeout;f.src=e;for(d in n)f.setAttribute(d,n[d]);i=c?a:i||r,f.onreadystatechange=f.onload=function(){!u&&o(f.readyState)&&(u=1,i(),f.onload=f.onreadystatechange=null)},p(function(){u||(u=1,i(1))},s),l?f.onload():m.parentNode.insertBefore(f,m)},e.yepnope.injectCss=function(e,i,n,s,o,l){var c,s=t.createElement("link"),i=l?a:i||r;s.href=e,s.rel="stylesheet",s.type="text/css";for(c in n)s.setAttribute(c,n[c]);o||(m.parentNode.insertBefore(s,m),p(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(e){e.fn.UItoTop=function(t){var i={text:"To Top",min:200,inDelay:600,outDelay:400,containerID:"toTop",containerHoverID:"toTopHover",scrollSpeed:250,easingType:"linear"},n=e.extend(i,t),s="#"+n.containerID,r="#"+n.containerHoverID;e("body").append('<a href="#" id="'+n.containerID+'">'+n.text+"</a>"),e(s).hide().on("click.UItoTop",function(){return e("html, body").animate({scrollTop:0},n.scrollSpeed,n.easingType),e("#"+n.containerHoverID,this).stop().animate({opacity:0},n.inDelay,n.easingType),!1}).prepend('<span id="'+n.containerHoverID+'"></span>').hover(function(){e(r,this).stop().animate({opacity:1},600,"linear")},function(){e(r,this).stop().animate({opacity:0},700,"linear")}),e(window).scroll(function(){var t=e(window).scrollTop();"undefined"==typeof document.body.style.maxHeight&&e(s).css({position:"absolute",top:t+e(window).height()-50}),t>n.min?e(s).fadeIn(n.inDelay):e(s).fadeOut(n.Outdelay)})}}(jQuery),function(){amplify.subscribe("hide.active.modals",function(e){var t;return t=function(){return window.activeModal=e.modal("show"),window.activeModal.off("hidden.activeModal").on("hidden.activeModalx",function(){return window.activeModal=void 0})},window.activeModal?(window.activeModal.on("hidden.activeModal",function(){return t(),window.activeModal?window.activeModal.off("hidden.activeModal"):void 0}),window.activeModal.modal("hide")):t()})}.call(this),function(){var e;e='<div role="unsubscribe_confirm" class="modal" style=\'display: none\'>\n  <div class="modal-header">\n    <button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button>\n    <span style="color: #3C3C3C; font-size: 16px; line-height: 25px; font-weight: bold; text-transform: uppercase;">Unsubscribe Confirmation</span>\n  </div>\n  <div class="modal-body">\n    <p style="font-size: 14px; color: #3C3C3C">Are you sure you want to unsubscribe from the following lists? You\'ll miss out on a heap of great information!</p>\n    <ul style="padding-left: 30px; font-size: 14px; line-height: 20px;">\n\n    </ul>\n    <br />\n  </div>\n  <div class="modal-footer">\n    <button class="btn btn-success right" data-dismiss="modal" id=cancel >Oops! Cancel!</button>\n    <button class="btn left" type=submit id=confirm >Confirm Unsubscribe</button>\n  </div>\n</div>',amplify.subscribe("members.email_preferences",function(){var t,i;return t=$(".email-preferences"),t.length?(i=$(e),i.appendTo("body"),t.find("#ssubmit").removeAttr("disabled").removeClass("busy"),i.on("click","#cancel",function(e){return e.preventDefault(),t.find(".unsubscribed").each(function(e,t){return $(t).attr("checked","checked")
}),i.modal("hide"),t.find(".show-modal").removeClass("unsubscribed"),i.find("ul").html("")}),i.on("click","#confirm",function(e){return e.preventDefault(),i.modal("hide"),t.find("#form-email-preferences").submit()}),t.on("click",".show-modal",function(){return!$(this).is(":checked")&&$(this).data("checked")?$(this).addClass("unsubscribed"):void 0}),t.on("click","#ssubmit",function(e){var n,s;return e.preventDefault(),n=t.find(".unsubscribed"),n.length?(s=i.find("ul"),n.each(function(e,t){return s.append("<li>"+$(t).data("name")+"</li>")}),i.modal("show")):t.find("#form-email-preferences").submit()})):void 0})}.call(this),function(){amplify.subscribe("registrations.form",function(){return $("select").select2({width:"284px"})}),amplify.subscribe("registrations.new",function(){return amplify.publish("registrations.form")}),amplify.subscribe("registrations.create",function(){return amplify.publish("registrations.form")}),amplify.subscribe("registrations.modal",function(e,t){var i,n,s;return e.find("#member_country").select2({width:"284px"}),s=function(){return e.find("#sign_up").removeAttr("disabled").removeClass("busy").find("#text").html("Become a Member")},i=function(t){return t.length&&e.find(".alert").html(t).fadeIn(),s()},e.on("click","#sign_up",function(e){var t;return e.preventDefault(),e.stopPropagation(),$(this).addClass("busy").attr("disabled","disabled").find("#text").html("Registering..."),t=setTimeout(function(){return n(),clearTimeout(t)},300)}),n=function(){var n;return n=[],$.trim(e.find("#member_username").val()).length||n.push("Username is required"),$.trim(e.find("#member_email").val()).length||n.push("Email is required"),$.trim(e.find("#member_password").val()).length||n.push("Password is required"),$.trim(e.find("#member_password_confirmation").val()).length||n.push("Password Confirmation is required"),$.trim(e.find("#member_postcode").val()).length||n.push("Postcode is required"),e.find('[name="member[local_bike_store]"]:checked').length||e.find("#member_local_bike_store").val().length||n.push("One user type must be chosen"),e.find(".captcha-image-active").length||n.push("Captcha is required"),$.trim(e.find("#member_country").select2("val")).length||n.push("Country is required"),n.length?i(n.join("<br />")):($.ajaxSetup({async:!1}),Bikeroar.http.post("/members.json",e.find("#sign-up-form").serialize()).done(function(){var e;return location.href.indexOf("/forum")>0&&location.href.indexOf("#")>0&&(e=location.href.indexOf("#"),t=location.href.substr(0,e)),location.href=t||location.href}).fail(function(e){var t,n,r,o,a,l,c;try{if($(".control-group").removeClass("errors"),r=_(JSON.parse(e.responseText).errors),r.isEmpty())return s();for(n=r.map(function(e,t){return"base"!==t&&(e="<strong>"+t[0].toUpperCase()+t.slice(1,t.length)+":</strong> "+e),e}),i(n.join("<br />")),l=r.keys(),c=[],o=0,a=l.length;a>o;o++)t=l[o],c.push($("#member_"+t+".new-member-modal-field").parents(".control-group").addClass("error"));return c}catch(u){return s()}}).always(function(){return $.ajaxSetup({async:!0})}))},e.on("hidden",function(){return e.find(".alert").html("").hide(),e.off("submit.signForm")})}),$(function(){return $(document).on("click",".sign-up",function(e){var t;return e.preventDefault(),e.stopPropagation(),t=$("#sign-up-modal"),t.length?(t=t.modal("hide"),amplify.publish("hide.active.modals",t),amplify.publish("registrations.modal",t,$(this).data("href"))):$("#sign-up-register").trigger("click")})})}.call(this),amplify.subscribe("login.modal",function(e,t){var i=function(t){e.find(".alert").fadeIn().find("span").html(" "+t),e.find("#sign_in").removeAttr("disabled").removeClass("busy").find("#text").html("Sign in")};e.on("click","#sign_in",function(e){e.preventDefault(),e.stopPropagation(),$(this).addClass("busy").attr("disabled","disabled").find("#text").html("Logging in...");var t=setTimeout(function(){n(),clearTimeout(t)},300)});var n=function(){var n=$.trim(e.find("#member_login").val()),s=$.trim(e.find("#member_password").val()),r=[];n.length||r.push("Email or Username is required"),s.length||r.push("Password is required"),r.length?i(r.join(", ")):($.ajaxSetup({async:!1}),Bikeroar.http.post("/members/sign_in",e.find("#sign-in-form").serialize()).done(function(){location.href=t||location.href}).fail(function(e){i(e.responseText)}).always(function(){$.ajaxSetup({async:!0})}))};e.on("hidden",function(){window.location.href.indexOf("/forum")>0&&window.location.hash.length>0&&(window.location.hash=""),e.off("submit.signForm")})}),$(function(){$(".rf").click(function(e){e.preventDefault(),e.stopPropagation(),href=$(this).data("href"),$modal=$("#restricted-feature-modal").modal("hide"),amplify.publish("hide.active.modals",$modal),amplify.publish("login.modal",$modal,href)}),$(document).on("click",".sign-in",function(e){e.preventDefault(),e.stopPropagation(),$modal=$("#sign-modal").modal("hide"),amplify.publish("hide.active.modals",$modal),amplify.publish("login.modal",$modal)})}),function(){var e,t,i,n;e='<div id="error_explanation"><h2>There was an error:</h2><ul></ul></div>',n=function(t){var i,n,s;return $("#error_explanation").remove(),i=$(e),n=i.find("ul"),s=_.map(t,function(e){return"<li>"+e+"</li>"}),n.append(s.join("")),$("#member-form").prepend(i)},t=function(){var e,t,i,s,r;return Bikeroar.phone.init(),Bikeroar.phone.mask(),$("select").chosen({allow_single_deselect:!0}),s=Bikeroar.LocationUtility,i=$("#member_state"),e=$("#member_country"),t=$("#member_phone"),e.on("change",function(){var e,i,n,s;return i=$(this).find(":selected").data("country-code"),e=t[0].className,n=e.slice(e.indexOf("phone"),Bikeroar.phone.PHONE_CLASS_LENGHT),s="phone-"+i.toLowerCase(),t.removeClass(n).addClass(s),Bikeroar.phone.mask(i.toLowerCase())}),new s("#member_country",i,[function(){return i.append(new Option("","",null,!0,!0)),i.val("").trigger("liszt:updated")}]).updateCountry(),$(".validate-to-claim").click(function(t){var s;return s=[],e.val().length||s.push("Country can't be blank"),i.val().length||s.push("State can't be blank"),$("#member_email").val().length||s.push("Email can't be blank"),$("#member_first_name").val().length||s.push("First Name can't be blank"),$("#member_last_name").val().length||s.push("Last Name can't be blank"),$("#member_phone").val().length||s.push("Phone can't be blank"),$("#member_postcode").val().length||s.push("Postcode can't be blank"),s.length?(t.preventDefault(),n(s)):void 0}),r=(new Date).getFullYear(),$(".datepicker").attr("readonly","readonly").datepicker({format:"dd/mm/yyyy",dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,yearRange:""+(r-121)+":"+(r-18)})},i=function(){return $("#store_claim_authorised").click(function(){var e;return e=$("#manage"),$(this).is(":checked")?e.removeAttr("disabled").removeClass("disabled"):e.attr("disabled","disabled").addClass("disabled")})},amplify.subscribe("claim_stores.confirm_claim",i),amplify.subscribe("claim_stores.create_claim",i),amplify.subscribe("claim_stores.claim",t),amplify.subscribe("claim_stores.update_membership",t)}.call(this),function(){amplify.subscribe("login.form",function(e,t){var i,n;return n=function(t){return e.find(".alert").fadeIn().find("span").html(" "+t),e.find("#sign_in_btn").removeAttr("disabled").removeClass("busy").find("#text").html("Sign in")},e.on("click","#sign_in_btn",function(e){var t;return e.preventDefault(),e.stopPropagation(),$(this).addClass("busy").attr("disabled","disabled").find("#text").html("Logging in..."),t=setTimeout(function(){return i(),clearTimeout(t)},300)}),i=function(){var i,s,r;return s=$.trim(e.find("#member_login").val()),r=$.trim(e.find("#member_password").val()),i=[],s.length||i.push("Email or Username is required"),r.length||i.push("Password is required"),i.length?n(i.join(", ")):($.ajaxSetup({async:!1}),Bikeroar.http.post("/members/sign_in?invite_code="+e.find("#invite_code").val(),e.find("#sign-in-form").serialize()).done(function(){return location.href=t||location.href}).fail(function(e){return n(e.responseText)}).alwa(function(){return $.ajaxSetup({async:!0})}))}}),jQuery(function(){var e;return e=$("#register"),e.length?amplify.publish("login.form",e,$("#redirect_url").val()):void 0})}.call(this),function(){amplify.subscribe("nurture_contents.show",function(){return Analytical.event("Viewed Nurture Content Page",{nurture_program_id:""+$("#nurture_program_id").val(),step:""+$("#nurture_content_step").val(),nurture_subscriber_id:""+$("#nurture_subscriber_id").val(),member_id:""+$("#member_id").val()})})}.call(this),/*!
 * jQuery UI Widget 1.10.4+amd
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){var i=0,n=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(r){}s(t)},e.widget=function(t,i,n){var s,r,o,a,l={},c=t.split(".")[0];t=t.split(".")[1],s=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[c]=e[c]||{},r=e[c][t],o=e[c][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,r=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=r,t}}(),void 0):(l[t]=n,void 0)}),o.prototype=e.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||t:t},l,{constructor:o,namespace:c,widgetName:t,widgetFullName:s}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(i){for(var s,r,o=n.call(arguments,1),a=0,l=o.length;l>a;a++)for(s in o[a])r=o[a][s],o[a].hasOwnProperty(s)&&r!==t&&(i[s]=e.isPlainObject(r)?e.isPlainObject(i[s])?e.widget.extend({},i[s],r):e.widget.extend({},r):r);return i},e.widget.bridge=function(i,s){var r=s.prototype.widgetFullName||i;e.fn[i]=function(o){var a="string"==typeof o,l=n.call(arguments,1),c=this;return o=!a&&l.length?e.widget.extend.apply(null,[o].concat(l)):o,a?this.each(function(){var n,s=e.data(this,r);return s?e.isFunction(s[o])&&"_"!==o.charAt(0)?(n=s[o].apply(s,l),n!==s&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+o+"'")}):this.each(function(){var t=e.data(this,r);t?t.option(o||{})._init():e.data(this,r,new s(o,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var s,r,o,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},s=i.split("."),i=s.shift(),s.length){for(r=a[i]=e.widget.extend({},this.options[i]),o=0;o<s.length-1;o++)r[s[o]]=r[s[o]]||{},r=r[s[o]];if(i=s.pop(),1===arguments.length)return r[i]===t?null:r[i];r[i]=n}else{if(1===arguments.length)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var s,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,o){function a(){return t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?s.delegate(u,c,a):i.bind(c,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,r,o=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(s in r)s in i||(i[s]=r[s]);return this.element.trigger(i,n),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,r){"string"==typeof s&&(s={effect:s});var o,a=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),o=!e.isEmptyObject(s),s.complete=r,s.delay&&n.delay(s.delay),o&&e.effects&&e.effects.effect[a]?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,r):n.queue(function(i){e(this)[t](),r&&r.call(n[0]),i()})}})}),/*
 * jQuery Iframe Transport Plugin 1.8.2
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(i){if(i.async){var n,s,r,o=i.initialIframeSrc||"javascript:false;";return{send:function(a,l){n=e('<form style="display:none;"></form>'),n.attr("accept-charset",i.formAcceptCharset),r=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+r+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+r+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+r+"_method=PATCH",i.type="POST"),t+=1,s=e('<iframe src="'+o+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,r=e.isArray(i.paramName)?i.paramName:[i.paramName];s.unbind("load").bind("load",function(){var t;try{if(t=s.contents(),!t.length||!t[0].firstChild)throw new Error}catch(i){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+o+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",s.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&e.each(i.formData,function(t,i){e('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(n)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(t=i.fileInput.clone(),i.fileInput.after(function(e){return t[e]}),i.paramName&&i.fileInput.each(function(t){e(this).prop("name",r[t]||i.paramName)}),n.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),n.submit(),t&&t.length&&i.fileInput.each(function(i,n){var s=e(t[i]);e(n).prop("name",s.prop("name")).attr("form",s.attr("form")),s.replaceWith(n)})}),n.append(s).appendTo(document.body)},abort:function(){s&&s.unbind("load").prop("src",o),n&&n.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var i=t&&t[0];return i&&e.isXMLDoc(i)?i:e.parseXML(i.XMLDocument&&i.XMLDocument.xml||e(i.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),/*
 * jQuery File Upload Plugin 5.40.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},formData:function(e){return e.serializeArray()},add:function(t,i){return t.isDefaultPrevented()?!1:((i.autoUpload||i.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()}),void 0)},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var n=e-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=8*(t-this.loaded)*(1e3/n),this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,i){if(t.lengthComputable){var n,s=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&s-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=s,n=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=n-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(s,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=n,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(s,n,i.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),i),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var i=this,n=t.xhr?t.xhr():e.ajaxSettings.xhr();n.upload&&(e(n.upload).bind("progress",function(e){var n=e.originalEvent;e.lengthComputable=n.lengthComputable,e.loaded=n.loaded,e.total=n.total,i._onProgress(e,t)}),t.xhr=function(){return n})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,n=this,s=t.files[0],r=t.multipart||!e.support.xhrFileUpload,o="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),r&&!t.blob&&this._isInstanceOf("File",s)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(s.name)+'"'),r?e.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:o,value:t.blob}):e.each(t.files,function(n,s){i.push({name:"array"===e.type(t.paramName)&&t.paramName[n]||o,value:s})})):(n._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(o,t.blob,s.name):e.each(t.files,function(s,r){(n._isInstanceOf("File",r)||n._isInstanceOf("Blob",r))&&i.append("array"===e.type(t.paramName)&&t.paramName[s]||o,r,r.uploadName||r.name)})),t.data=i):(t.contentType=s.type||"application/octet-stream",t.data=t.blob||s),t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),n=t.paramName;return n?e.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",s=(t.prop("files")||[1]).length;s;)n.push(i),s-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,i,n){var s=e.Deferred(),r=s.promise();return i=i||this.options.context||r,t===!0?s.resolveWith(i,n):t===!1&&s.rejectWith(i,n),r.abort=s.promise,this._enhancePromise(r)},_addConvenienceMethods:function(t,i){var n=this,s=function(t){return e.Deferred().resolveWith(n,t).promise()};i.process=function(t,r){return(t||r)&&(i._processQueue=this._processQueue=(this._processQueue||s([this])).pipe(function(){return i.errorThrown?e.Deferred().rejectWith(n,[i]).promise():s(arguments)}).pipe(t,r)),this._processQueue||s([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=n._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&n._onSend(t,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",n._trigger("fail",null,this),n._getXHRPromise(!1))},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===n._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var n,s,r=this,o=t.files[0],a=o.size,l=t.uploadedBytes,c=t.maxChunkSize||a,u=this._blobSlice,d=e.Deferred(),h=d.promise();return this._isXHRUpload(t)&&u&&(l||a>c)&&!t.data?i?!0:l>=a?(o.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",o.error])):(s=function(){var i=e.extend({},t),h=i._progress.loaded;i.blob=u.call(o,l,l+c,o.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+a,r._initXHRData(i),r._initProgressListener(i),n=(r._trigger("chunksend",null,i)!==!1&&e.ajax(i)||r._getXHRPromise(!1,i.context)).done(function(n,o,c){l=r._getUploadedBytes(c)||l+i.chunkSize,h+i.chunkSize-i._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=o,i.jqXHR=c,r._trigger("chunkdone",null,i),r._trigger("chunkalways",null,i),a>l?s():d.resolveWith(i.context,[n,o,c])}).fail(function(e,t,n){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,r._trigger("chunkfail",null,i),r._trigger("chunkalways",null,i),d.rejectWith(i.context,[e,t,n])})},this._enhancePromise(h),h.abort=function(){return n.abort()},s(),h):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,n,s){var r=s._progress.total,o=s._response;s._progress.loaded<r&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:r,total:r}),s),o.result=s.result=t,o.textStatus=s.textStatus=i,o.jqXHR=s.jqXHR=n,this._trigger("done",null,s)},_onFail:function(e,t,i,n){var s=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),s.jqXHR=n.jqXHR=e,s.textStatus=n.textStatus=t,s.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(e,t,i,n){this._trigger("always",null,n)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var n,s,r,o,a=this,l=a._getAJAXSettings(i),c=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,n=n||((s||a._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&a._getXHRPromise(!1,l.context,s)||a._chunkedUpload(l)||e.ajax(l)).done(function(e,t,i){a._onDone(e,t,i,l)}).fail(function(e,t,i){a._onFail(e,t,i,l)}).always(function(e,t,i){if(a._onAlways(e,t,i,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var n=a._slots.shift();n;){if("pending"===a._getDeferredState(n)){n.resolve();break}n=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=e.Deferred(),this._slots.push(r),o=r.pipe(c)):(this._sequence=this._sequence.pipe(c,c),o=this._sequence),o.abort=function(){return s=[void 0,"abort","abort"],n?n.abort():(r&&r.rejectWith(l.context,s),c())},this._enhancePromise(o)):c()},_onAdd:function(t,i){var n,s,r,o,a=this,l=!0,c=e.extend({},this.options,i),u=i.files,d=u.length,h=c.limitMultiFileUploads,f=c.limitMultiFileUploadSize,p=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),v=0;if(!f||d&&void 0!==u[0].size||(f=void 0),(c.singleFileUploads||h||f)&&this._isXHRUpload(c))if(c.singleFileUploads||f||!h)if(!c.singleFileUploads&&f)for(r=[],n=[],o=0;d>o;o+=1)m+=u[o].size+p,(o+1===d||m+u[o+1].size+p>f||h&&o+1-v>=h)&&(r.push(u.slice(v,o+1)),s=g.slice(v,o+1),s.length||(s=g),n.push(s),v=o+1,m=0);else n=g;else for(r=[],n=[],o=0;d>o;o+=h)r.push(u.slice(o,o+h)),s=g.slice(o,o+h),s.length||(s=g),n.push(s);else r=[u],n=[g];return i.originalFiles=u,e.each(r||u,function(s,o){var c=e.extend({},i);return c.files=r?o:[o],c.paramName=n[s],a._initResponseObject(c),a._initProgressObject(c),a._addConvenienceMethods(t,c),l=a._trigger("add",e.Event("add",{delegatedEvent:t}),c)}),l},_replaceFileInput:function(t){var i=t.clone(!0);e("<form></form>").append(i)[0].reset(),t.after(i).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,n){return n===t[0]?i[0]:n}),t[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,i){var n,s=this,r=e.Deferred(),o=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])};return i=i||"",t.isFile?t._file?(t._file.relativePath=i,r.resolve(t._file)):t.file(function(e){e.relativePath=i,r.resolve(e)},o):t.isDirectory?(n=t.createReader(),n.readEntries(function(e){s._handleFileTreeEntries(e,i+t.name+"/").done(function(e){r.resolve(e)}).fail(o)},o)):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,i){var n=this;return e.when.apply(e,e.map(t,function(e){return n._handleFileTreeEntry(e,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i,n,s=t.prop("webkitEntries")||t.prop("entries");if(s&&s.length)return this._handleFileTreeEntries(s);if(i=e.makeArray(t.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(n=t.prop("value"),!n)return e.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,n={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(s){n.files=s,i.options.replaceFileInput&&i._replaceFileInput(n.fileInput),i._trigger("change",e.Event("change",{delegatedEvent:t}),n)!==!1&&i._onAdd(t,n)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,n={files:[]};i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&n.files.push(i)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),n)!==!1&&this._onAdd(t,n))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,n=t.dataTransfer,s={};n&&n.files&&n.files.length&&(t.preventDefault(),this._getDroppedFiles(n).always(function(n){s.files=n,i._trigger("drop",e.Event("drop",{delegatedEvent:t}),s)!==!1&&i._onAdd(t,s)}))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=t.dataTransfer;i&&-1!==e.inArray("Files",i.types)&&this._trigger("dragover",e.Event("dragover",{delegatedEvent:t}))!==!1&&(t.preventDefault(),i.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var n=-1!==e.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&"string"===e.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options,n=e(this.element[0].cloneNode(!1));e.each(n.data(),function(e,s){var r="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();n.attr(r)&&(t._isRegExpOption(e,s)&&(s=t._getRegExp(s)),i[e]=s)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,n,s=this,r=e.Deferred(),o=r.promise();return o.abort=function(){return n=!0,i?i.abort():(r.reject(null,"abort","abort"),o)},this._getFileInputFiles(t.fileInput).always(function(e){if(!n){if(!e.length)return r.reject(),void 0;t.files=e,i=s._onSend(null,t).then(function(e,t,i){r.resolve(e,t,i)},function(e,t,i){r.reject(e,t,i)})}}),this._enhancePromise(o)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(){var e,t;String.prototype.strip=function(){return null!=String.prototype.trim?this.trim():this.replace(/^\s+|\s+$/g,"")},String.prototype.lstrip=function(){return this.replace(/^\s+/g,"")},String.prototype.rstrip=function(){return this.replace(/\s+$/g,"")},jQuery(function(){return $.fn.UItoTop(),$("table.tablesorter").tablesorter(),$(".multi-select").multiSelect(),$(".multi-select-all").on("click",function(){return $(".multi-select").multiSelect("select_all"),!1}),$(".multi-deselect-all").on("click",function(){return $(".multi-select").multiSelect("deselect_all"),!1}),$(".select2").select2(),$("body").on("mouseover","a[data-image]",function(){var e;return e=$(this).data("image"),tooltip.show("<img src='"+e+"'>")}),$("body").on("mouseout","a[data-image]",function(){return tooltip.hide()}),$("body").on("change","@pagination @per-page",function(){return $(this).parents("@pagination form").submit()}),$("@chosen-select").chosen({allow_single_deselect:!0}),$(".flag-opt").on("click",function(){var e;return e=this,$.ajax({url:"/country/"+$(this).data("ref")+".json",type:"GET",dataType:"json",error:function(){},success:function(){return $("td.flag-codes a").removeClass("selected"),$(e).addClass("selected"),location.reload()}})}),$(".read_more_link").on("click",function(){var e;return e=$(this).parents(".wraped_text"),e.find(".text_part").hide(),e.find(".whole_text").show()}),$(".less_link").on("click",function(){var e;return e=$(this).parents(".wraped_text"),e.find(".text_part").show(),e.find(".whole_text").hide()})}),$("a[rel*=leanModal]").leanModal({top:100,overlay:.8,closeButton:".modal_close"}),$("#toc-pop").on("click",function(){return $.ajax({url:"/terms-and-conditions.json",type:"GET"}).done(function(e){return $("#toc-content .wysihtml5-content").html(e.content)}).fail(function(){return $("#toc-content .wysihtml5-content").html("No content yet.")})}),t=setTimeout(function(){return $("#flash_notice").fadeOut("slow")},6e3),e=setTimeout(function(){return $("#flash_alert").fadeOut("slow")},6e3),$("#flash_notice").on("click",function(){return clearTimeout(t),$("#flash_notice").fadeOut("slow")}),$("#flash_alert").on("click",function(){return clearTimeout(e),$("#flash_alert").fadeOut("slow")}),$("#user-nav li").hover(function(){return $("ul",this).show()},function(){return $("ul",this).hide()}),$(".popular-cta h3").click(function(){return $(this).next().toggle(),this.toggleClass("active")}),$("input.default-value").each(function(){var e,t=this;return e=this.value,$(this).focus(function(){return t.value===e?t.value="":void 0}),$(this).blur(function(){return""===t.value?t.value=e:void 0})}),window.readCookie=function(e){var t,i,n,s,r,o;for(i=document.cookie.split(";"),s=e+"=",n=r=0,o=i.length;o>=0?o>=r:r>=o;n=o>=0?++r:--r){if(t=i[n],"undefined"==typeof t)return null;for(;" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(s))return t.substring(s.length,t.length)}return null},$("#footer-lt ul li:first").addClass("first"),$(".classifieds-meta li:last-child").addClass("last"),$(".specs-table tr:even").addClass("alt"),$(".chosen-select").chosen(),$(".btn-claim-store").hover(function(){var e,t,i;return t=$(this).offset(),e=t.left,i=t.top,$("i.hint").addClass("show").offset({top:i-24,left:e+230})}),$(".btn-claim-store").mouseout(function(){return $("i.hint").removeClass("show")}),amplify.subscribe("show_confirm",function(e){var t;return t=$("#dialog-confirm"),0===t.length&&(t=$("<div id='dialog-confirm'>"),$("body").append(t),t.html("<p style='margin-top: 35px;'>"+e.text+"</p>")),t.dialog({resizable:!1,modal:!0,buttons:e.buttons,title:e.title||"Confirmation"})}),amplify.subscribe("search_with_current_location",function(e){return Modernizr.geolocation?navigator.geolocation.getCurrentPosition(e):amplify.publish("show_confirm",{text:'Sorry, your internet browser does not support Geolocation. Please <a href="http://updatemybrowser.org/" target="_blank">upgrade your browser</a> to use this feature.',title:"Warning",buttons:{OK:function(){return $(this).dialog("close")}}})})}.call(this);